import{v as _r,i as Fe,g as Sr,w as ot,o as Et,a as ht,b as bl,c as z,r as U,d as Lt,m as wl,e as Cl,p as xl,f as kt,h as pt,u as st,j as ce,k as lt,l as gd,n as mn,q as Ma,C as pd,s as qo,t as se,x as bi,y as p,z as Yo,L as _l,A as yn,B as vd,D as md,E as vr,F as Ot,G as Jr,V as Qr,H as yd,I as Na,J as wi,K as Ci,M as bd,N as wd,O as Xo,P as Cd,Q as tn,R as Sl,S as Zo,T as Jo,U as jn,W as kl,X as _o,Y as Ba,Z as xd,_ as $a,$ as za,a0 as Vr,a1 as _d,a2 as Ha,a3 as Sd,a4 as kd,a5 as Td,a6 as Ed,a7 as Pd,a8 as Rd,a9 as Ad,aa as Tl,ab as Dt,ac as xt,ad as O,ae as W,af as ee,ag as ft,ah as De,ai as ye,aj as Pt,ak as He,al as Wn,am as Id,an as Bn,ao as gn,ap as X,aq as at,ar as Qo,as as Gr,at as _t,au as El,av as Pl,aw as pn,ax as Od,ay as nn,az as ei,aA as So,aB as Ua,aC as Ld,aD as Hn,aE as Dd,aF as ja,aG as ko,aH as Fd,aI as Md,aJ as Ie,aK as xe,aL as ea,aM as Wa,aN as Nd,aO as Rl,aP as Al,aQ as Il,aR as Bd,aS as $d,aT as zd,aU as ta,aV as xi,aW as Hd,aX as Ud,aY as jd,aZ as Vn,a_ as Ol,a$ as Wd,b0 as Va,b1 as Vd,b2 as mr,b3 as Gd,b4 as To,b5 as Kd,b6 as Ga,b7 as qd,b8 as Yd,b9 as Ll,ba as Dl,bb as Fl,bc as Ml,bd as Nl,be as dr,bf as Ka,bg as Xd,bh as Zd,bi as Jd,bj as et,bk as Qd,bl as Ye,bm as zi,bn as Rt,bo as _i,bp as ef,bq as tf,br as nf,bs as rf,bt as of}from"./index.772ca4f0.js";let ti=[];const Bl=new WeakMap;function af(){ti.forEach(t=>t(...Bl.get(t))),ti=[]}function Si(t,...i){Bl.set(t,i),!ti.includes(t)&&ti.push(t)===1&&requestAnimationFrame(af)}function ni(t,i){let{target:r}=t;for(;r;){if(r.dataset&&r.dataset[i]!==void 0)return!0;r=r.parentElement}return!1}function sf(t){if(typeof t=="number")return{"":t.toString()};const i={};return t.split(/ +/).forEach(r=>{if(r==="")return;const[n,e]=r.split(":");e===void 0?i[""]=n:i[n]=e}),i}function ir(t,i){var r;if(t==null)return;const n=sf(t);if(i===void 0)return n[""];if(typeof i=="string")return(r=n[i])!==null&&r!==void 0?r:n[""];if(Array.isArray(i)){for(let e=i.length-1;e>=0;--e){const o=i[e];if(o in n)return n[o]}return n[""]}else{let e,o=-1;return Object.keys(n).forEach(a=>{const s=Number(a);!Number.isNaN(s)&&i>=s&&s>=o&&(o=s,e=n[a])}),e}}function $l(t,i="default",r=[]){const e=t.$slots[i];return e===void 0?r:e()}function lf(t){switch(typeof t){case"string":return t||void 0;case"number":return String(t);default:return}}function Hi(t){const i=t.filter(r=>r!==void 0);if(i.length!==0)return i.length===1?i[0]:r=>{t.forEach(n=>{n&&n(r)})}}function uf(t){var i;const r=(i=t.dirs)===null||i===void 0?void 0:i.find(({dir:n})=>n===_r);return!!(r&&r.value===!1)}const cf=/^(\d|\.)+$/,qa=/(\d|\.)+/;function bt(t,{c:i=1,offset:r=0,attachPx:n=!0}={}){if(typeof t=="number"){const e=(t+r)*i;return e===0?"0":`${e}px`}else if(typeof t=="string")if(cf.test(t)){const e=(Number(t)+r)*i;return n?e===0?"0":`${e}px`:`${e}`}else{const e=qa.exec(t);return e?t.replace(qa,String((Number(e[0])+r)*i)):t}return t}let Ui;function df(){return Ui===void 0&&(Ui=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Ui}function ff(t,i,r){var n;const e=Fe(t,null);if(e===null)return;const o=(n=Sr())===null||n===void 0?void 0:n.proxy;ot(r,a),a(r.value),Et(()=>{a(void 0,r.value)});function a(u,c){const d=e[i];c!==void 0&&s(d,c),u!==void 0&&l(d,u)}function s(u,c){u[c]||(u[c]=[]),u[c].splice(u[c].findIndex(d=>d===o),1)}function l(u,c){u[c]||(u[c]=[]),~u[c].findIndex(d=>d===o)||u[c].push(o)}}let zn,gr;const hf=()=>{var t,i;zn=bl?(i=(t=document)===null||t===void 0?void 0:t.fonts)===null||i===void 0?void 0:i.ready:void 0,gr=!1,zn!==void 0?zn.then(()=>{gr=!0}):gr=!0};hf();function gf(t){if(gr)return;let i=!1;ht(()=>{gr||zn==null||zn.then(()=>{i||t()})}),Et(()=>{i=!0})}function yr(t,i){return ot(t,r=>{r!==void 0&&(i.value=r)}),z(()=>t.value===void 0?i.value:t.value)}function zl(t,i){return z(()=>{for(const r of i)if(t[r]!==void 0)return t[r];return t[i[i.length-1]]})}const pf={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function vf(t){return`(min-width: ${t}px)`}const or={};function mf(t=pf){if(!bl)return z(()=>[]);if(typeof window.matchMedia!="function")return z(()=>[]);const i=U({}),r=Object.keys(t),n=(e,o)=>{e.matches?i.value[o]=!0:i.value[o]=!1};return r.forEach(e=>{const o=t[e];let a,s;or[o]===void 0?(a=window.matchMedia(vf(o)),a.addEventListener?a.addEventListener("change",l=>{s.forEach(u=>{u(l,e)})}):a.addListener&&a.addListener(l=>{s.forEach(u=>{u(l,e)})}),s=new Set,or[o]={mql:a,cbs:s}):(a=or[o].mql,s=or[o].cbs),s.add(n),a.matches&&s.forEach(l=>{l(a,e)})}),Et(()=>{r.forEach(e=>{const{cbs:o}=or[t[e]];o.has(n)&&o.delete(n)})}),z(()=>{const{value:e}=i;return r.filter(o=>e[o])})}const na=Lt("n-internal-select-menu"),Hl=Lt("n-internal-select-menu-body"),Ul="__disabled__";function Kt(t){const i=Fe(wl,null),r=Fe(Cl,null),n=Fe(xl,null),e=Fe(Hl,null),o=U();if(typeof document!="undefined"){o.value=document.fullscreenElement;const a=()=>{o.value=document.fullscreenElement};ht(()=>{kt("fullscreenchange",document,a)}),Et(()=>{pt("fullscreenchange",document,a)})}return st(()=>{var a;const{to:s}=t;return s!==void 0?s===!1?Ul:s===!0?o.value||"body":s:i!=null&&i.value?(a=i.value.$el)!==null&&a!==void 0?a:i.value:r!=null&&r.value?r.value:n!=null&&n.value?n.value:e!=null&&e.value?e.value:s!=null?s:o.value||"body"})}Kt.tdkey=Ul;Kt.propTo={type:[String,Object,Boolean],default:void 0};let Yt=null;function jl(){if(Yt===null&&(Yt=document.getElementById("v-binder-view-measurer"),Yt===null)){Yt=document.createElement("div"),Yt.id="v-binder-view-measurer";const{style:t}=Yt;t.position="fixed",t.left="0",t.right="0",t.top="0",t.bottom="0",t.pointerEvents="none",t.visibility="hidden",document.body.appendChild(Yt)}return Yt.getBoundingClientRect()}function yf(t,i){const r=jl();return{top:i,left:t,height:0,width:0,right:r.width-t,bottom:r.height-i}}function ji(t){const i=t.getBoundingClientRect(),r=jl();return{left:i.left-r.left,top:i.top-r.top,bottom:r.height+r.top-i.bottom,right:r.width+r.left-i.right,width:i.width,height:i.height}}function bf(t){return t.nodeType===9?null:t.parentNode}function Wl(t){if(t===null)return null;const i=bf(t);if(i===null)return null;if(i.nodeType===9)return document;if(i.nodeType===1){const{overflow:r,overflowX:n,overflowY:e}=getComputedStyle(i);if(/(auto|scroll|overlay)/.test(r+e+n))return i}return Wl(i)}const wf=ce({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(t){var i;lt("VBinder",(i=Sr())===null||i===void 0?void 0:i.proxy);const r=Fe("VBinder",null),n=U(null),e=y=>{n.value=y,r&&t.syncTargetWithParent&&r.setTargetRef(y)};let o=[];const a=()=>{let y=n.value;for(;y=Wl(y),y!==null;)o.push(y);for(const w of o)kt("scroll",w,d,!0)},s=()=>{for(const y of o)pt("scroll",y,d,!0);o=[]},l=new Set,u=y=>{l.size===0&&a(),l.has(y)||l.add(y)},c=y=>{l.has(y)&&l.delete(y),l.size===0&&s()},d=()=>{Si(f)},f=()=>{l.forEach(y=>y())},h=new Set,g=y=>{h.size===0&&kt("resize",window,b),h.has(y)||h.add(y)},v=y=>{h.has(y)&&h.delete(y),h.size===0&&pt("resize",window,b)},b=()=>{h.forEach(y=>y())};return Et(()=>{pt("resize",window,b),s()}),{targetRef:n,setTargetRef:e,addScrollListener:u,removeScrollListener:c,addResizeListener:g,removeResizeListener:v}},render(){return gd("binder",this.$slots)}});var Vl=wf,Gl=ce({name:"Target",setup(){const{setTargetRef:t,syncTarget:i}=Fe("VBinder");return{syncTarget:i,setTargetDirective:{mounted:t,updated:t}}},render(){const{syncTarget:t,setTargetDirective:i}=this;return t?mn(Ma("follower",this.$slots),[[i]]):Ma("follower",this.$slots)}});const Rn="@@mmoContext",Cf={mounted(t,{value:i}){t[Rn]={handler:void 0},typeof i=="function"&&(t[Rn].handler=i,kt("mousemoveoutside",t,i))},updated(t,{value:i}){const r=t[Rn];typeof i=="function"?r.handler?r.handler!==i&&(pt("mousemoveoutside",t,r.handler),r.handler=i,kt("mousemoveoutside",t,i)):(t[Rn].handler=i,kt("mousemoveoutside",t,i)):r.handler&&(pt("mousemoveoutside",t,r.handler),r.handler=void 0)},unmounted(t){const{handler:i}=t[Rn];i&&pt("mousemoveoutside",t,i),t[Rn].handler=void 0}};var xf=Cf;const{c:Qt}=pd(),ra="vueuc-style";function Ya(t){return t&-t}class _f{constructor(i,r){this.l=i,this.min=r;const n=new Array(i+1);for(let e=0;e<i+1;++e)n[e]=0;this.ft=n}add(i,r){if(r===0)return;const{l:n,ft:e}=this;for(i+=1;i<=n;)e[i]+=r,i+=Ya(i)}get(i){return this.sum(i+1)-this.sum(i)}sum(i){if(i===void 0&&(i=this.l),i<=0)return 0;const{ft:r,min:n,l:e}=this;if(i>e)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let o=i*n;for(;i>0;)o+=r[i],i-=Ya(i);return o}getBound(i){let r=0,n=this.l;for(;n>r;){const e=Math.floor((r+n)/2),o=this.sum(e);if(o>i){n=e;continue}else if(o<i){if(r===e)return this.sum(r+1)<=i?r+1:e;r=e}else return e}return r}}const Or={top:"bottom",bottom:"top",left:"right",right:"left"},Xa={start:"end",center:"center",end:"start"},Wi={top:"height",bottom:"height",left:"width",right:"width"},Sf={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},kf={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Tf={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},Za={top:!0,bottom:!1,left:!0,right:!1},Ja={top:"end",bottom:"start",left:"end",right:"start"};function Ef(t,i,r,n,e,o){if(!e||o)return{placement:t,top:0,left:0};const[a,s]=t.split("-");let l=s!=null?s:"center",u={top:0,left:0};const c=(h,g,v)=>{let b=0,y=0;const w=r[h]-i[g]-i[h];return w>0&&n&&(v?y=Za[g]?w:-w:b=Za[g]?w:-w),{left:b,top:y}},d=a==="left"||a==="right";if(l!=="center"){const h=Tf[t],g=Or[h],v=Wi[h];if(r[v]>i[v]){if(i[h]+i[v]<r[v]){const b=(r[v]-i[v])/2;i[h]<b||i[g]<b?i[h]<i[g]?(l=Xa[s],u=c(v,g,d)):u=c(v,h,d):l="center"}}else r[v]<i[v]&&i[g]<0&&i[h]>i[g]&&(l=Xa[s])}else{const h=a==="bottom"||a==="top"?"left":"top",g=Or[h],v=Wi[h],b=(r[v]-i[v])/2;(i[h]<b||i[g]<b)&&(i[h]>i[g]?(l=Ja[h],u=c(v,h,d)):(l=Ja[g],u=c(v,g,d)))}let f=a;return i[a]<r[Wi[a]]&&i[a]<i[Or[a]]&&(f=Or[a]),{placement:l!=="center"?`${f}-${l}`:f,left:u.left,top:u.top}}function Pf(t,i){return i?kf[t]:Sf[t]}function Rf(t,i,r,n,e,o){if(o)switch(t){case"bottom-start":return{top:`${Math.round(r.top-i.top+r.height)}px`,left:`${Math.round(r.left-i.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(r.top-i.top+r.height)}px`,left:`${Math.round(r.left-i.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(r.top-i.top)}px`,left:`${Math.round(r.left-i.left)}px`,transform:""};case"top-end":return{top:`${Math.round(r.top-i.top)}px`,left:`${Math.round(r.left-i.left+r.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(r.top-i.top)}px`,left:`${Math.round(r.left-i.left+r.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(r.top-i.top+r.height)}px`,left:`${Math.round(r.left-i.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-i.top)}px`,left:`${Math.round(r.left-i.left)}px`,transform:""};case"left-end":return{top:`${Math.round(r.top-i.top+r.height)}px`,left:`${Math.round(r.left-i.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(r.top-i.top)}px`,left:`${Math.round(r.left-i.left+r.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(r.top-i.top+r.height/2)}px`,left:`${Math.round(r.left-i.left+r.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(r.top-i.top+r.height/2)}px`,left:`${Math.round(r.left-i.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(r.top-i.top+r.height)}px`,left:`${Math.round(r.left-i.left+r.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(t){case"bottom-start":return{top:`${Math.round(r.top-i.top+r.height+n)}px`,left:`${Math.round(r.left-i.left+e)}px`,transform:""};case"bottom-end":return{top:`${Math.round(r.top-i.top+r.height+n)}px`,left:`${Math.round(r.left-i.left+r.width+e)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(r.top-i.top+n)}px`,left:`${Math.round(r.left-i.left+e)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(r.top-i.top+n)}px`,left:`${Math.round(r.left-i.left+r.width+e)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(r.top-i.top+n)}px`,left:`${Math.round(r.left-i.left+r.width+e)}px`,transform:""};case"right-end":return{top:`${Math.round(r.top-i.top+r.height+n)}px`,left:`${Math.round(r.left-i.left+r.width+e)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-i.top+n)}px`,left:`${Math.round(r.left-i.left+e)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(r.top-i.top+r.height+n)}px`,left:`${Math.round(r.left-i.left+e)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(r.top-i.top+n)}px`,left:`${Math.round(r.left-i.left+r.width/2+e)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(r.top-i.top+r.height/2+n)}px`,left:`${Math.round(r.left-i.left+r.width+e)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(r.top-i.top+r.height/2+n)}px`,left:`${Math.round(r.left-i.left+e)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(r.top-i.top+r.height+n)}px`,left:`${Math.round(r.left-i.left+r.width/2+e)}px`,transform:"translateX(-50%)"}}}const Af=Qt([Qt(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Qt(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Qt("> *",{pointerEvents:"all"})])]);var Kl=ce({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(t){const i=Fe("VBinder"),r=st(()=>t.enabled!==void 0?t.enabled:t.show),n=U(null),e=U(null),o=()=>{const{syncTrigger:f}=t;f.includes("scroll")&&i.addScrollListener(l),f.includes("resize")&&i.addResizeListener(l)},a=()=>{i.removeScrollListener(l),i.removeResizeListener(l)};ht(()=>{r.value&&(l(),o())});const s=qo();Af.mount({id:"vueuc/binder",head:!0,anchorMetaName:ra,ssr:s}),Et(()=>{a()}),gf(()=>{r.value&&l()});const l=()=>{if(!r.value)return;const f=n.value;if(f===null)return;const h=i.targetRef,{x:g,y:v,overlap:b}=t,y=g!==void 0&&v!==void 0?yf(g,v):ji(h);f.style.setProperty("--v-target-width",`${Math.round(y.width)}px`),f.style.setProperty("--v-target-height",`${Math.round(y.height)}px`);const{width:w,minWidth:C,placement:S,internalShift:x,flip:T}=t;f.setAttribute("v-placement",S),b?f.setAttribute("v-overlap",""):f.removeAttribute("v-overlap");const{style:_}=f;w==="target"?_.width=`${y.width}px`:w!==void 0?_.width=w:_.width="",C==="target"?_.minWidth=`${y.width}px`:C!==void 0?_.minWidth=C:_.minWidth="";const M=ji(f),E=ji(e.value),{left:R,top:P,placement:D}=Ef(S,y,M,x,T,b),A=Pf(D,b),{left:N,top:j,transform:G}=Rf(D,E,y,P,R,b);f.setAttribute("v-placement",D),f.style.setProperty("--v-offset-left",`${Math.round(R)}px`),f.style.setProperty("--v-offset-top",`${Math.round(P)}px`),f.style.transform=`translateX(${N}) translateY(${j}) ${G}`,f.style.setProperty("--v-transform-origin",A),f.style.transformOrigin=A};ot(r,f=>{f?(o(),u()):a()});const u=()=>{yn().then(l).catch(f=>console.error(f))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(f=>{ot(se(t,f),l)}),["teleportDisabled"].forEach(f=>{ot(se(t,f),u)}),ot(se(t,"syncTrigger"),f=>{f.includes("resize")?i.addResizeListener(l):i.removeResizeListener(l),f.includes("scroll")?i.addScrollListener(l):i.removeScrollListener(l)});const c=bi(),d=st(()=>{const{to:f}=t;if(f!==void 0)return f;c.value});return{VBinder:i,mergedEnabled:r,offsetContainerRef:e,followerRef:n,mergedTo:d,syncPosition:l}},render(){return p(_l,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var t,i;const r=p("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[p("div",{class:"v-binder-follower-content",ref:"followerRef"},(i=(t=this.$slots).default)===null||i===void 0?void 0:i.call(t))]);return this.zindexable?mn(r,[[Yo,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):r}})}});let Lr;function If(){return Lr===void 0&&("matchMedia"in window?Lr=window.matchMedia("(pointer:coarse)").matches:Lr=!1),Lr}let Vi;function Qa(){return Vi===void 0&&(Vi="chrome"in window?window.devicePixelRatio:1),Vi}const Of=Qt(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Qt("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Qt("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]);var Lf=ce({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(t){const i=qo();Of.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:ra,ssr:i}),ht(()=>{const{defaultScrollIndex:P,defaultScrollKey:D}=t;P!=null?g({index:P}):D!=null&&g({key:D})});let r=!1,n=!1;vd(()=>{if(r=!1,!n){n=!0;return}g({top:d.value,left:c})}),md(()=>{r=!0,n||(n=!0)});const e=z(()=>{const P=new Map,{keyField:D}=t;return t.items.forEach((A,N)=>{P.set(A[D],N)}),P}),o=U(null),a=U(void 0),s=new Map,l=z(()=>{const{items:P,itemSize:D,keyField:A}=t,N=new _f(P.length,D);return P.forEach((j,G)=>{const Q=j[A],te=s.get(Q);te!==void 0&&N.add(G,te)}),N}),u=U(0);let c=0;const d=U(0),f=st(()=>Math.max(l.value.getBound(d.value-vr(t.paddingTop))-1,0)),h=z(()=>{const{value:P}=a;if(P===void 0)return[];const{items:D,itemSize:A}=t,N=f.value,j=Math.min(N+Math.ceil(P/A+1),D.length-1),G=[];for(let Q=N;Q<=j;++Q)G.push(D[Q]);return G}),g=(P,D)=>{if(typeof P=="number"){w(P,D,"auto");return}const{left:A,top:N,index:j,key:G,position:Q,behavior:te,debounce:F=!0}=P;if(A!==void 0||N!==void 0)w(A,N,te);else if(j!==void 0)y(j,te,F);else if(G!==void 0){const K=e.value.get(G);K!==void 0&&y(K,te,F)}else Q==="bottom"?w(0,Number.MAX_SAFE_INTEGER,te):Q==="top"&&w(0,0,te)};let v,b=null;function y(P,D,A){const{value:N}=l,j=N.sum(P)+vr(t.paddingTop);if(!A)o.value.scrollTo({left:0,top:j,behavior:D});else{v=P,b!==null&&window.clearTimeout(b),b=window.setTimeout(()=>{v=void 0,b=null},16);const{scrollTop:G,offsetHeight:Q}=o.value;if(j>G){const te=N.get(P);j+te<=G+Q||o.value.scrollTo({left:0,top:j+te-Q,behavior:D})}else o.value.scrollTo({left:0,top:j,behavior:D})}}function w(P,D,A){o.value.scrollTo({left:P,top:D,behavior:A})}function C(P,D){var A,N,j;if(r||t.ignoreItemResize||R(D.target))return;const{value:G}=l,Q=e.value.get(P),te=G.get(Q),F=(j=(N=(A=D.borderBoxSize)===null||A===void 0?void 0:A[0])===null||N===void 0?void 0:N.blockSize)!==null&&j!==void 0?j:D.contentRect.height;if(F===te)return;F-t.itemSize===0?s.delete(P):s.set(P,F-t.itemSize);const le=F-te;if(le===0)return;G.add(Q,le);const ke=o.value;if(ke!=null){if(v===void 0){const je=G.sum(Q);ke.scrollTop>je&&ke.scrollBy(0,le)}else if(Q<v)ke.scrollBy(0,le);else if(Q===v){const je=G.sum(Q);F+je>ke.scrollTop+ke.offsetHeight&&ke.scrollBy(0,le)}E()}u.value++}const S=!If();let x=!1;function T(P){var D;(D=t.onScroll)===null||D===void 0||D.call(t,P),(!S||!x)&&E()}function _(P){var D;if((D=t.onWheel)===null||D===void 0||D.call(t,P),S){const A=o.value;if(A!=null){if(P.deltaX===0&&(A.scrollTop===0&&P.deltaY<=0||A.scrollTop+A.offsetHeight>=A.scrollHeight&&P.deltaY>=0))return;P.preventDefault(),A.scrollTop+=P.deltaY/Qa(),A.scrollLeft+=P.deltaX/Qa(),E(),x=!0,Si(()=>{x=!1})}}}function M(P){if(r||R(P.target)||P.contentRect.height===a.value)return;a.value=P.contentRect.height;const{onResize:D}=t;D!==void 0&&D(P)}function E(){const{value:P}=o;P!=null&&(d.value=P.scrollTop,c=P.scrollLeft)}function R(P){let D=P;for(;D!==null;){if(D.style.display==="none")return!0;D=D.parentElement}return!1}return{listHeight:a,listStyle:{overflow:"auto"},keyToIndex:e,itemsStyle:z(()=>{const{itemResizable:P}=t,D=Ot(l.value.sum());return u.value,[t.itemsStyle,{boxSizing:"content-box",height:P?"":D,minHeight:P?D:"",paddingTop:Ot(t.paddingTop),paddingBottom:Ot(t.paddingBottom)}]}),visibleItemsStyle:z(()=>(u.value,{transform:`translateY(${Ot(l.value.sum(f.value))})`})),viewportItems:h,listElRef:o,itemsElRef:U(null),scrollTo:g,handleListResize:M,handleListScroll:T,handleListWheel:_,handleItemResize:C}},render(){const{itemResizable:t,keyField:i,keyToIndex:r,visibleItemsTag:n}=this;return p(Qr,{onResize:this.handleListResize},{default:()=>{var e,o;return p("div",Jr(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?p("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[p(n,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(a=>{const s=a[i],l=r.get(s),u=this.$slots.default({item:a,index:l})[0];return t?p(Qr,{key:s,onResize:c=>this.handleItemResize(s,c)},{default:()=>u}):(u.key=s,u)})})]):(o=(e=this.$slots).empty)===null||o===void 0?void 0:o.call(e)])}})}});const cn="v-hidden",Df=Qt("[v-hidden]",{display:"none!important"});var es=ce({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(t,{slots:i}){const r=U(null),n=U(null);function e(){const{value:a}=r,{getCounter:s,getTail:l}=t;let u;if(s!==void 0?u=s():u=n.value,!a||!u)return;u.hasAttribute(cn)&&u.removeAttribute(cn);const{children:c}=a,d=a.offsetWidth,f=[],h=i.tail?l==null?void 0:l():null;let g=h?h.offsetWidth:0,v=!1;const b=a.children.length-(i.tail?1:0);for(let w=0;w<b-1;++w){if(w<0)continue;const C=c[w];if(v){C.hasAttribute(cn)||C.setAttribute(cn,"");continue}else C.hasAttribute(cn)&&C.removeAttribute(cn);const S=C.offsetWidth;if(g+=S,f[w]=S,g>d){const{updateCounter:x}=t;for(let T=w;T>=0;--T){const _=b-1-T;x!==void 0?x(_):u.textContent=`${_}`;const M=u.offsetWidth;if(g-=f[T],g+M<=d||T===0){v=!0,w=T-1,h&&(w===-1?(h.style.maxWidth=`${d-M}px`,h.style.boxSizing="border-box"):h.style.maxWidth="");break}}}}const{onUpdateOverflow:y}=t;v?y!==void 0&&y(!0):(y!==void 0&&y(!1),u.setAttribute(cn,""))}const o=qo();return Df.mount({id:"vueuc/overflow",head:!0,anchorMetaName:ra,ssr:o}),ht(e),{selfRef:r,counterRef:n,sync:e}},render(){const{$slots:t}=this;return yn(this.sync),p("div",{class:"v-overflow",ref:"selfRef"},[yd(t,"default"),t.counter?t.counter():p("span",{style:{display:"inline-block"},ref:"counterRef"}),t.tail?t.tail():null])}});function ql(t,i){i&&(ht(()=>{const{value:r}=t;r&&Na.registerHandler(r,i)}),Et(()=>{const{value:r}=t;r&&Na.unregisterHandler(r)}))}var Ff=wi(Ci,"WeakMap"),Eo=Ff,Mf=bd(Object.keys,Object),Nf=Mf,Bf=Object.prototype,$f=Bf.hasOwnProperty;function zf(t){if(!wd(t))return Nf(t);var i=[];for(var r in Object(t))$f.call(t,r)&&r!="constructor"&&i.push(r);return i}function ia(t){return Xo(t)?Cd(t):zf(t)}var Hf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uf=/^\w*$/;function oa(t,i){if(tn(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Sl(t)?!0:Uf.test(t)||!Hf.test(t)||i!=null&&t in Object(i)}var jf="Expected a function";function aa(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new TypeError(jf);var r=function(){var n=arguments,e=i?i.apply(this,n):n[0],o=r.cache;if(o.has(e))return o.get(e);var a=t.apply(this,n);return r.cache=o.set(e,a)||o,a};return r.cache=new(aa.Cache||Zo),r}aa.Cache=Zo;var Wf=500;function Vf(t){var i=aa(t,function(n){return r.size===Wf&&r.clear(),n}),r=i.cache;return i}var Gf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kf=/\\(\\)?/g,qf=Vf(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(Gf,function(r,n,e,o){i.push(e?o.replace(Kf,"$1"):n||r)}),i}),Yf=qf;function Yl(t,i){return tn(t)?t:oa(t,i)?[t]:Yf(Jo(t))}var Xf=1/0;function ki(t){if(typeof t=="string"||Sl(t))return t;var i=t+"";return i=="0"&&1/t==-Xf?"-0":i}function Xl(t,i){i=Yl(i,t);for(var r=0,n=i.length;t!=null&&r<n;)t=t[ki(i[r++])];return r&&r==n?t:void 0}function sa(t,i,r){var n=t==null?void 0:Xl(t,i);return n===void 0?r:n}function Zf(t,i){for(var r=-1,n=i.length,e=t.length;++r<n;)t[e+r]=i[r];return t}function Jf(t,i,r,n){var e=-1,o=t==null?0:t.length;for(n&&o&&(r=t[++e]);++e<o;)r=i(r,t[e],e,t);return r}function Qf(t){return function(i){return t==null?void 0:t[i]}}var eh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},th=Qf(eh),nh=th,rh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ih="\\u0300-\\u036f",oh="\\ufe20-\\ufe2f",ah="\\u20d0-\\u20ff",sh=ih+oh+ah,lh="["+sh+"]",uh=RegExp(lh,"g");function ch(t){return t=Jo(t),t&&t.replace(rh,nh).replace(uh,"")}var dh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function fh(t){return t.match(dh)||[]}var hh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gh(t){return hh.test(t)}var Zl="\\ud800-\\udfff",ph="\\u0300-\\u036f",vh="\\ufe20-\\ufe2f",mh="\\u20d0-\\u20ff",yh=ph+vh+mh,Jl="\\u2700-\\u27bf",Ql="a-z\\xdf-\\xf6\\xf8-\\xff",bh="\\xac\\xb1\\xd7\\xf7",wh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ch="\\u2000-\\u206f",xh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eu="A-Z\\xc0-\\xd6\\xd8-\\xde",_h="\\ufe0e\\ufe0f",tu=bh+wh+Ch+xh,nu="['\u2019]",ts="["+tu+"]",Sh="["+yh+"]",ru="\\d+",kh="["+Jl+"]",iu="["+Ql+"]",ou="[^"+Zl+tu+ru+Jl+Ql+eu+"]",Th="\\ud83c[\\udffb-\\udfff]",Eh="(?:"+Sh+"|"+Th+")",Ph="[^"+Zl+"]",au="(?:\\ud83c[\\udde6-\\uddff]){2}",su="[\\ud800-\\udbff][\\udc00-\\udfff]",Nn="["+eu+"]",Rh="\\u200d",ns="(?:"+iu+"|"+ou+")",Ah="(?:"+Nn+"|"+ou+")",rs="(?:"+nu+"(?:d|ll|m|re|s|t|ve))?",is="(?:"+nu+"(?:D|LL|M|RE|S|T|VE))?",lu=Eh+"?",uu="["+_h+"]?",Ih="(?:"+Rh+"(?:"+[Ph,au,su].join("|")+")"+uu+lu+")*",Oh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dh=uu+lu+Ih,Fh="(?:"+[kh,au,su].join("|")+")"+Dh,Mh=RegExp([Nn+"?"+iu+"+"+rs+"(?="+[ts,Nn,"$"].join("|")+")",Ah+"+"+is+"(?="+[ts,Nn+ns,"$"].join("|")+")",Nn+"?"+ns+"+"+rs,Nn+"+"+is,Lh,Oh,ru,Fh].join("|"),"g");function Nh(t){return t.match(Mh)||[]}function Bh(t,i,r){return t=Jo(t),i=r?void 0:i,i===void 0?gh(t)?Nh(t):fh(t):t.match(i)||[]}var $h="['\u2019]",zh=RegExp($h,"g");function Hh(t){return function(i){return Jf(Bh(ch(i).replace(zh,"")),t,"")}}function Uh(t,i){for(var r=-1,n=t==null?0:t.length,e=0,o=[];++r<n;){var a=t[r];i(a,r,t)&&(o[e++]=a)}return o}function jh(){return[]}var Wh=Object.prototype,Vh=Wh.propertyIsEnumerable,os=Object.getOwnPropertySymbols,Gh=os?function(t){return t==null?[]:(t=Object(t),Uh(os(t),function(i){return Vh.call(t,i)}))}:jh,Kh=Gh;function qh(t,i,r){var n=i(t);return tn(t)?n:Zf(n,r(t))}function as(t){return qh(t,ia,Kh)}var Yh=wi(Ci,"DataView"),Po=Yh,Xh=wi(Ci,"Promise"),Ro=Xh,Zh=wi(Ci,"Set"),Ao=Zh,ss="[object Map]",Jh="[object Object]",ls="[object Promise]",us="[object Set]",cs="[object WeakMap]",ds="[object DataView]",Qh=jn(Po),eg=jn(_o),tg=jn(Ro),ng=jn(Ao),rg=jn(Eo),dn=kl;(Po&&dn(new Po(new ArrayBuffer(1)))!=ds||_o&&dn(new _o)!=ss||Ro&&dn(Ro.resolve())!=ls||Ao&&dn(new Ao)!=us||Eo&&dn(new Eo)!=cs)&&(dn=function(t){var i=kl(t),r=i==Jh?t.constructor:void 0,n=r?jn(r):"";if(n)switch(n){case Qh:return ds;case eg:return ss;case tg:return ls;case ng:return us;case rg:return cs}return i});var fs=dn,ig="__lodash_hash_undefined__";function og(t){return this.__data__.set(t,ig),this}function ag(t){return this.__data__.has(t)}function ri(t){var i=-1,r=t==null?0:t.length;for(this.__data__=new Zo;++i<r;)this.add(t[i])}ri.prototype.add=ri.prototype.push=og;ri.prototype.has=ag;function sg(t,i){for(var r=-1,n=t==null?0:t.length;++r<n;)if(i(t[r],r,t))return!0;return!1}function lg(t,i){return t.has(i)}var ug=1,cg=2;function cu(t,i,r,n,e,o){var a=r&ug,s=t.length,l=i.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(i);if(u&&c)return u==i&&c==t;var d=-1,f=!0,h=r&cg?new ri:void 0;for(o.set(t,i),o.set(i,t);++d<s;){var g=t[d],v=i[d];if(n)var b=a?n(v,g,d,i,t,o):n(g,v,d,t,i,o);if(b!==void 0){if(b)continue;f=!1;break}if(h){if(!sg(i,function(y,w){if(!lg(h,w)&&(g===y||e(g,y,r,n,o)))return h.push(w)})){f=!1;break}}else if(!(g===v||e(g,v,r,n,o))){f=!1;break}}return o.delete(t),o.delete(i),f}function dg(t){var i=-1,r=Array(t.size);return t.forEach(function(n,e){r[++i]=[e,n]}),r}function fg(t){var i=-1,r=Array(t.size);return t.forEach(function(n){r[++i]=n}),r}var hg=1,gg=2,pg="[object Boolean]",vg="[object Date]",mg="[object Error]",yg="[object Map]",bg="[object Number]",wg="[object RegExp]",Cg="[object Set]",xg="[object String]",_g="[object Symbol]",Sg="[object ArrayBuffer]",kg="[object DataView]",hs=Ba?Ba.prototype:void 0,Gi=hs?hs.valueOf:void 0;function Tg(t,i,r,n,e,o,a){switch(r){case kg:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case Sg:return!(t.byteLength!=i.byteLength||!o(new $a(t),new $a(i)));case pg:case vg:case bg:return xd(+t,+i);case mg:return t.name==i.name&&t.message==i.message;case wg:case xg:return t==i+"";case yg:var s=dg;case Cg:var l=n&hg;if(s||(s=fg),t.size!=i.size&&!l)return!1;var u=a.get(t);if(u)return u==i;n|=gg,a.set(t,i);var c=cu(s(t),s(i),n,e,o,a);return a.delete(t),c;case _g:if(Gi)return Gi.call(t)==Gi.call(i)}return!1}var Eg=1,Pg=Object.prototype,Rg=Pg.hasOwnProperty;function Ag(t,i,r,n,e,o){var a=r&Eg,s=as(t),l=s.length,u=as(i),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=s[d];if(!(a?f in i:Rg.call(i,f)))return!1}var h=o.get(t),g=o.get(i);if(h&&g)return h==i&&g==t;var v=!0;o.set(t,i),o.set(i,t);for(var b=a;++d<l;){f=s[d];var y=t[f],w=i[f];if(n)var C=a?n(w,y,f,i,t,o):n(y,w,f,t,i,o);if(!(C===void 0?y===w||e(y,w,r,n,o):C)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var S=t.constructor,x=i.constructor;S!=x&&"constructor"in t&&"constructor"in i&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(v=!1)}return o.delete(t),o.delete(i),v}var Ig=1,gs="[object Arguments]",ps="[object Array]",Dr="[object Object]",Og=Object.prototype,vs=Og.hasOwnProperty;function Lg(t,i,r,n,e,o){var a=tn(t),s=tn(i),l=a?ps:fs(t),u=s?ps:fs(i);l=l==gs?Dr:l,u=u==gs?Dr:u;var c=l==Dr,d=u==Dr,f=l==u;if(f&&za(t)){if(!za(i))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Vr),a||_d(t)?cu(t,i,r,n,e,o):Tg(t,i,l,r,n,e,o);if(!(r&Ig)){var h=c&&vs.call(t,"__wrapped__"),g=d&&vs.call(i,"__wrapped__");if(h||g){var v=h?t.value():t,b=g?i.value():i;return o||(o=new Vr),e(v,b,r,n,o)}}return f?(o||(o=new Vr),Ag(t,i,r,n,e,o)):!1}function la(t,i,r,n,e){return t===i?!0:t==null||i==null||!Ha(t)&&!Ha(i)?t!==t&&i!==i:Lg(t,i,r,n,la,e)}var Dg=1,Fg=2;function Mg(t,i,r,n){var e=r.length,o=e,a=!n;if(t==null)return!o;for(t=Object(t);e--;){var s=r[e];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++e<o;){s=r[e];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Vr;if(n)var f=n(u,c,l,t,i,d);if(!(f===void 0?la(c,u,Dg|Fg,n,d):f))return!1}}return!0}function du(t){return t===t&&!Sd(t)}function Ng(t){for(var i=ia(t),r=i.length;r--;){var n=i[r],e=t[n];i[r]=[n,e,du(e)]}return i}function fu(t,i){return function(r){return r==null?!1:r[t]===i&&(i!==void 0||t in Object(r))}}function Bg(t){var i=Ng(t);return i.length==1&&i[0][2]?fu(i[0][0],i[0][1]):function(r){return r===t||Mg(r,t,i)}}function $g(t,i){return t!=null&&i in Object(t)}function zg(t,i,r){i=Yl(i,t);for(var n=-1,e=i.length,o=!1;++n<e;){var a=ki(i[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=e?o:(e=t==null?0:t.length,!!e&&kd(e)&&Td(a,e)&&(tn(t)||Ed(t)))}function Hg(t,i){return t!=null&&zg(t,i,$g)}var Ug=1,jg=2;function Wg(t,i){return oa(t)&&du(i)?fu(ki(t),i):function(r){var n=sa(r,t);return n===void 0&&n===i?Hg(r,t):la(i,n,Ug|jg)}}function Vg(t){return function(i){return i==null?void 0:i[t]}}function Gg(t){return function(i){return Xl(i,t)}}function Kg(t){return oa(t)?Vg(ki(t)):Gg(t)}function qg(t){return typeof t=="function"?t:t==null?Pd:typeof t=="object"?tn(t)?Wg(t[0],t[1]):Bg(t):Kg(t)}function Yg(t,i){return t&&Rd(t,i,ia)}function Xg(t,i){return function(r,n){if(r==null)return r;if(!Xo(r))return t(r,n);for(var e=r.length,o=i?e:-1,a=Object(r);(i?o--:++o<e)&&n(a[o],o,a)!==!1;);return r}}var Zg=Xg(Yg),Jg=Zg;function Qg(t,i){var r=-1,n=Xo(t)?Array(t.length):[];return Jg(t,function(e,o,a){n[++r]=i(e,o,a)}),n}function ep(t,i){var r=tn(t)?Ad:Qg;return r(t,qg(i))}var tp=Hh(function(t,i,r){return t+(r?"-":"")+i.toLowerCase()}),np=tp;const rp={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:t=>`Please load all ${t}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:t=>`Total ${t} items`,selected:t=>`${t} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}};var ip=rp;function Ki(t){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=i.width?String(i.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}function ar(t){return function(i,r){var n=r!=null&&r.context?String(r.context):"standalone",e;if(n==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;e=t.formattingValues[a]||t.formattingValues[o]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;e=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(i):i;return e[u]}}function sr(t){return function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,e=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=i.match(e);if(!o)return null;var a=o[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?ap(s,function(d){return d.test(a)}):op(s,function(d){return d.test(a)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var c=i.slice(a.length);return{value:u,rest:c}}}function op(t,i){for(var r in t)if(t.hasOwnProperty(r)&&i(t[r]))return r}function ap(t,i){for(var r=0;r<t.length;r++)if(i(t[r]))return r}function sp(t){return function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.match(t.matchPattern);if(!n)return null;var e=n[0],o=i.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var s=i.slice(e.length);return{value:a,rest:s}}}var lp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},up=function(i,r,n){var e,o=lp[i];return typeof o=="string"?e=o:r===1?e=o.one:e=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+e:e+" ago":e},cp=up,dp={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fp={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hp={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gp={date:Ki({formats:dp,defaultWidth:"full"}),time:Ki({formats:fp,defaultWidth:"full"}),dateTime:Ki({formats:hp,defaultWidth:"full"})},pp=gp,vp={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mp=function(i,r,n,e){return vp[i]},yp=mp,bp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xp={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_p={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kp=function(i,r){var n=Number(i),e=n%100;if(e>20||e<10)switch(e%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Tp={ordinalNumber:kp,era:ar({values:bp,defaultWidth:"wide"}),quarter:ar({values:wp,defaultWidth:"wide",argumentCallback:function(i){return i-1}}),month:ar({values:Cp,defaultWidth:"wide"}),day:ar({values:xp,defaultWidth:"wide"}),dayPeriod:ar({values:_p,defaultWidth:"wide",formattingValues:Sp,defaultFormattingWidth:"wide"})},Ep=Tp,Pp=/^(\d+)(th|st|nd|rd)?/i,Rp=/\d+/i,Ap={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ip={any:[/^b/i,/^(a|c)/i]},Op={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lp={any:[/1/i,/2/i,/3/i,/4/i]},Dp={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fp={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mp={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Np={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bp={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$p={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zp={ordinalNumber:sp({matchPattern:Pp,parsePattern:Rp,valueCallback:function(i){return parseInt(i,10)}}),era:sr({matchPatterns:Ap,defaultMatchWidth:"wide",parsePatterns:Ip,defaultParseWidth:"any"}),quarter:sr({matchPatterns:Op,defaultMatchWidth:"wide",parsePatterns:Lp,defaultParseWidth:"any",valueCallback:function(i){return i+1}}),month:sr({matchPatterns:Dp,defaultMatchWidth:"wide",parsePatterns:Fp,defaultParseWidth:"any"}),day:sr({matchPatterns:Mp,defaultMatchWidth:"wide",parsePatterns:Np,defaultParseWidth:"any"}),dayPeriod:sr({matchPatterns:Bp,defaultMatchWidth:"any",parsePatterns:$p,defaultParseWidth:"any"})},Hp=zp,Up={code:"en-US",formatDistance:cp,formatLong:pp,formatRelative:yp,localize:Ep,match:Hp,options:{weekStartsOn:0,firstWeekContainsDate:1}},jp=Up;const Wp={name:"en-US",locale:jp};var Vp=Wp;function Ti(t){const{mergedLocaleRef:i,mergedDateLocaleRef:r}=Fe(Tl,null)||{},n=z(()=>{var o,a;return(a=(o=i==null?void 0:i.value)===null||o===void 0?void 0:o[t])!==null&&a!==void 0?a:ip[t]});return{dateLocaleRef:z(()=>{var o;return(o=r==null?void 0:r.value)!==null&&o!==void 0?o:Vp}),localeRef:n}}var Gp=ce({name:"Add",render(){return p("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Kp=Dt("attach",p("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},p("g",{fill:"currentColor","fill-rule":"nonzero"},p("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),qp=ce({name:"Checkmark",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},p("g",{fill:"none"},p("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),hu=ce({name:"Eye",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},p("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),p("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),Yp=ce({name:"EyeOff",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},p("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),p("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),p("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),p("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),p("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Xp=Dt("trash",p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},p("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),p("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),p("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),p("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Zp=Dt("download",p("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},p("g",{fill:"currentColor","fill-rule":"nonzero"},p("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Jp=ce({name:"Empty",render(){return p("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),p("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Qp=Dt("cancel",p("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},p("g",{fill:"currentColor","fill-rule":"nonzero"},p("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),ev=ce({name:"ChevronDown",render(){return p("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),tv=Dt("clear",p("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},p("g",{fill:"currentColor","fill-rule":"nonzero"},p("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),nv=Dt("retry",p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},p("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),p("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),rv=Dt("rotateClockwise",p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),p("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),iv=Dt("rotateClockwise",p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),p("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),ov=Dt("zoomIn",p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),p("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),av=Dt("zoomOut",p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),p("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),sv=ce({name:"ResizeSmall",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},p("g",{fill:"none"},p("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),lv=ce({props:{onFocus:Function,onBlur:Function},setup(t){return()=>p("div",{style:"width: 0; height: 0",tabindex:0,onFocus:t.onFocus,onBlur:t.onBlur})}});function ms(t){return Array.isArray(t)?t:[t]}const Io={STOP:"STOP"};function gu(t,i){const r=i(t);t.children!==void 0&&r!==Io.STOP&&t.children.forEach(n=>gu(n,i))}function uv(t,i={}){const{preserveGroup:r=!1}=i,n=[],e=r?a=>{a.isLeaf||(n.push(a.key),o(a.children))}:a=>{a.isLeaf||(a.isGroup||n.push(a.key),o(a.children))};function o(a){a.forEach(e)}return o(t),n}function cv(t,i){const{isLeaf:r}=t;return r!==void 0?r:!i(t)}function dv(t){return t.children}function fv(t){return t.key}function hv(){return!1}function gv(t,i){const{isLeaf:r}=t;return!(r===!1&&!Array.isArray(i(t)))}function pv(t){return t.disabled===!0}function vv(t,i){return t.isLeaf===!1&&!Array.isArray(i(t))}function qi(t){var i;return t==null?[]:Array.isArray(t)?t:(i=t.checkedKeys)!==null&&i!==void 0?i:[]}function Yi(t){var i;return t==null||Array.isArray(t)?[]:(i=t.indeterminateKeys)!==null&&i!==void 0?i:[]}function mv(t,i){const r=new Set(t);return i.forEach(n=>{r.has(n)||r.add(n)}),Array.from(r)}function yv(t,i){const r=new Set(t);return i.forEach(n=>{r.has(n)&&r.delete(n)}),Array.from(r)}function bv(t){return(t==null?void 0:t.type)==="group"}function wv(t){const i=new Map;return t.forEach((r,n)=>{i.set(r.key,n)}),r=>{var n;return(n=i.get(r))!==null&&n!==void 0?n:null}}class Cv extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function xv(t,i,r,n){return ii(i.concat(t),r,n,!1)}function _v(t,i){const r=new Set;return t.forEach(n=>{const e=i.treeNodeMap.get(n);if(e!==void 0){let o=e.parent;for(;o!==null&&!(o.disabled||r.has(o.key));)r.add(o.key),o=o.parent}}),r}function Sv(t,i,r,n){const e=ii(i,r,n,!1),o=ii(t,r,n,!0),a=_v(t,r),s=[];return e.forEach(l=>{(o.has(l)||a.has(l))&&s.push(l)}),s.forEach(l=>e.delete(l)),e}function Xi(t,i){const{checkedKeys:r,keysToCheck:n,keysToUncheck:e,indeterminateKeys:o,cascade:a,leafOnly:s,checkStrategy:l,allowNotLoaded:u}=t;if(!a)return n!==void 0?{checkedKeys:mv(r,n),indeterminateKeys:Array.from(o)}:e!==void 0?{checkedKeys:yv(r,e),indeterminateKeys:Array.from(o)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(o)};const{levelTreeNodeMap:c}=i;let d;e!==void 0?d=Sv(e,r,i,u):n!==void 0?d=xv(n,r,i,u):d=ii(r,i,u,!1);const f=l==="parent",h=l==="child"||s,g=d,v=new Set,b=Math.max.apply(null,Array.from(c.keys()));for(let y=b;y>=0;y-=1){const w=y===0,C=c.get(y);for(const S of C){if(S.isLeaf)continue;const{key:x,shallowLoaded:T}=S;if(h&&T&&S.children.forEach(R=>{!R.disabled&&!R.isLeaf&&R.shallowLoaded&&g.has(R.key)&&g.delete(R.key)}),S.disabled||!T)continue;let _=!0,M=!1,E=!0;for(const R of S.children){const P=R.key;if(!R.disabled){if(E&&(E=!1),g.has(P))M=!0;else if(v.has(P)){M=!0,_=!1;break}else if(_=!1,M)break}}_&&!E?(f&&S.children.forEach(R=>{!R.disabled&&g.has(R.key)&&g.delete(R.key)}),g.add(x)):M&&v.add(x),w&&h&&g.has(x)&&g.delete(x)}}return{checkedKeys:Array.from(g),indeterminateKeys:Array.from(v)}}function ii(t,i,r,n){const{treeNodeMap:e,getChildren:o}=i,a=new Set,s=new Set(t);return t.forEach(l=>{const u=e.get(l);u!==void 0&&gu(u,c=>{if(c.disabled)return Io.STOP;const{key:d}=c;if(!a.has(d)&&(a.add(d),s.add(d),vv(c.rawNode,o))){if(n)return Io.STOP;if(!r)throw new Cv}})}),s}function kv(t,{includeGroup:i=!1,includeSelf:r=!0},n){var e;const o=n.treeNodeMap;let a=t==null?null:(e=o.get(t))!==null&&e!==void 0?e:null;const s={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return s.treeNode=null,s;for(;a;)!a.ignored&&(i||!a.isGroup)&&s.treeNodePath.push(a),a=a.parent;return s.treeNodePath.reverse(),r||s.treeNodePath.pop(),s.keyPath=s.treeNodePath.map(l=>l.key),s}function Tv(t){if(t.length===0)return null;const i=t[0];return i.isGroup||i.ignored||i.disabled?i.getNext():i}function Ev(t,i){const r=t.siblings,n=r.length,{index:e}=t;return i?r[(e+1)%n]:e===r.length-1?null:r[e+1]}function ys(t,i,{loop:r=!1,includeDisabled:n=!1}={}){const e=i==="prev"?Pv:Ev,o={reverse:i==="prev"};let a=!1,s=null;function l(u){if(u!==null){if(u===t){if(!a)a=!0;else if(!t.disabled&&!t.isGroup){s=t;return}}else if((!u.disabled||n)&&!u.ignored&&!u.isGroup){s=u;return}if(u.isGroup){const c=ua(u,o);c!==null?s=c:l(e(u,r))}else{const c=e(u,!1);if(c!==null)l(c);else{const d=Rv(u);d!=null&&d.isGroup?l(e(d,r)):r&&l(e(u,!0))}}}}return l(t),s}function Pv(t,i){const r=t.siblings,n=r.length,{index:e}=t;return i?r[(e-1+n)%n]:e===0?null:r[e-1]}function Rv(t){return t.parent}function ua(t,i={}){const{reverse:r=!1}=i,{children:n}=t;if(n){const{length:e}=n,o=r?e-1:0,a=r?-1:e,s=r?-1:1;for(let l=o;l!==a;l+=s){const u=n[l];if(!u.disabled&&!u.ignored)if(u.isGroup){const c=ua(u,i);if(c!==null)return c}else return u}}return null}const Av={getChild(){return this.ignored?null:ua(this)},getParent(){const{parent:t}=this;return t!=null&&t.isGroup?t.getParent():t},getNext(t={}){return ys(this,"next",t)},getPrev(t={}){return ys(this,"prev",t)}};function Iv(t,i){const r=i?new Set(i):void 0,n=[];function e(o){o.forEach(a=>{n.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||r===void 0||r.has(a.key))&&e(a.children)})}return e(t),n}function Ov(t,i){const r=t.key;for(;i;){if(i.key===r)return!0;i=i.parent}return!1}function pu(t,i,r,n,e,o=null,a=0){const s=[];return t.forEach((l,u)=>{var c;const d=Object.create(n);if(d.rawNode=l,d.siblings=s,d.level=a,d.index=u,d.isFirstChild=u===0,d.isLastChild=u+1===t.length,d.parent=o,!d.ignored){const f=e(l);Array.isArray(f)&&(d.children=pu(f,i,r,n,e,d,a+1))}s.push(d),i.set(d.key,d),r.has(a)||r.set(a,[]),(c=r.get(a))===null||c===void 0||c.push(d)}),s}function Lv(t,i={}){var r;const n=new Map,e=new Map,{getDisabled:o=pv,getIgnored:a=hv,getIsGroup:s=bv,getKey:l=fv}=i,u=(r=i.getChildren)!==null&&r!==void 0?r:dv,c=i.ignoreEmptyChildren?S=>{const x=u(S);return Array.isArray(x)?x.length?x:null:x}:u,d=Object.assign({get key(){return l(this.rawNode)},get disabled(){return o(this.rawNode)},get isGroup(){return s(this.rawNode)},get isLeaf(){return cv(this.rawNode,c)},get shallowLoaded(){return gv(this.rawNode,c)},get ignored(){return a(this.rawNode)},contains(S){return Ov(this,S)}},Av),f=pu(t,n,e,d,c);function h(S){if(S==null)return null;const x=n.get(S);return x&&!x.isGroup&&!x.ignored?x:null}function g(S){if(S==null)return null;const x=n.get(S);return x&&!x.ignored?x:null}function v(S,x){const T=g(S);return T?T.getPrev(x):null}function b(S,x){const T=g(S);return T?T.getNext(x):null}function y(S){const x=g(S);return x?x.getParent():null}function w(S){const x=g(S);return x?x.getChild():null}const C={treeNodes:f,treeNodeMap:n,levelTreeNodeMap:e,maxLevel:Math.max(...e.keys()),getChildren:c,getFlattenedNodes(S){return Iv(f,S)},getNode:h,getPrev:v,getNext:b,getParent:y,getChild:w,getFirstAvailableNode(){return Tv(f)},getPath(S,x={}){return kv(S,x,C)},getCheckedKeys(S,x={}){const{cascade:T=!0,leafOnly:_=!1,checkStrategy:M="all",allowNotLoaded:E=!1}=x;return Xi({checkedKeys:qi(S),indeterminateKeys:Yi(S),cascade:T,leafOnly:_,checkStrategy:M,allowNotLoaded:E},C)},check(S,x,T={}){const{cascade:_=!0,leafOnly:M=!1,checkStrategy:E="all",allowNotLoaded:R=!1}=T;return Xi({checkedKeys:qi(x),indeterminateKeys:Yi(x),keysToCheck:S==null?[]:ms(S),cascade:_,leafOnly:M,checkStrategy:E,allowNotLoaded:R},C)},uncheck(S,x,T={}){const{cascade:_=!0,leafOnly:M=!1,checkStrategy:E="all",allowNotLoaded:R=!1}=T;return Xi({checkedKeys:qi(x),indeterminateKeys:Yi(x),keysToUncheck:S==null?[]:ms(S),cascade:_,leafOnly:M,checkStrategy:E,allowNotLoaded:R},C)},getNonLeafKeys(S={}){return uv(f,S)}};return C}var Dv={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};const Fv=t=>{const{textColorDisabled:i,iconColor:r,textColor2:n,fontSizeSmall:e,fontSizeMedium:o,fontSizeLarge:a,fontSizeHuge:s}=t;return Object.assign(Object.assign({},Dv),{fontSizeSmall:e,fontSizeMedium:o,fontSizeLarge:a,fontSizeHuge:s,textColor:i,iconColor:r,extraTextColor:n})},Mv={name:"Empty",common:xt,self:Fv};var vu=Mv,Nv=O("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[W("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[ee("+",[W("description",`
 margin-top: 8px;
 `)])]),W("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),W("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]);const Bv=Object.assign(Object.assign({},De.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function});var $v=ce({name:"Empty",props:Bv,setup(t){const{mergedClsPrefixRef:i,inlineThemeDisabled:r}=ft(t),n=De("Empty","-empty",Nv,vu,t,i),{localeRef:e}=Ti("Empty"),o=Fe(Tl,null),a=z(()=>{var c,d,f;return(c=t.description)!==null&&c!==void 0?c:(f=(d=o==null?void 0:o.mergedComponentPropsRef.value)===null||d===void 0?void 0:d.Empty)===null||f===void 0?void 0:f.description}),s=z(()=>{var c,d;return((d=(c=o==null?void 0:o.mergedComponentPropsRef.value)===null||c===void 0?void 0:c.Empty)===null||d===void 0?void 0:d.renderIcon)||(()=>p(Jp,null))}),l=z(()=>{const{size:c}=t,{common:{cubicBezierEaseInOut:d},self:{[ye("iconSize",c)]:f,[ye("fontSize",c)]:h,textColor:g,iconColor:v,extraTextColor:b}}=n.value;return{"--n-icon-size":f,"--n-font-size":h,"--n-bezier":d,"--n-text-color":g,"--n-icon-color":v,"--n-extra-text-color":b}}),u=r?Pt("empty",z(()=>{let c="";const{size:d}=t;return c+=d[0],c}),l,t):void 0;return{mergedClsPrefix:i,mergedRenderIcon:s,localizedDescription:z(()=>a.value||e.value.description),cssVars:r?void 0:l,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){const{$slots:t,mergedClsPrefix:i,onRender:r}=this;return r==null||r(),p("div",{class:[`${i}-empty`,this.themeClass],style:this.cssVars},this.showIcon?p("div",{class:`${i}-empty__icon`},t.icon?t.icon():p(He,{clsPrefix:i},{default:this.mergedRenderIcon})):null,this.showDescription?p("div",{class:`${i}-empty__description`},t.default?t.default():this.localizedDescription):null,t.extra?p("div",{class:`${i}-empty__extra`},t.extra()):null)}}),zv={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};const Hv=t=>{const{borderRadius:i,popoverColor:r,textColor3:n,dividerColor:e,textColor2:o,primaryColorPressed:a,textColorDisabled:s,primaryColor:l,opacityDisabled:u,hoverColor:c,fontSizeSmall:d,fontSizeMedium:f,fontSizeLarge:h,fontSizeHuge:g,heightSmall:v,heightMedium:b,heightLarge:y,heightHuge:w}=t;return Object.assign(Object.assign({},zv),{optionFontSizeSmall:d,optionFontSizeMedium:f,optionFontSizeLarge:h,optionFontSizeHuge:g,optionHeightSmall:v,optionHeightMedium:b,optionHeightLarge:y,optionHeightHuge:w,borderRadius:i,color:r,groupHeaderTextColor:n,actionDividerColor:e,optionTextColor:o,optionTextColorPressed:a,optionTextColorDisabled:s,optionTextColorActive:l,optionOpacityDisabled:u,optionCheckColor:l,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:o,loadingColor:l})},Uv=Wn({name:"InternalSelectMenu",common:xt,peers:{Scrollbar:Id,Empty:vu},self:Hv});var mu=Uv;function jv(t,i){return p(gn,{name:"fade-in-scale-up-transition"},{default:()=>t?p(He,{clsPrefix:i,class:`${i}-base-select-option__check`},{default:()=>p(qp)}):null})}var bs=ce({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(t){const{valueRef:i,pendingTmNodeRef:r,multipleRef:n,valueSetRef:e,renderLabelRef:o,renderOptionRef:a,labelFieldRef:s,valueFieldRef:l,showCheckmarkRef:u,nodePropsRef:c,handleOptionClick:d,handleOptionMouseEnter:f}=Fe(na),h=st(()=>{const{value:y}=r;return y?t.tmNode.key===y.key:!1});function g(y){const{tmNode:w}=t;w.disabled||d(y,w)}function v(y){const{tmNode:w}=t;w.disabled||f(y,w)}function b(y){const{tmNode:w}=t,{value:C}=h;w.disabled||C||f(y,w)}return{multiple:n,isGrouped:st(()=>{const{tmNode:y}=t,{parent:w}=y;return w&&w.rawNode.type==="group"}),showCheckmark:u,nodeProps:c,isPending:h,isSelected:st(()=>{const{value:y}=i,{value:w}=n;if(y===null)return!1;const C=t.tmNode.rawNode[l.value];if(w){const{value:S}=e;return S.has(C)}else return y===C}),labelField:s,renderLabel:o,renderOption:a,handleMouseMove:b,handleMouseEnter:v,handleClick:g}},render(){const{clsPrefix:t,tmNode:{rawNode:i},isSelected:r,isPending:n,isGrouped:e,showCheckmark:o,nodeProps:a,renderOption:s,renderLabel:l,handleClick:u,handleMouseEnter:c,handleMouseMove:d}=this,f=jv(r,t),h=l?[l(i,r),o&&f]:[Bn(i[this.labelField],i,r),o&&f],g=a==null?void 0:a(i),v=p("div",Object.assign({},g,{class:[`${t}-base-select-option`,i.class,g==null?void 0:g.class,{[`${t}-base-select-option--disabled`]:i.disabled,[`${t}-base-select-option--selected`]:r,[`${t}-base-select-option--grouped`]:e,[`${t}-base-select-option--pending`]:n,[`${t}-base-select-option--show-checkmark`]:o}],style:[(g==null?void 0:g.style)||"",i.style||""],onClick:Hi([u,g==null?void 0:g.onClick]),onMouseenter:Hi([c,g==null?void 0:g.onMouseenter]),onMousemove:Hi([d,g==null?void 0:g.onMousemove])}),p("div",{class:`${t}-base-select-option__content`},h));return i.render?i.render({node:v,option:i,selected:r}):s?s({node:v,option:i,selected:r}):v}}),ws=ce({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:t,renderOptionRef:i,labelFieldRef:r,nodePropsRef:n}=Fe(na);return{labelField:r,nodeProps:n,renderLabel:t,renderOption:i}},render(){const{clsPrefix:t,renderLabel:i,renderOption:r,nodeProps:n,tmNode:{rawNode:e}}=this,o=n==null?void 0:n(e),a=i?i(e,!1):Bn(e[this.labelField],e,!1),s=p("div",Object.assign({},o,{class:[`${t}-base-select-group-header`,o==null?void 0:o.class]}),a);return e.render?e.render({node:s,option:e}):r?r({node:s,option:e,selected:!1}):s}}),Wv=O("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[O("scrollbar",`
 max-height: var(--n-height);
 `),O("virtual-list",`
 max-height: var(--n-height);
 `),O("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[W("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),O("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),O("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),W("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),W("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),W("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),O("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),O("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[X("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),ee("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),ee("&:active",`
 color: var(--n-option-text-color-pressed);
 `),X("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),X("pending",[ee("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),X("selected",`
 color: var(--n-option-text-color-active);
 `,[ee("&::before",`
 background-color: var(--n-option-color-active);
 `),X("pending",[ee("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),X("disabled",`
 cursor: not-allowed;
 `,[at("selected",`
 color: var(--n-option-text-color-disabled);
 `),X("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),W("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Qo({enterScale:"0.5"})])])]),Vv=ce({name:"InternalSelectMenu",props:Object.assign(Object.assign({},De.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(t){const i=De("InternalSelectMenu","-internal-select-menu",Wv,mu,t,se(t,"clsPrefix")),r=U(null),n=U(null),e=U(null),o=z(()=>t.treeMate.getFlattenedNodes()),a=z(()=>wv(o.value)),s=U(null);function l(){const{treeMate:F}=t;let K=null;const{value:le}=t;le===null?K=F.getFirstAvailableNode():(t.multiple?K=F.getNode((le||[])[(le||[]).length-1]):K=F.getNode(le),(!K||K.disabled)&&(K=F.getFirstAvailableNode())),P(K||null)}function u(){const{value:F}=s;F&&!t.treeMate.getNode(F.key)&&(s.value=null)}let c;ot(()=>t.show,F=>{F?c=ot(()=>t.treeMate,()=>{t.resetMenuOnOptionsChange?(t.autoPending?l():u(),yn(D)):u()},{immediate:!0}):c==null||c()},{immediate:!0}),Et(()=>{c==null||c()});const d=z(()=>vr(i.value.self[ye("optionHeight",t.size)])),f=z(()=>Gr(i.value.self[ye("padding",t.size)])),h=z(()=>t.multiple&&Array.isArray(t.value)?new Set(t.value):new Set),g=z(()=>{const F=o.value;return F&&F.length===0});function v(F){const{onToggle:K}=t;K&&K(F)}function b(F){const{onScroll:K}=t;K&&K(F)}function y(F){var K;(K=e.value)===null||K===void 0||K.sync(),b(F)}function w(){var F;(F=e.value)===null||F===void 0||F.sync()}function C(){const{value:F}=s;return F||null}function S(F,K){K.disabled||P(K,!1)}function x(F,K){K.disabled||v(K)}function T(F){var K;ni(F,"action")||(K=t.onKeyup)===null||K===void 0||K.call(t,F)}function _(F){var K;ni(F,"action")||(K=t.onKeydown)===null||K===void 0||K.call(t,F)}function M(F){var K;(K=t.onMousedown)===null||K===void 0||K.call(t,F),!t.focusable&&F.preventDefault()}function E(){const{value:F}=s;F&&P(F.getNext({loop:!0}),!0)}function R(){const{value:F}=s;F&&P(F.getPrev({loop:!0}),!0)}function P(F,K=!1){s.value=F,K&&D()}function D(){var F,K;const le=s.value;if(!le)return;const ke=a.value(le.key);ke!==null&&(t.virtualScroll?(F=n.value)===null||F===void 0||F.scrollTo({index:ke}):(K=e.value)===null||K===void 0||K.scrollTo({index:ke,elSize:d.value}))}function A(F){var K,le;!((K=r.value)===null||K===void 0)&&K.contains(F.target)&&((le=t.onFocus)===null||le===void 0||le.call(t,F))}function N(F){var K,le;!((K=r.value)===null||K===void 0)&&K.contains(F.relatedTarget)||(le=t.onBlur)===null||le===void 0||le.call(t,F)}lt(na,{handleOptionMouseEnter:S,handleOptionClick:x,valueSetRef:h,pendingTmNodeRef:s,nodePropsRef:se(t,"nodeProps"),showCheckmarkRef:se(t,"showCheckmark"),multipleRef:se(t,"multiple"),valueRef:se(t,"value"),renderLabelRef:se(t,"renderLabel"),renderOptionRef:se(t,"renderOption"),labelFieldRef:se(t,"labelField"),valueFieldRef:se(t,"valueField")}),lt(Hl,r),ht(()=>{const{value:F}=e;F&&F.sync()});const j=z(()=>{const{size:F}=t,{common:{cubicBezierEaseInOut:K},self:{height:le,borderRadius:ke,color:je,groupHeaderTextColor:Pe,actionDividerColor:Ne,optionTextColorPressed:We,optionTextColor:we,optionTextColorDisabled:Oe,optionTextColorActive:Ke,optionOpacityDisabled:ut,optionCheckColor:Xe,actionTextColor:Z,optionColorPending:re,optionColorActive:J,loadingColor:Re,loadingSize:Ae,optionColorActivePending:qe,[ye("optionFontSize",F)]:Ue,[ye("optionHeight",F)]:Je,[ye("optionPadding",F)]:Ve}}=i.value;return{"--n-height":le,"--n-action-divider-color":Ne,"--n-action-text-color":Z,"--n-bezier":K,"--n-border-radius":ke,"--n-color":je,"--n-option-font-size":Ue,"--n-group-header-text-color":Pe,"--n-option-check-color":Xe,"--n-option-color-pending":re,"--n-option-color-active":J,"--n-option-color-active-pending":qe,"--n-option-height":Je,"--n-option-opacity-disabled":ut,"--n-option-text-color":we,"--n-option-text-color-active":Ke,"--n-option-text-color-disabled":Oe,"--n-option-text-color-pressed":We,"--n-option-padding":Ve,"--n-option-padding-left":Gr(Ve,"left"),"--n-option-padding-right":Gr(Ve,"right"),"--n-loading-color":Re,"--n-loading-size":Ae}}),{inlineThemeDisabled:G}=t,Q=G?Pt("internal-select-menu",z(()=>t.size[0]),j,t):void 0,te={selfRef:r,next:E,prev:R,getPendingTmNode:C};return ql(r,t.onResize),Object.assign({mergedTheme:i,virtualListRef:n,scrollbarRef:e,itemSize:d,padding:f,flattenedNodes:o,empty:g,virtualListContainer(){const{value:F}=n;return F==null?void 0:F.listElRef},virtualListContent(){const{value:F}=n;return F==null?void 0:F.itemsElRef},doScroll:b,handleFocusin:A,handleFocusout:N,handleKeyUp:T,handleKeyDown:_,handleMouseDown:M,handleVirtualListResize:w,handleVirtualListScroll:y,cssVars:G?void 0:j,themeClass:Q==null?void 0:Q.themeClass,onRender:Q==null?void 0:Q.onRender},te)},render(){const{$slots:t,virtualScroll:i,clsPrefix:r,mergedTheme:n,themeClass:e,onRender:o}=this;return o==null||o(),p("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${r}-base-select-menu`,e,this.multiple&&`${r}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?p("div",{class:`${r}-base-select-menu__loading`},p(El,{clsPrefix:r,strokeWidth:20})):this.empty?p("div",{class:`${r}-base-select-menu__empty`,"data-empty":!0},pn(t.empty,()=>[p($v,{theme:n.peers.Empty,themeOverrides:n.peerOverrides.Empty})])):p(Pl,{ref:"scrollbarRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar,scrollable:this.scrollable,container:i?this.virtualListContainer:void 0,content:i?this.virtualListContent:void 0,onScroll:i?void 0:this.doScroll},{default:()=>i?p(Lf,{ref:"virtualListRef",class:`${r}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:a})=>a.isGroup?p(ws,{key:a.key,clsPrefix:r,tmNode:a}):a.ignored?null:p(bs,{clsPrefix:r,key:a.key,tmNode:a})}):p("div",{class:`${r}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(a=>a.isGroup?p(ws,{key:a.key,clsPrefix:r,tmNode:a}):p(bs,{clsPrefix:r,key:a.key,tmNode:a})))}),_t(t.action,a=>a&&[p("div",{class:`${r}-base-select-menu__action`,"data-action":!0,key:"action"},a),p(lv,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Gv={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};const Kv=t=>{const{boxShadow2:i,popoverColor:r,textColor2:n,borderRadius:e,fontSize:o,dividerColor:a}=t;return Object.assign(Object.assign({},Gv),{fontSize:o,borderRadius:e,color:r,dividerColor:a,textColor:n,boxShadow:i})},qv={name:"Popover",common:xt,self:Kv};var ca=qv;const Zi={top:"bottom",bottom:"top",left:"right",right:"left"},rt="var(--n-arrow-height) * 1.414";var Yv=ee([O("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[ee(">",[O("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),at("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[at("scrollable",[at("show-header-or-footer","padding: var(--n-padding);")])]),W("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),W("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),X("scrollable, show-header-or-footer",[W("content",`
 padding: var(--n-padding);
 `)])]),O("popover-shared",`
 transform-origin: inherit;
 `,[O("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[O("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${rt});
 height: calc(${rt});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),ee("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),ee("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),ee("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),ee("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),yt("top-start",`
 top: calc(${rt} / -2);
 left: calc(${Ht("top-start")} - var(--v-offset-left));
 `),yt("top",`
 top: calc(${rt} / -2);
 transform: translateX(calc(${rt} / -2)) rotate(45deg);
 left: 50%;
 `),yt("top-end",`
 top: calc(${rt} / -2);
 right: calc(${Ht("top-end")} + var(--v-offset-left));
 `),yt("bottom-start",`
 bottom: calc(${rt} / -2);
 left: calc(${Ht("bottom-start")} - var(--v-offset-left));
 `),yt("bottom",`
 bottom: calc(${rt} / -2);
 transform: translateX(calc(${rt} / -2)) rotate(45deg);
 left: 50%;
 `),yt("bottom-end",`
 bottom: calc(${rt} / -2);
 right: calc(${Ht("bottom-end")} + var(--v-offset-left));
 `),yt("left-start",`
 left: calc(${rt} / -2);
 top: calc(${Ht("left-start")} - var(--v-offset-top));
 `),yt("left",`
 left: calc(${rt} / -2);
 transform: translateY(calc(${rt} / -2)) rotate(45deg);
 top: 50%;
 `),yt("left-end",`
 left: calc(${rt} / -2);
 bottom: calc(${Ht("left-end")} + var(--v-offset-top));
 `),yt("right-start",`
 right: calc(${rt} / -2);
 top: calc(${Ht("right-start")} - var(--v-offset-top));
 `),yt("right",`
 right: calc(${rt} / -2);
 transform: translateY(calc(${rt} / -2)) rotate(45deg);
 top: 50%;
 `),yt("right-end",`
 right: calc(${rt} / -2);
 bottom: calc(${Ht("right-end")} + var(--v-offset-top));
 `),...ep({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(t,i)=>{const r=["right","left"].includes(i),n=r?"width":"height";return t.map(e=>{const o=e.split("-")[1]==="end",s=`calc((${`var(--v-target-${n}, 0px)`} - ${rt}) / 2)`,l=Ht(e);return ee(`[v-placement="${e}"] >`,[O("popover-shared",[X("center-arrow",[O("popover-arrow",`${i}: calc(max(${s}, ${l}) ${o?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function Ht(t){return["top","bottom"].includes(t.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function yt(t,i){const r=t.split("-")[0],n=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return ee(`[v-placement="${t}"] >`,[O("popover-shared",`
 margin-${Zi[r]}: var(--n-space);
 `,[X("show-arrow",`
 margin-${Zi[r]}: var(--n-space-arrow);
 `),X("overlap",`
 margin: 0;
 `),Od("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${Zi[r]}: auto;
 ${n}
 `,[O("popover-arrow",i)])])])}const yu=Object.assign(Object.assign({},De.props),{to:Kt.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Xv=({arrowStyle:t,clsPrefix:i})=>p("div",{key:"__popover-arrow__",class:`${i}-popover-arrow-wrapper`},p("div",{class:`${i}-popover-arrow`,style:t}));var Zv=ce({name:"PopoverBody",inheritAttrs:!1,props:yu,setup(t,{slots:i,attrs:r}){const{namespaceRef:n,mergedClsPrefixRef:e,inlineThemeDisabled:o}=ft(t),a=De("Popover","-popover",Yv,ca,t,e),s=U(null),l=Fe("NPopover"),u=U(null),c=U(t.show),d=U(!1);nn(()=>{const{show:_}=t;_&&!df()&&!t.internalDeactivateImmediately&&(d.value=!0)});const f=z(()=>{const{trigger:_,onClickoutside:M}=t,E=[],{positionManuallyRef:{value:R}}=l;return R||(_==="click"&&!M&&E.push([ei,S,void 0,{capture:!0}]),_==="hover"&&E.push([xf,C])),M&&E.push([ei,S,void 0,{capture:!0}]),(t.displayDirective==="show"||t.animated&&d.value)&&E.push([_r,t.show]),E}),h=z(()=>{const _=t.width==="trigger"?void 0:bt(t.width),M=[];_&&M.push({width:_});const{maxWidth:E,minWidth:R}=t;return E&&M.push({maxWidth:bt(E)}),R&&M.push({maxWidth:bt(R)}),o||M.push(g.value),M}),g=z(()=>{const{common:{cubicBezierEaseInOut:_,cubicBezierEaseIn:M,cubicBezierEaseOut:E},self:{space:R,spaceArrow:P,padding:D,fontSize:A,textColor:N,dividerColor:j,color:G,boxShadow:Q,borderRadius:te,arrowHeight:F,arrowOffset:K,arrowOffsetVertical:le}}=a.value;return{"--n-box-shadow":Q,"--n-bezier":_,"--n-bezier-ease-in":M,"--n-bezier-ease-out":E,"--n-font-size":A,"--n-text-color":N,"--n-color":G,"--n-divider-color":j,"--n-border-radius":te,"--n-arrow-height":F,"--n-arrow-offset":K,"--n-arrow-offset-vertical":le,"--n-padding":D,"--n-space":R,"--n-space-arrow":P}}),v=o?Pt("popover",void 0,g,t):void 0;l.setBodyInstance({syncPosition:b}),Et(()=>{l.setBodyInstance(null)}),ot(se(t,"show"),_=>{t.animated||(_?c.value=!0:c.value=!1)});function b(){var _;(_=s.value)===null||_===void 0||_.syncPosition()}function y(_){t.trigger==="hover"&&t.keepAliveOnHover&&t.show&&l.handleMouseEnter(_)}function w(_){t.trigger==="hover"&&t.keepAliveOnHover&&l.handleMouseLeave(_)}function C(_){t.trigger==="hover"&&!x().contains(So(_))&&l.handleMouseMoveOutside(_)}function S(_){(t.trigger==="click"&&!x().contains(So(_))||t.onClickoutside)&&l.handleClickOutside(_)}function x(){return l.getTriggerElement()}lt(xl,u),lt(Cl,null),lt(wl,null);function T(){if(v==null||v.onRender(),!(t.displayDirective==="show"||t.show||t.animated&&d.value))return null;let M;const E=l.internalRenderBodyRef.value,{value:R}=e;if(E)M=E([`${R}-popover-shared`,v==null?void 0:v.themeClass.value,t.overlap&&`${R}-popover-shared--overlap`,t.showArrow&&`${R}-popover-shared--show-arrow`,t.arrowPointToCenter&&`${R}-popover-shared--center-arrow`],u,h.value,y,w);else{const{value:P}=l.extraClassRef,{internalTrapFocus:D}=t,A=!Ua(i.header)||!Ua(i.footer),N=()=>{var j;const G=A?p(Hn,null,_t(i.header,F=>F?p("div",{class:`${R}-popover__header`,style:t.headerStyle},F):null),_t(i.default,F=>F?p("div",{class:`${R}-popover__content`,style:t.contentStyle},i):null),_t(i.footer,F=>F?p("div",{class:`${R}-popover__footer`,style:t.footerStyle},F):null)):t.scrollable?(j=i.default)===null||j===void 0?void 0:j.call(i):p("div",{class:`${R}-popover__content`,style:t.contentStyle},i),Q=t.scrollable?p(Dd,{contentClass:A?void 0:`${R}-popover__content`,contentStyle:A?void 0:t.contentStyle},{default:()=>G}):G,te=t.showArrow?Xv({arrowStyle:t.arrowStyle,clsPrefix:R}):null;return[Q,te]};M=p("div",Jr({class:[`${R}-popover`,`${R}-popover-shared`,v==null?void 0:v.themeClass.value,P.map(j=>`${R}-${j}`),{[`${R}-popover--scrollable`]:t.scrollable,[`${R}-popover--show-header-or-footer`]:A,[`${R}-popover--raw`]:t.raw,[`${R}-popover-shared--overlap`]:t.overlap,[`${R}-popover-shared--show-arrow`]:t.showArrow,[`${R}-popover-shared--center-arrow`]:t.arrowPointToCenter}],ref:u,style:h.value,onKeydown:l.handleKeydown,onMouseenter:y,onMouseleave:w},r),D?p(Ld,{active:t.show,autoFocus:!0},{default:N}):N())}return mn(M,f.value)}return{displayed:d,namespace:n,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:s,adjustedTo:Kt(t),followerEnabled:c,renderContentNode:T}},render(){return p(Kl,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Kt.tdkey},{default:()=>this.animated?p(gn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var t;(t=this.internalOnAfterLeave)===null||t===void 0||t.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}});const Jv=Object.keys(yu),Qv={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function em(t,i,r){Qv[i].forEach(n=>{t.props?t.props=Object.assign({},t.props):t.props={};const e=t.props[n],o=r[n];e?t.props[n]=(...a)=>{e(...a),o(...a)}:t.props[n]=o})}const bu={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Kt.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},tm=Object.assign(Object.assign(Object.assign({},De.props),bu),{internalOnAfterLeave:Function,internalRenderBody:Function});var wu=ce({name:"Popover",inheritAttrs:!1,props:tm,__popover__:!0,setup(t){const i=bi(),r=U(null),n=z(()=>t.show),e=U(t.defaultShow),o=yr(n,e),a=st(()=>t.disabled?!1:o.value),s=()=>{if(t.disabled)return!0;const{getDisabled:N}=t;return!!(N!=null&&N())},l=()=>s()?!1:o.value,u=zl(t,["arrow","showArrow"]),c=z(()=>t.overlap?!1:u.value);let d=null;const f=U(null),h=U(null),g=st(()=>t.x!==void 0&&t.y!==void 0);function v(N){const{"onUpdate:show":j,onUpdateShow:G,onShow:Q,onHide:te}=t;e.value=N,j&&Ie(j,N),G&&Ie(G,N),N&&Q&&Ie(Q,!0),N&&te&&Ie(te,!1)}function b(){d&&d.syncPosition()}function y(){const{value:N}=f;N&&(window.clearTimeout(N),f.value=null)}function w(){const{value:N}=h;N&&(window.clearTimeout(N),h.value=null)}function C(){const N=s();if(t.trigger==="focus"&&!N){if(l())return;v(!0)}}function S(){const N=s();if(t.trigger==="focus"&&!N){if(!l())return;v(!1)}}function x(){const N=s();if(t.trigger==="hover"&&!N){if(w(),f.value!==null||l())return;const j=()=>{v(!0),f.value=null},{delay:G}=t;G===0?j():f.value=window.setTimeout(j,G)}}function T(){const N=s();if(t.trigger==="hover"&&!N){if(y(),h.value!==null||!l())return;const j=()=>{v(!1),h.value=null},{duration:G}=t;G===0?j():h.value=window.setTimeout(j,G)}}function _(){T()}function M(N){var j;!l()||(t.trigger==="click"&&(y(),w(),v(!1)),(j=t.onClickoutside)===null||j===void 0||j.call(t,N))}function E(){if(t.trigger==="click"&&!s()){y(),w();const N=!l();v(N)}}function R(N){!t.internalTrapFocus||N.key==="Escape"&&(y(),w(),v(!1))}function P(N){e.value=N}function D(){var N;return(N=r.value)===null||N===void 0?void 0:N.targetRef}function A(N){d=N}return lt("NPopover",{getTriggerElement:D,handleKeydown:R,handleMouseEnter:x,handleMouseLeave:T,handleClickOutside:M,handleMouseMoveOutside:_,setBodyInstance:A,positionManuallyRef:g,isMountedRef:i,zIndexRef:se(t,"zIndex"),extraClassRef:se(t,"internalExtraClass"),internalRenderBodyRef:se(t,"internalRenderBody")}),nn(()=>{o.value&&s()&&v(!1)}),{binderInstRef:r,positionManually:g,mergedShowConsideringDisabledProp:a,uncontrolledShow:e,mergedShowArrow:c,getMergedShow:l,setShow:P,handleClick:E,handleMouseEnter:x,handleMouseLeave:T,handleFocus:C,handleBlur:S,syncPosition:b}},render(){var t;const{positionManually:i,$slots:r}=this;let n,e=!1;if(!i&&(r.activator?n=ja(r,"activator"):n=ja(r,"trigger"),n)){n=ko(n),n=n.type===Fd?p("span",[n]):n;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((t=n.type)===null||t===void 0)&&t.__popover__)e=!0,n.props||(n.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),n.props.internalSyncTargetWithParent=!0,n.props.internalInheritedEventHandlers?n.props.internalInheritedEventHandlers=[o,...n.props.internalInheritedEventHandlers]:n.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:a}=this,s=[o,...a],l={onBlur:u=>{s.forEach(c=>{c.onBlur(u)})},onFocus:u=>{s.forEach(c=>{c.onFocus(u)})},onClick:u=>{s.forEach(c=>{c.onClick(u)})},onMouseenter:u=>{s.forEach(c=>{c.onMouseenter(u)})},onMouseleave:u=>{s.forEach(c=>{c.onMouseleave(u)})}};em(n,a?"nested":i?"manual":this.trigger,l)}}return p(Vl,{ref:"binderInstRef",syncTarget:!e,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const o=this.getMergedShow();return[this.internalTrapFocus&&o?mn(p("div",{style:{position:"fixed",inset:0}}),[[Yo,{enabled:o,zIndex:this.zIndex}]]):null,i?null:p(Gl,null,{default:()=>n}),p(Zv,Md(this.$props,Jv,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:o})),{default:()=>{var a,s;return(s=(a=this.$slots).default)===null||s===void 0?void 0:s.call(a)},header:()=>{var a,s;return(s=(a=this.$slots).header)===null||s===void 0?void 0:s.call(a)},footer:()=>{var a,s;return(s=(a=this.$slots).footer)===null||s===void 0?void 0:s.call(a)}})]}})}}),nm={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"};const rm=t=>{const{textColor2:i,primaryColorHover:r,primaryColorPressed:n,primaryColor:e,infoColor:o,successColor:a,warningColor:s,errorColor:l,baseColor:u,borderColor:c,opacityDisabled:d,tagColor:f,closeIconColor:h,closeIconColorHover:g,closeIconColorPressed:v,borderRadiusSmall:b,fontSizeMini:y,fontSizeTiny:w,fontSizeSmall:C,fontSizeMedium:S,heightMini:x,heightTiny:T,heightSmall:_,heightMedium:M,closeColorHover:E,closeColorPressed:R,buttonColor2Hover:P,buttonColor2Pressed:D,fontWeightStrong:A}=t;return Object.assign(Object.assign({},nm),{closeBorderRadius:b,heightTiny:x,heightSmall:T,heightMedium:_,heightLarge:M,borderRadius:b,opacityDisabled:d,fontSizeTiny:y,fontSizeSmall:w,fontSizeMedium:C,fontSizeLarge:S,fontWeightStrong:A,textColorCheckable:i,textColorHoverCheckable:i,textColorPressedCheckable:i,textColorChecked:u,colorCheckable:"#0000",colorHoverCheckable:P,colorPressedCheckable:D,colorChecked:e,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${c}`,textColor:i,color:f,colorBordered:"rgb(250, 250, 252)",closeIconColor:h,closeIconColorHover:g,closeIconColorPressed:v,closeColorHover:E,closeColorPressed:R,borderPrimary:`1px solid ${xe(e,{alpha:.3})}`,textColorPrimary:e,colorPrimary:xe(e,{alpha:.12}),colorBorderedPrimary:xe(e,{alpha:.1}),closeIconColorPrimary:e,closeIconColorHoverPrimary:e,closeIconColorPressedPrimary:e,closeColorHoverPrimary:xe(e,{alpha:.12}),closeColorPressedPrimary:xe(e,{alpha:.18}),borderInfo:`1px solid ${xe(o,{alpha:.3})}`,textColorInfo:o,colorInfo:xe(o,{alpha:.12}),colorBorderedInfo:xe(o,{alpha:.1}),closeIconColorInfo:o,closeIconColorHoverInfo:o,closeIconColorPressedInfo:o,closeColorHoverInfo:xe(o,{alpha:.12}),closeColorPressedInfo:xe(o,{alpha:.18}),borderSuccess:`1px solid ${xe(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:xe(a,{alpha:.12}),colorBorderedSuccess:xe(a,{alpha:.1}),closeIconColorSuccess:a,closeIconColorHoverSuccess:a,closeIconColorPressedSuccess:a,closeColorHoverSuccess:xe(a,{alpha:.12}),closeColorPressedSuccess:xe(a,{alpha:.18}),borderWarning:`1px solid ${xe(s,{alpha:.35})}`,textColorWarning:s,colorWarning:xe(s,{alpha:.15}),colorBorderedWarning:xe(s,{alpha:.12}),closeIconColorWarning:s,closeIconColorHoverWarning:s,closeIconColorPressedWarning:s,closeColorHoverWarning:xe(s,{alpha:.12}),closeColorPressedWarning:xe(s,{alpha:.18}),borderError:`1px solid ${xe(l,{alpha:.23})}`,textColorError:l,colorError:xe(l,{alpha:.1}),colorBorderedError:xe(l,{alpha:.08}),closeIconColorError:l,closeIconColorHoverError:l,closeIconColorPressedError:l,closeColorHoverError:xe(l,{alpha:.12}),closeColorPressedError:xe(l,{alpha:.18})})},im={name:"Tag",common:xt,self:rm};var om=im,am={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},sm=O("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[X("strong",`
 font-weight: var(--n-font-weight-strong);
 `),W("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),W("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),W("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),W("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),X("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[W("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),W("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),X("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),X("icon, avatar",[X("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),X("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),X("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[at("disabled",[ee("&:hover","background-color: var(--n-color-hover-checkable);",[at("checked","color: var(--n-text-color-hover-checkable);")]),ee("&:active","background-color: var(--n-color-pressed-checkable);",[at("checked","color: var(--n-text-color-pressed-checkable);")])]),X("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[at("disabled",[ee("&:hover","background-color: var(--n-color-checked-hover);"),ee("&:active","background-color: var(--n-color-checked-pressed);")])])])]);const lm=Object.assign(Object.assign(Object.assign({},De.props),am),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),um=Lt("n-tag");var Ji=ce({name:"Tag",props:lm,setup(t){const i=U(null),{mergedBorderedRef:r,mergedClsPrefixRef:n,inlineThemeDisabled:e,mergedRtlRef:o}=ft(t),a=De("Tag","-tag",sm,om,t,n);lt(um,{roundRef:se(t,"round")});function s(h){if(!t.disabled&&t.checkable){const{checked:g,onCheckedChange:v,onUpdateChecked:b,"onUpdate:checked":y}=t;b&&b(!g),y&&y(!g),v&&v(!g)}}function l(h){if(t.triggerClickOnClose||h.stopPropagation(),!t.disabled){const{onClose:g}=t;g&&Ie(g,h)}}const u={setTextContent(h){const{value:g}=i;g&&(g.textContent=h)}},c=ea("Tag",o,n),d=z(()=>{const{type:h,size:g,color:{color:v,textColor:b}={}}=t,{common:{cubicBezierEaseInOut:y},self:{padding:w,closeMargin:C,closeMarginRtl:S,borderRadius:x,opacityDisabled:T,textColorCheckable:_,textColorHoverCheckable:M,textColorPressedCheckable:E,textColorChecked:R,colorCheckable:P,colorHoverCheckable:D,colorPressedCheckable:A,colorChecked:N,colorCheckedHover:j,colorCheckedPressed:G,closeBorderRadius:Q,fontWeightStrong:te,[ye("colorBordered",h)]:F,[ye("closeSize",g)]:K,[ye("closeIconSize",g)]:le,[ye("fontSize",g)]:ke,[ye("height",g)]:je,[ye("color",h)]:Pe,[ye("textColor",h)]:Ne,[ye("border",h)]:We,[ye("closeIconColor",h)]:we,[ye("closeIconColorHover",h)]:Oe,[ye("closeIconColorPressed",h)]:Ke,[ye("closeColorHover",h)]:ut,[ye("closeColorPressed",h)]:Xe}}=a.value;return{"--n-font-weight-strong":te,"--n-avatar-size-override":`calc(${je} - 8px)`,"--n-bezier":y,"--n-border-radius":x,"--n-border":We,"--n-close-icon-size":le,"--n-close-color-pressed":Xe,"--n-close-color-hover":ut,"--n-close-border-radius":Q,"--n-close-icon-color":we,"--n-close-icon-color-hover":Oe,"--n-close-icon-color-pressed":Ke,"--n-close-icon-color-disabled":we,"--n-close-margin":C,"--n-close-margin-rtl":S,"--n-close-size":K,"--n-color":v||(r.value?F:Pe),"--n-color-checkable":P,"--n-color-checked":N,"--n-color-checked-hover":j,"--n-color-checked-pressed":G,"--n-color-hover-checkable":D,"--n-color-pressed-checkable":A,"--n-font-size":ke,"--n-height":je,"--n-opacity-disabled":T,"--n-padding":w,"--n-text-color":b||Ne,"--n-text-color-checkable":_,"--n-text-color-checked":R,"--n-text-color-hover-checkable":M,"--n-text-color-pressed-checkable":E}}),f=e?Pt("tag",z(()=>{let h="";const{type:g,size:v,color:{color:b,textColor:y}={}}=t;return h+=g[0],h+=v[0],b&&(h+=`a${Wa(b)}`),y&&(h+=`b${Wa(y)}`),r.value&&(h+="c"),h}),d,t):void 0;return Object.assign(Object.assign({},u),{rtlEnabled:c,mergedClsPrefix:n,contentRef:i,mergedBordered:r,handleClick:s,handleCloseClick:l,cssVars:e?void 0:d,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender})},render(){var t,i;const{mergedClsPrefix:r,rtlEnabled:n,closable:e,color:{borderColor:o}={},round:a,onRender:s,$slots:l}=this;s==null||s();const u=_t(l.avatar,d=>d&&p("div",{class:`${r}-tag__avatar`},d)),c=_t(l.icon,d=>d&&p("div",{class:`${r}-tag__icon`},d));return p("div",{class:[`${r}-tag`,this.themeClass,{[`${r}-tag--rtl`]:n,[`${r}-tag--strong`]:this.strong,[`${r}-tag--disabled`]:this.disabled,[`${r}-tag--checkable`]:this.checkable,[`${r}-tag--checked`]:this.checkable&&this.checked,[`${r}-tag--round`]:a,[`${r}-tag--avatar`]:u,[`${r}-tag--icon`]:c,[`${r}-tag--closable`]:e}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},c||u,p("span",{class:`${r}-tag__content`,ref:"contentRef"},(i=(t=this.$slots).default)===null||i===void 0?void 0:i.call(t)),!this.checkable&&e?p(Nd,{clsPrefix:r,class:`${r}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?p("div",{class:`${r}-tag__border`,style:{borderColor:o}}):null)}}),cm=O("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[ee(">",[W("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[ee("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),ee("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),W("placeholder",`
 display: flex;
 `),W("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Rl({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Oo=ce({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(t){return Al("-base-clear",cm,se(t,"clsPrefix")),{handleMouseDown(i){i.preventDefault()}}},render(){const{clsPrefix:t}=this;return p("div",{class:`${t}-base-clear`},p(Il,null,{default:()=>{var i,r;return this.show?p("div",{key:"dismiss",class:`${t}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},pn(this.$slots.icon,()=>[p(He,{clsPrefix:t},{default:()=>p(tv,null)})])):p("div",{key:"icon",class:`${t}-base-clear__placeholder`},(r=(i=this.$slots).placeholder)===null||r===void 0?void 0:r.call(i))}}))}}),Cu=ce({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(t,{slots:i}){return()=>{const{clsPrefix:r}=t;return p(El,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:t.loading},{default:()=>t.showArrow?p(Oo,{clsPrefix:r,show:t.showClear,onClear:t.onClear},{placeholder:()=>p(He,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>pn(i.default,()=>[p(ev,null)])})}):null})}}}),dm={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};const fm=t=>{const{borderRadius:i,textColor2:r,textColorDisabled:n,inputColor:e,inputColorDisabled:o,primaryColor:a,primaryColorHover:s,warningColor:l,warningColorHover:u,errorColor:c,errorColorHover:d,borderColor:f,iconColor:h,iconColorDisabled:g,clearColor:v,clearColorHover:b,clearColorPressed:y,placeholderColor:w,placeholderColorDisabled:C,fontSizeTiny:S,fontSizeSmall:x,fontSizeMedium:T,fontSizeLarge:_,heightTiny:M,heightSmall:E,heightMedium:R,heightLarge:P}=t;return Object.assign(Object.assign({},dm),{fontSizeTiny:S,fontSizeSmall:x,fontSizeMedium:T,fontSizeLarge:_,heightTiny:M,heightSmall:E,heightMedium:R,heightLarge:P,borderRadius:i,textColor:r,textColorDisabled:n,placeholderColor:w,placeholderColorDisabled:C,color:e,colorDisabled:o,colorActive:e,border:`1px solid ${f}`,borderHover:`1px solid ${s}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${s}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${xe(a,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${xe(a,{alpha:.2})}`,caretColor:a,arrowColor:h,arrowColorDisabled:g,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${u}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${u}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${xe(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${xe(l,{alpha:.2})}`,colorActiveWarning:e,caretColorWarning:l,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${d}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${d}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${xe(c,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${xe(c,{alpha:.2})}`,colorActiveError:e,caretColorError:c,clearColor:v,clearColorHover:b,clearColorPressed:y})},hm=Wn({name:"InternalSelection",common:xt,peers:{Popover:ca},self:fm});var xu=hm,gm=ee([O("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[O("base-loading",`
 color: var(--n-loading-color);
 `),O("base-selection-tags","min-height: var(--n-height);"),W("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),W("state-border",`
 z-index: 1;
 border-color: #0000;
 `),O("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[W("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),O("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[W("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),O("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[W("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),O("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),O("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[O("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[W("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),W("render-label",`
 color: var(--n-text-color);
 `)]),at("disabled",[ee("&:hover",[W("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),X("focus",[W("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),X("active",[W("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),O("base-selection-label","background-color: var(--n-color-active);"),O("base-selection-tags","background-color: var(--n-color-active);")])]),X("disabled","cursor: not-allowed;",[W("arrow",`
 color: var(--n-arrow-color-disabled);
 `),O("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[O("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),W("render-label",`
 color: var(--n-text-color-disabled);
 `)]),O("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),O("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),O("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[W("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),W("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(t=>X(`${t}-status`,[W("state-border",`border: var(--n-border-${t});`),at("disabled",[ee("&:hover",[W("state-border",`
 box-shadow: var(--n-box-shadow-hover-${t});
 border: var(--n-border-hover-${t});
 `)]),X("active",[W("state-border",`
 box-shadow: var(--n-box-shadow-active-${t});
 border: var(--n-border-active-${t});
 `),O("base-selection-label",`background-color: var(--n-color-active-${t});`),O("base-selection-tags",`background-color: var(--n-color-active-${t});`)]),X("focus",[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]),O("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),O("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[ee("&:last-child","padding-right: 0;"),O("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[W("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),pm=ce({name:"InternalSelection",props:Object.assign(Object.assign({},De.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(t){const i=U(null),r=U(null),n=U(null),e=U(null),o=U(null),a=U(null),s=U(null),l=U(null),u=U(null),c=U(null),d=U(!1),f=U(!1),h=U(!1),g=De("InternalSelection","-internal-selection",gm,xu,t,se(t,"clsPrefix")),v=z(()=>t.clearable&&!t.disabled&&(h.value||t.active)),b=z(()=>t.selectedOption?t.renderTag?t.renderTag({option:t.selectedOption,handleClose:()=>{}}):t.renderLabel?t.renderLabel(t.selectedOption,!0):Bn(t.selectedOption[t.labelField],t.selectedOption,!0):t.placeholder),y=z(()=>{const q=t.selectedOption;if(!!q)return q[t.labelField]}),w=z(()=>t.multiple?!!(Array.isArray(t.selectedOptions)&&t.selectedOptions.length):t.selectedOption!==null);function C(){var q;const{value:ne}=i;if(ne){const{value:ze}=r;ze&&(ze.style.width=`${ne.offsetWidth}px`,t.maxTagCount!=="responsive"&&((q=u.value)===null||q===void 0||q.sync()))}}function S(){const{value:q}=c;q&&(q.style.display="none")}function x(){const{value:q}=c;q&&(q.style.display="inline-block")}ot(se(t,"active"),q=>{q||S()}),ot(se(t,"pattern"),()=>{t.multiple&&yn(C)});function T(q){const{onFocus:ne}=t;ne&&ne(q)}function _(q){const{onBlur:ne}=t;ne&&ne(q)}function M(q){const{onDeleteOption:ne}=t;ne&&ne(q)}function E(q){const{onClear:ne}=t;ne&&ne(q)}function R(q){const{onPatternInput:ne}=t;ne&&ne(q)}function P(q){var ne;(!q.relatedTarget||!(!((ne=n.value)===null||ne===void 0)&&ne.contains(q.relatedTarget)))&&T(q)}function D(q){var ne;!((ne=n.value)===null||ne===void 0)&&ne.contains(q.relatedTarget)||_(q)}function A(q){E(q)}function N(){h.value=!0}function j(){h.value=!1}function G(q){!t.active||!t.filterable||q.target!==r.value&&q.preventDefault()}function Q(q){M(q)}function te(q){if(q.key==="Backspace"&&!F.value&&!t.pattern.length){const{selectedOptions:ne}=t;ne!=null&&ne.length&&Q(ne[ne.length-1])}}const F=U(!1);let K=null;function le(q){const{value:ne}=i;if(ne){const ze=q.target.value;ne.textContent=ze,C()}t.ignoreComposition&&F.value?K=q:R(q)}function ke(){F.value=!0}function je(){F.value=!1,t.ignoreComposition&&R(K),K=null}function Pe(q){var ne;f.value=!0,(ne=t.onPatternFocus)===null||ne===void 0||ne.call(t,q)}function Ne(q){var ne;f.value=!1,(ne=t.onPatternBlur)===null||ne===void 0||ne.call(t,q)}function We(){var q,ne;if(t.filterable)f.value=!1,(q=a.value)===null||q===void 0||q.blur(),(ne=r.value)===null||ne===void 0||ne.blur();else if(t.multiple){const{value:ze}=e;ze==null||ze.blur()}else{const{value:ze}=o;ze==null||ze.blur()}}function we(){var q,ne,ze;t.filterable?(f.value=!1,(q=a.value)===null||q===void 0||q.focus()):t.multiple?(ne=e.value)===null||ne===void 0||ne.focus():(ze=o.value)===null||ze===void 0||ze.focus()}function Oe(){const{value:q}=r;q&&(x(),q.focus())}function Ke(){const{value:q}=r;q&&q.blur()}function ut(q){const{value:ne}=s;ne&&ne.setTextContent(`+${q}`)}function Xe(){const{value:q}=l;return q}function Z(){return r.value}let re=null;function J(){re!==null&&window.clearTimeout(re)}function Re(){t.disabled||t.active||(J(),re=window.setTimeout(()=>{w.value&&(d.value=!0)},100))}function Ae(){J()}function qe(q){q||(J(),d.value=!1)}ot(w,q=>{q||(d.value=!1)}),ht(()=>{nn(()=>{const q=a.value;!q||(q.tabIndex=t.disabled||f.value?-1:0)})}),ql(n,t.onResize);const{inlineThemeDisabled:Ue}=t,Je=z(()=>{const{size:q}=t,{common:{cubicBezierEaseInOut:ne},self:{borderRadius:ze,color:Nt,placeholderColor:Xn,textColor:Zn,paddingSingle:Jn,paddingMultiple:Qn,caretColor:_n,colorDisabled:Sn,textColorDisabled:kn,placeholderColorDisabled:er,colorActive:tr,boxShadowFocus:Tn,boxShadowActive:mt,boxShadowHover:L,border:Y,borderFocus:de,borderHover:_e,borderActive:me,arrowColor:Ce,arrowColorDisabled:pe,loadingColor:Qe,colorActiveWarning:sn,boxShadowFocusWarning:nr,boxShadowActiveWarning:En,boxShadowHoverWarning:Pn,borderWarning:Fi,borderFocusWarning:Mi,borderHoverWarning:Ir,borderActiveWarning:qt,colorActiveError:k,boxShadowFocusError:$,boxShadowActiveError:ae,boxShadowHoverError:Be,borderError:Ge,borderFocusError:Me,borderHoverError:Bt,borderActiveError:$t,clearColor:zt,clearColorHover:ln,clearColorPressed:un,clearSize:rr,arrowSize:Ni,[ye("height",q)]:Bi,[ye("fontSize",q)]:$i}}=g.value;return{"--n-bezier":ne,"--n-border":Y,"--n-border-active":me,"--n-border-focus":de,"--n-border-hover":_e,"--n-border-radius":ze,"--n-box-shadow-active":mt,"--n-box-shadow-focus":Tn,"--n-box-shadow-hover":L,"--n-caret-color":_n,"--n-color":Nt,"--n-color-active":tr,"--n-color-disabled":Sn,"--n-font-size":$i,"--n-height":Bi,"--n-padding-single":Jn,"--n-padding-multiple":Qn,"--n-placeholder-color":Xn,"--n-placeholder-color-disabled":er,"--n-text-color":Zn,"--n-text-color-disabled":kn,"--n-arrow-color":Ce,"--n-arrow-color-disabled":pe,"--n-loading-color":Qe,"--n-color-active-warning":sn,"--n-box-shadow-focus-warning":nr,"--n-box-shadow-active-warning":En,"--n-box-shadow-hover-warning":Pn,"--n-border-warning":Fi,"--n-border-focus-warning":Mi,"--n-border-hover-warning":Ir,"--n-border-active-warning":qt,"--n-color-active-error":k,"--n-box-shadow-focus-error":$,"--n-box-shadow-active-error":ae,"--n-box-shadow-hover-error":Be,"--n-border-error":Ge,"--n-border-focus-error":Me,"--n-border-hover-error":Bt,"--n-border-active-error":$t,"--n-clear-size":rr,"--n-clear-color":zt,"--n-clear-color-hover":ln,"--n-clear-color-pressed":un,"--n-arrow-size":Ni}}),Ve=Ue?Pt("internal-selection",z(()=>t.size[0]),Je,t):void 0;return{mergedTheme:g,mergedClearable:v,patternInputFocused:f,filterablePlaceholder:b,label:y,selected:w,showTagsPanel:d,isComposing:F,counterRef:s,counterWrapperRef:l,patternInputMirrorRef:i,patternInputRef:r,selfRef:n,multipleElRef:e,singleElRef:o,patternInputWrapperRef:a,overflowRef:u,inputTagElRef:c,handleMouseDown:G,handleFocusin:P,handleClear:A,handleMouseEnter:N,handleMouseLeave:j,handleDeleteOption:Q,handlePatternKeyDown:te,handlePatternInputInput:le,handlePatternInputBlur:Ne,handlePatternInputFocus:Pe,handleMouseEnterCounter:Re,handleMouseLeaveCounter:Ae,handleFocusout:D,handleCompositionEnd:je,handleCompositionStart:ke,onPopoverUpdateShow:qe,focus:we,focusInput:Oe,blur:We,blurInput:Ke,updateCounter:ut,getCounter:Xe,getTail:Z,renderLabel:t.renderLabel,cssVars:Ue?void 0:Je,themeClass:Ve==null?void 0:Ve.themeClass,onRender:Ve==null?void 0:Ve.onRender}},render(){const{status:t,multiple:i,size:r,disabled:n,filterable:e,maxTagCount:o,bordered:a,clsPrefix:s,onRender:l,renderTag:u,renderLabel:c}=this;l==null||l();const d=o==="responsive",f=typeof o=="number",h=d||f,g=p(Bd,null,{default:()=>p(Cu,{clsPrefix:s,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var b,y;return(y=(b=this.$slots).arrow)===null||y===void 0?void 0:y.call(b)}})});let v;if(i){const{labelField:b}=this,y=D=>p("div",{class:`${s}-base-selection-tag-wrapper`,key:D.value},u?u({option:D,handleClose:()=>{this.handleDeleteOption(D)}}):p(Ji,{size:r,closable:!D.disabled,disabled:n,onClose:()=>{this.handleDeleteOption(D)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>c?c(D,!0):Bn(D[b],D,!0)})),w=()=>(f?this.selectedOptions.slice(0,o):this.selectedOptions).map(y),C=e?p("div",{class:`${s}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:n,value:this.pattern,autofocus:this.autofocus,class:`${s}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),p("span",{ref:"patternInputMirrorRef",class:`${s}-base-selection-input-tag__mirror`},this.pattern)):null,S=d?()=>p("div",{class:`${s}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},p(Ji,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:n})):void 0;let x;if(f){const D=this.selectedOptions.length-o;D>0&&(x=p("div",{class:`${s}-base-selection-tag-wrapper`,key:"__counter__"},p(Ji,{size:r,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:n},{default:()=>`+${D}`})))}const T=d?e?p(es,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:w,counter:S,tail:()=>C}):p(es,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:w,counter:S}):f?w().concat(x):w(),_=h?()=>p("div",{class:`${s}-base-selection-popover`},d?w():this.selectedOptions.map(y)):void 0,M=h?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,R=(this.selected?!1:this.active?!this.pattern&&!this.isComposing:!0)?p("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`},p("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)):null,P=e?p("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-tags`},T,d?null:C,g):p("div",{ref:"multipleElRef",class:`${s}-base-selection-tags`,tabindex:n?void 0:0},T,g);v=p(Hn,null,h?p(wu,Object.assign({},M,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>P,default:_}):P,R)}else if(e){const b=this.pattern||this.isComposing,y=this.active?!b:!this.selected,w=this.active?!1:this.selected;v=p("div",{ref:"patternInputWrapperRef",class:`${s}-base-selection-label`},p("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${s}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:n,disabled:n,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),w?p("div",{class:`${s}-base-selection-label__render-label ${s}-base-selection-overlay`,key:"input"},p("div",{class:`${s}-base-selection-overlay__wrapper`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):Bn(this.label,this.selectedOption,!0))):null,y?p("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${s}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,g)}else v=p("div",{ref:"singleElRef",class:`${s}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?p("div",{class:`${s}-base-selection-input`,title:lf(this.label),key:"input"},p("div",{class:`${s}-base-selection-input__content`},u?u({option:this.selectedOption,handleClose:()=>{}}):c?c(this.selectedOption,!0):Bn(this.label,this.selectedOption,!0))):p("div",{class:`${s}-base-selection-placeholder ${s}-base-selection-overlay`,key:"placeholder"},p("div",{class:`${s}-base-selection-placeholder__inner`},this.placeholder)),g);return p("div",{ref:"selfRef",class:[`${s}-base-selection`,this.themeClass,t&&`${s}-base-selection--${t}-status`,{[`${s}-base-selection--active`]:this.active,[`${s}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${s}-base-selection--disabled`]:this.disabled,[`${s}-base-selection--multiple`]:this.multiple,[`${s}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},v,a?p("div",{class:`${s}-base-selection__border`}):null,a?p("div",{class:`${s}-base-selection__state-border`}):null)}});function oi(t){return t.type==="group"}function _u(t){return t.type==="ignored"}function Qi(t,i){try{return!!(1+i.toString().toLowerCase().indexOf(t.trim().toLowerCase()))}catch{return!1}}function vm(t,i){return{getIsGroup:oi,getIgnored:_u,getKey(n){return oi(n)?n.name||n.key||"key-required":n[t]},getChildren(n){return n[i]}}}function mm(t,i,r,n){if(!i)return t;function e(o){if(!Array.isArray(o))return[];const a=[];for(const s of o)if(oi(s)){const l=e(s[n]);l.length&&a.push(Object.assign({},s,{[n]:l}))}else{if(_u(s))continue;i(r,s)&&a.push(s)}return a}return e(t)}function ym(t,i,r){const n=new Map;return t.forEach(e=>{oi(e)?e[r].forEach(o=>{n.set(o[i],o)}):n.set(e[i],e)}),n}var bm={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"};const wm=t=>{const{textColor2:i,textColor3:r,textColorDisabled:n,primaryColor:e,primaryColorHover:o,inputColor:a,inputColorDisabled:s,borderColor:l,warningColor:u,warningColorHover:c,errorColor:d,errorColorHover:f,borderRadius:h,lineHeight:g,fontSizeTiny:v,fontSizeSmall:b,fontSizeMedium:y,fontSizeLarge:w,heightTiny:C,heightSmall:S,heightMedium:x,heightLarge:T,actionColor:_,clearColor:M,clearColorHover:E,clearColorPressed:R,placeholderColor:P,placeholderColorDisabled:D,iconColor:A,iconColorDisabled:N,iconColorHover:j,iconColorPressed:G}=t;return Object.assign(Object.assign({},bm),{countTextColorDisabled:n,countTextColor:r,heightTiny:C,heightSmall:S,heightMedium:x,heightLarge:T,fontSizeTiny:v,fontSizeSmall:b,fontSizeMedium:y,fontSizeLarge:w,lineHeight:g,lineHeightTextarea:g,borderRadius:h,iconSize:"16px",groupLabelColor:_,groupLabelTextColor:i,textColor:i,textColorDisabled:n,textDecorationColor:i,caretColor:e,placeholderColor:P,placeholderColorDisabled:D,color:a,colorDisabled:s,colorFocus:a,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${o}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${o}`,boxShadowFocus:`0 0 0 2px ${xe(e,{alpha:.2})}`,loadingColor:e,loadingColorWarning:u,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:a,borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 0 2px ${xe(u,{alpha:.2})}`,caretColorWarning:u,loadingColorError:d,borderError:`1px solid ${d}`,borderHoverError:`1px solid ${f}`,colorFocusError:a,borderFocusError:`1px solid ${f}`,boxShadowFocusError:`0 0 0 2px ${xe(d,{alpha:.2})}`,caretColorError:d,clearColor:M,clearColorHover:E,clearColorPressed:R,iconColor:A,iconColorDisabled:N,iconColorHover:j,iconColorPressed:G,suffixTextColor:i})},Cm={name:"Input",common:xt,self:wm};var xm=Cm;const Su=Lt("n-input");function _m(t){let i=0;for(const r of t)i++;return i}function Fr(t){return t===""||t==null}function Sm(t){const i=U(null);function r(){const{value:o}=t;if(!(o!=null&&o.focus)){e();return}const{selectionStart:a,selectionEnd:s,value:l}=o;if(a==null||s==null){e();return}i.value={start:a,end:s,beforeText:l.slice(0,a),afterText:l.slice(s)}}function n(){var o;const{value:a}=i,{value:s}=t;if(!a||!s)return;const{value:l}=s,{start:u,beforeText:c,afterText:d}=a;let f=l.length;if(l.endsWith(d))f=l.length-d.length;else if(l.startsWith(c))f=c.length;else{const h=c[u-1],g=l.indexOf(h,u-1);g!==-1&&(f=g+1)}(o=s.setSelectionRange)===null||o===void 0||o.call(s,f,f)}function e(){i.value=null}return ot(t,e),{recordCursor:r,restoreCursor:n}}var Cs=ce({name:"InputWordCount",setup(t,{slots:i}){const{mergedValueRef:r,maxlengthRef:n,mergedClsPrefixRef:e,countGraphemesRef:o}=Fe(Su),a=z(()=>{const{value:s}=r;return s===null||Array.isArray(s)?0:(o.value||_m)(s)});return()=>{const{value:s}=n,{value:l}=r;return p("span",{class:`${e.value}-input-word-count`},$d(i.default,{value:l===null||Array.isArray(l)?"":l},()=>[s===void 0?a.value:`${a.value} / ${s}`]))}}}),km=O("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[W("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),W("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),W("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[ee("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),ee("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),ee("&:-webkit-autofill ~",[W("placeholder","display: none;")])]),X("round",[at("textarea","border-radius: calc(var(--n-height) / 2);")]),W("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[ee("span",`
 width: 100%;
 display: inline-block;
 `)]),X("textarea",[W("placeholder","overflow: visible;")]),at("autosize","width: 100%;"),X("autosize",[W("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),O("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),W("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),W("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[ee("+",[W("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),at("textarea",[W("placeholder","white-space: nowrap;")]),W("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),X("textarea","width: 100%;",[O("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),X("resizable",[O("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),W("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),W("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),X("pair",[W("input-el, placeholder","text-align: center;"),W("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[O("icon",`
 color: var(--n-icon-color);
 `),O("base-icon",`
 color: var(--n-icon-color);
 `)])]),X("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[W("border","border: var(--n-border-disabled);"),W("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),W("placeholder","color: var(--n-placeholder-color-disabled);"),W("separator","color: var(--n-text-color-disabled);",[O("icon",`
 color: var(--n-icon-color-disabled);
 `),O("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),O("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),W("suffix, prefix","color: var(--n-text-color-disabled);",[O("icon",`
 color: var(--n-icon-color-disabled);
 `),O("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),at("disabled",[W("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[ee("&:hover",`
 color: var(--n-icon-color-hover);
 `),ee("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),ee("&:hover",[W("state-border","border: var(--n-border-hover);")]),X("focus","background-color: var(--n-color-focus);",[W("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),W("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),W("state-border",`
 border-color: #0000;
 z-index: 1;
 `),W("prefix","margin-right: 4px;"),W("suffix",`
 margin-left: 4px;
 `),W("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[O("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),O("base-clear",`
 font-size: var(--n-icon-size);
 `,[W("placeholder",[O("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),ee(">",[O("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),O("base-icon",`
 font-size: var(--n-icon-size);
 `)]),O("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(t=>X(`${t}-status`,[at("disabled",[O("base-loading",`
 color: var(--n-loading-color-${t})
 `),W("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${t});
 `),W("state-border",`
 border: var(--n-border-${t});
 `),ee("&:hover",[W("state-border",`
 border: var(--n-border-hover-${t});
 `)]),ee("&:focus",`
 background-color: var(--n-color-focus-${t});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)]),X("focus",`
 background-color: var(--n-color-focus-${t});
 `,[W("state-border",`
 box-shadow: var(--n-box-shadow-focus-${t});
 border: var(--n-border-focus-${t});
 `)])])]))]);const Tm=O("input",[X("disabled",[W("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),Em=Object.assign(Object.assign({},De.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean});var Pm=ce({name:"Input",props:Em,setup(t){const{mergedClsPrefixRef:i,mergedBorderedRef:r,inlineThemeDisabled:n,mergedRtlRef:e}=ft(t),o=De("Input","-input",km,xm,t,i);zd&&Al("-input-safari",Tm,i);const a=U(null),s=U(null),l=U(null),u=U(null),c=U(null),d=U(null),f=U(null),h=Sm(f),g=U(null),{localeRef:v}=Ti("Input"),b=U(t.defaultValue),y=se(t,"value"),w=yr(y,b),C=ta(t),{mergedSizeRef:S,mergedDisabledRef:x,mergedStatusRef:T}=C,_=U(!1),M=U(!1),E=U(!1),R=U(!1);let P=null;const D=z(()=>{const{placeholder:k,pair:$}=t;return $?Array.isArray(k)?k:k===void 0?["",""]:[k,k]:k===void 0?[v.value.placeholder]:[k]}),A=z(()=>{const{value:k}=E,{value:$}=w,{value:ae}=D;return!k&&(Fr($)||Array.isArray($)&&Fr($[0]))&&ae[0]}),N=z(()=>{const{value:k}=E,{value:$}=w,{value:ae}=D;return!k&&ae[1]&&(Fr($)||Array.isArray($)&&Fr($[1]))}),j=st(()=>t.internalForceFocus||_.value),G=st(()=>{if(x.value||t.readonly||!t.clearable||!j.value&&!M.value)return!1;const{value:k}=w,{value:$}=j;return t.pair?!!(Array.isArray(k)&&(k[0]||k[1]))&&(M.value||$):!!k&&(M.value||$)}),Q=z(()=>{const{showPasswordOn:k}=t;if(k)return k;if(t.showPasswordToggle)return"click"}),te=U(!1),F=z(()=>{const{textDecoration:k}=t;return k?Array.isArray(k)?k.map($=>({textDecoration:$})):[{textDecoration:k}]:["",""]}),K=U(void 0),le=()=>{var k,$;if(t.type==="textarea"){const{autosize:ae}=t;if(ae&&(K.value=($=(k=g.value)===null||k===void 0?void 0:k.$el)===null||$===void 0?void 0:$.offsetWidth),!s.value||typeof ae=="boolean")return;const{paddingTop:Be,paddingBottom:Ge,lineHeight:Me}=window.getComputedStyle(s.value),Bt=Number(Be.slice(0,-2)),$t=Number(Ge.slice(0,-2)),zt=Number(Me.slice(0,-2)),{value:ln}=l;if(!ln)return;if(ae.minRows){const un=Math.max(ae.minRows,1),rr=`${Bt+$t+zt*un}px`;ln.style.minHeight=rr}if(ae.maxRows){const un=`${Bt+$t+zt*ae.maxRows}px`;ln.style.maxHeight=un}}},ke=z(()=>{const{maxlength:k}=t;return k===void 0?void 0:Number(k)});ht(()=>{const{value:k}=w;Array.isArray(k)||pe(k)});const je=Sr().proxy;function Pe(k){const{onUpdateValue:$,"onUpdate:value":ae,onInput:Be}=t,{nTriggerFormInput:Ge}=C;$&&Ie($,k),ae&&Ie(ae,k),Be&&Ie(Be,k),b.value=k,Ge()}function Ne(k){const{onChange:$}=t,{nTriggerFormChange:ae}=C;$&&Ie($,k),b.value=k,ae()}function We(k){const{onBlur:$}=t,{nTriggerFormBlur:ae}=C;$&&Ie($,k),ae()}function we(k){const{onFocus:$}=t,{nTriggerFormFocus:ae}=C;$&&Ie($,k),ae()}function Oe(k){const{onClear:$}=t;$&&Ie($,k)}function Ke(k){const{onInputBlur:$}=t;$&&Ie($,k)}function ut(k){const{onInputFocus:$}=t;$&&Ie($,k)}function Xe(){const{onDeactivate:k}=t;k&&Ie(k)}function Z(){const{onActivate:k}=t;k&&Ie(k)}function re(k){const{onClick:$}=t;$&&Ie($,k)}function J(k){const{onWrapperFocus:$}=t;$&&Ie($,k)}function Re(k){const{onWrapperBlur:$}=t;$&&Ie($,k)}function Ae(){E.value=!0}function qe(k){E.value=!1,k.target===d.value?Ue(k,1):Ue(k,0)}function Ue(k,$=0,ae="input"){const Be=k.target.value;if(pe(Be),k instanceof InputEvent&&!k.isComposing&&(E.value=!1),t.type==="textarea"){const{value:Me}=g;Me&&Me.syncUnifiedContainer()}if(P=Be,E.value)return;h.recordCursor();const Ge=Je(Be);if(Ge)if(!t.pair)ae==="input"?Pe(Be):Ne(Be);else{let{value:Me}=w;Array.isArray(Me)?Me=[Me[0],Me[1]]:Me=["",""],Me[$]=Be,ae==="input"?Pe(Me):Ne(Me)}je.$forceUpdate(),Ge||yn(h.restoreCursor)}function Je(k){const{countGraphemes:$,maxlength:ae,minlength:Be}=t;if($){let Me;if(ae!==void 0&&(Me===void 0&&(Me=$(k)),Me>Number(ae))||Be!==void 0&&(Me===void 0&&(Me=$(k)),Me<Number(ae)))return!1}const{allowInput:Ge}=t;return typeof Ge=="function"?Ge(k):!0}function Ve(k){Ke(k),k.relatedTarget===a.value&&Xe(),k.relatedTarget!==null&&(k.relatedTarget===c.value||k.relatedTarget===d.value||k.relatedTarget===s.value)||(R.value=!1),Nt(k,"blur"),f.value=null}function q(k,$){ut(k),_.value=!0,R.value=!0,Z(),Nt(k,"focus"),$===0?f.value=c.value:$===1?f.value=d.value:$===2&&(f.value=s.value)}function ne(k){t.passivelyActivated&&(Re(k),Nt(k,"blur"))}function ze(k){t.passivelyActivated&&(_.value=!0,J(k),Nt(k,"focus"))}function Nt(k,$){k.relatedTarget!==null&&(k.relatedTarget===c.value||k.relatedTarget===d.value||k.relatedTarget===s.value||k.relatedTarget===a.value)||($==="focus"?(we(k),_.value=!0):$==="blur"&&(We(k),_.value=!1))}function Xn(k,$){Ue(k,$,"change")}function Zn(k){re(k)}function Jn(k){Oe(k),t.pair?(Pe(["",""]),Ne(["",""])):(Pe(""),Ne(""))}function Qn(k){const{onMousedown:$}=t;$&&$(k);const{tagName:ae}=k.target;if(ae!=="INPUT"&&ae!=="TEXTAREA"){if(t.resizable){const{value:Be}=a;if(Be){const{left:Ge,top:Me,width:Bt,height:$t}=Be.getBoundingClientRect(),zt=14;if(Ge+Bt-zt<k.clientX&&k.clientX<Ge+Bt&&Me+$t-zt<k.clientY&&k.clientY<Me+$t)return}}k.preventDefault(),_.value||L()}}function _n(){var k;M.value=!0,t.type==="textarea"&&((k=g.value)===null||k===void 0||k.handleMouseEnterWrapper())}function Sn(){var k;M.value=!1,t.type==="textarea"&&((k=g.value)===null||k===void 0||k.handleMouseLeaveWrapper())}function kn(){x.value||Q.value==="click"&&(te.value=!te.value)}function er(k){if(x.value)return;k.preventDefault();const $=Be=>{Be.preventDefault(),pt("mouseup",document,$)};if(kt("mouseup",document,$),Q.value!=="mousedown")return;te.value=!0;const ae=()=>{te.value=!1,pt("mouseup",document,ae)};kt("mouseup",document,ae)}function tr(k){var $;switch(($=t.onKeydown)===null||$===void 0||$.call(t,k),k.key){case"Escape":mt();break;case"Enter":Tn(k);break}}function Tn(k){var $,ae;if(t.passivelyActivated){const{value:Be}=R;if(Be){t.internalDeactivateOnEnter&&mt();return}k.preventDefault(),t.type==="textarea"?($=s.value)===null||$===void 0||$.focus():(ae=c.value)===null||ae===void 0||ae.focus()}}function mt(){t.passivelyActivated&&(R.value=!1,yn(()=>{var k;(k=a.value)===null||k===void 0||k.focus()}))}function L(){var k,$,ae;x.value||(t.passivelyActivated?(k=a.value)===null||k===void 0||k.focus():(($=s.value)===null||$===void 0||$.focus(),(ae=c.value)===null||ae===void 0||ae.focus()))}function Y(){var k;!((k=a.value)===null||k===void 0)&&k.contains(document.activeElement)&&document.activeElement.blur()}function de(){var k,$;(k=s.value)===null||k===void 0||k.select(),($=c.value)===null||$===void 0||$.select()}function _e(){x.value||(s.value?s.value.focus():c.value&&c.value.focus())}function me(){const{value:k}=a;(k==null?void 0:k.contains(document.activeElement))&&k!==document.activeElement&&mt()}function Ce(k){if(t.type==="textarea"){const{value:$}=s;$==null||$.scrollTo(k)}else{const{value:$}=c;$==null||$.scrollTo(k)}}function pe(k){const{type:$,pair:ae,autosize:Be}=t;if(!ae&&Be)if($==="textarea"){const{value:Ge}=l;Ge&&(Ge.textContent=(k!=null?k:"")+`\r
`)}else{const{value:Ge}=u;Ge&&(k?Ge.textContent=k:Ge.innerHTML="&nbsp;")}}function Qe(){le()}const sn=U({top:"0"});function nr(k){var $;const{scrollTop:ae}=k.target;sn.value.top=`${-ae}px`,($=g.value)===null||$===void 0||$.syncUnifiedContainer()}let En=null;nn(()=>{const{autosize:k,type:$}=t;k&&$==="textarea"?En=ot(w,ae=>{!Array.isArray(ae)&&ae!==P&&pe(ae)}):En==null||En()});let Pn=null;nn(()=>{t.type==="textarea"?Pn=ot(w,k=>{var $;!Array.isArray(k)&&k!==P&&(($=g.value)===null||$===void 0||$.syncUnifiedContainer())}):Pn==null||Pn()}),lt(Su,{mergedValueRef:w,maxlengthRef:ke,mergedClsPrefixRef:i,countGraphemesRef:se(t,"countGraphemes")});const Fi={wrapperElRef:a,inputElRef:c,textareaElRef:s,isCompositing:E,focus:L,blur:Y,select:de,deactivate:me,activate:_e,scrollTo:Ce},Mi=ea("Input",e,i),Ir=z(()=>{const{value:k}=S,{common:{cubicBezierEaseInOut:$},self:{color:ae,borderRadius:Be,textColor:Ge,caretColor:Me,caretColorError:Bt,caretColorWarning:$t,textDecorationColor:zt,border:ln,borderDisabled:un,borderHover:rr,borderFocus:Ni,placeholderColor:Bi,placeholderColorDisabled:$i,lineHeightTextarea:Lc,colorDisabled:Dc,colorFocus:Fc,textColorDisabled:Mc,boxShadowFocus:Nc,iconSize:Bc,colorFocusWarning:$c,boxShadowFocusWarning:zc,borderWarning:Hc,borderFocusWarning:Uc,borderHoverWarning:jc,colorFocusError:Wc,boxShadowFocusError:Vc,borderError:Gc,borderFocusError:Kc,borderHoverError:qc,clearSize:Yc,clearColor:Xc,clearColorHover:Zc,clearColorPressed:Jc,iconColor:Qc,iconColorDisabled:ed,suffixTextColor:td,countTextColor:nd,countTextColorDisabled:rd,iconColorHover:id,iconColorPressed:od,loadingColor:ad,loadingColorError:sd,loadingColorWarning:ld,[ye("padding",k)]:ud,[ye("fontSize",k)]:cd,[ye("height",k)]:dd}}=o.value,{left:fd,right:hd}=Gr(ud);return{"--n-bezier":$,"--n-count-text-color":nd,"--n-count-text-color-disabled":rd,"--n-color":ae,"--n-font-size":cd,"--n-border-radius":Be,"--n-height":dd,"--n-padding-left":fd,"--n-padding-right":hd,"--n-text-color":Ge,"--n-caret-color":Me,"--n-text-decoration-color":zt,"--n-border":ln,"--n-border-disabled":un,"--n-border-hover":rr,"--n-border-focus":Ni,"--n-placeholder-color":Bi,"--n-placeholder-color-disabled":$i,"--n-icon-size":Bc,"--n-line-height-textarea":Lc,"--n-color-disabled":Dc,"--n-color-focus":Fc,"--n-text-color-disabled":Mc,"--n-box-shadow-focus":Nc,"--n-loading-color":ad,"--n-caret-color-warning":$t,"--n-color-focus-warning":$c,"--n-box-shadow-focus-warning":zc,"--n-border-warning":Hc,"--n-border-focus-warning":Uc,"--n-border-hover-warning":jc,"--n-loading-color-warning":ld,"--n-caret-color-error":Bt,"--n-color-focus-error":Wc,"--n-box-shadow-focus-error":Vc,"--n-border-error":Gc,"--n-border-focus-error":Kc,"--n-border-hover-error":qc,"--n-loading-color-error":sd,"--n-clear-color":Xc,"--n-clear-size":Yc,"--n-clear-color-hover":Zc,"--n-clear-color-pressed":Jc,"--n-icon-color":Qc,"--n-icon-color-hover":id,"--n-icon-color-pressed":od,"--n-icon-color-disabled":ed,"--n-suffix-text-color":td}}),qt=n?Pt("input",z(()=>{const{value:k}=S;return k[0]}),Ir,t):void 0;return Object.assign(Object.assign({},Fi),{wrapperElRef:a,inputElRef:c,inputMirrorElRef:u,inputEl2Ref:d,textareaElRef:s,textareaMirrorElRef:l,textareaScrollbarInstRef:g,rtlEnabled:Mi,uncontrolledValue:b,mergedValue:w,passwordVisible:te,mergedPlaceholder:D,showPlaceholder1:A,showPlaceholder2:N,mergedFocus:j,isComposing:E,activated:R,showClearButton:G,mergedSize:S,mergedDisabled:x,textDecorationStyle:F,mergedClsPrefix:i,mergedBordered:r,mergedShowPasswordOn:Q,placeholderStyle:sn,mergedStatus:T,textAreaScrollContainerWidth:K,handleTextAreaScroll:nr,handleCompositionStart:Ae,handleCompositionEnd:qe,handleInput:Ue,handleInputBlur:Ve,handleInputFocus:q,handleWrapperBlur:ne,handleWrapperFocus:ze,handleMouseEnter:_n,handleMouseLeave:Sn,handleMouseDown:Qn,handleChange:Xn,handleClick:Zn,handleClear:Jn,handlePasswordToggleClick:kn,handlePasswordToggleMousedown:er,handleWrapperKeydown:tr,handleTextAreaMirrorResize:Qe,getTextareaScrollContainer:()=>s.value,mergedTheme:o,cssVars:n?void 0:Ir,themeClass:qt==null?void 0:qt.themeClass,onRender:qt==null?void 0:qt.onRender})},render(){var t,i;const{mergedClsPrefix:r,mergedStatus:n,themeClass:e,type:o,countGraphemes:a,onRender:s}=this,l=this.$slots;return s==null||s(),p("div",{ref:"wrapperElRef",class:[`${r}-input`,e,n&&`${r}-input--${n}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:o==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&o!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},p("div",{class:`${r}-input-wrapper`},_t(l.prefix,u=>u&&p("div",{class:`${r}-input__prefix`},u)),o==="textarea"?p(Pl,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var u,c;const{textAreaScrollContainerWidth:d}=this,f={width:this.autosize&&d&&`${d}px`};return p(Hn,null,p("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(u=this.inputProps)===null||u===void 0?void 0:u.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(c=this.inputProps)===null||c===void 0?void 0:c.style,f],onBlur:this.handleInputBlur,onFocus:h=>{this.handleInputFocus(h,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?p("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?p(Qr,{onResize:this.handleTextAreaMirrorResize},{default:()=>p("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):p("div",{class:`${r}-input__input`},p("input",Object.assign({type:o==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":o},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(t=this.inputProps)===null||t===void 0?void 0:t.class],style:[this.textDecorationStyle[0],(i=this.inputProps)===null||i===void 0?void 0:i.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:u=>{this.handleInputFocus(u,0)},onInput:u=>{this.handleInput(u,0)},onChange:u=>{this.handleChange(u,0)}})),this.showPlaceholder1?p("div",{class:`${r}-input__placeholder`},p("span",null,this.mergedPlaceholder[0])):null,this.autosize?p("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&_t(l.suffix,u=>u||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?p("div",{class:`${r}-input__suffix`},[_t(l["clear-icon-placeholder"],c=>(this.clearable||c)&&p(Oo,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>c,icon:()=>{var d,f;return(f=(d=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(d)}})),this.internalLoadingBeforeSuffix?null:u,this.loading!==void 0?p(Cu,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?u:null,this.showCount&&this.type!=="textarea"?p(Cs,null,{default:c=>{var d;return(d=l.count)===null||d===void 0?void 0:d.call(l,c)}}):null,this.mergedShowPasswordOn&&this.type==="password"?p("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?pn(l["password-visible-icon"],()=>[p(He,{clsPrefix:r},{default:()=>p(hu,null)})]):pn(l["password-invisible-icon"],()=>[p(He,{clsPrefix:r},{default:()=>p(Yp,null)})])):null]):null)),this.pair?p("span",{class:`${r}-input__separator`},pn(l.separator,()=>[this.separator])):null,this.pair?p("div",{class:`${r}-input-wrapper`},p("div",{class:`${r}-input__input`},p("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:u=>{this.handleInputFocus(u,1)},onInput:u=>{this.handleInput(u,1)},onChange:u=>{this.handleChange(u,1)}}),this.showPlaceholder2?p("div",{class:`${r}-input__placeholder`},p("span",null,this.mergedPlaceholder[1])):null),_t(l.suffix,u=>(this.clearable||u)&&p("div",{class:`${r}-input__suffix`},[this.clearable&&p(Oo,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var c;return(c=l["clear-icon"])===null||c===void 0?void 0:c.call(l)},placeholder:()=>{var c;return(c=l["clear-icon-placeholder"])===null||c===void 0?void 0:c.call(l)}}),u]))):null,this.mergedBordered?p("div",{class:`${r}-input__border`}):null,this.mergedBordered?p("div",{class:`${r}-input__state-border`}):null,this.showCount&&o==="textarea"?p(Cs,null,{default:u=>{var c;const{renderCount:d}=this;return d?d(u):(c=l.count)===null||c===void 0?void 0:c.call(l,u)}}):null)}});const Rm=xi&&"loading"in document.createElement("img"),Am=(t={})=>{var i;const{root:r=null}=t;return{hash:`${t.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(t.threshold)?t.threshold.join(","):(i=t.threshold)!==null&&i!==void 0?i:"0"}`,options:Object.assign(Object.assign({},t),{root:(typeof r=="string"?document.querySelector(r):r)||document.documentElement})}},eo=new WeakMap,to=new WeakMap,no=new WeakMap,Im=(t,i,r)=>{if(!t)return()=>{};const n=Am(i),{root:e}=n.options;let o;const a=eo.get(e);a?o=a:(o=new Map,eo.set(e,o));let s,l;o.has(n.hash)?(l=o.get(n.hash),l[1].has(t)||(s=l[0],l[1].add(t),s.observe(t))):(s=new IntersectionObserver(d=>{d.forEach(f=>{if(f.isIntersecting){const h=to.get(f.target),g=no.get(f.target);h&&h(),g&&(g.value=!0)}})},n.options),s.observe(t),l=[s,new Set([t])],o.set(n.hash,l));let u=!1;const c=()=>{u||(to.delete(t),no.delete(t),u=!0,l[1].has(t)&&(l[0].unobserve(t),l[1].delete(t)),l[1].size<=0&&o.delete(n.hash),o.size||eo.delete(e))};return to.set(t,c),no.set(t,r),c};function Om(t){const{boxShadow2:i}=t;return{menuBoxShadow:i}}const Lm=Wn({name:"Select",common:xt,peers:{InternalSelection:xu,InternalSelectMenu:mu},self:Om});var Dm=Lm,Fm=ee([O("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),O("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Qo({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);const Mm=Object.assign(Object.assign({},De.props),{to:Kt.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array});var Nm=ce({name:"Select",props:Mm,setup(t){const{mergedClsPrefixRef:i,mergedBorderedRef:r,namespaceRef:n,inlineThemeDisabled:e}=ft(t),o=De("Select","-select",Fm,Dm,t,i),a=U(t.defaultValue),s=se(t,"value"),l=yr(s,a),u=U(!1),c=U(""),d=z(()=>{const{valueField:L,childrenField:Y}=t,de=vm(L,Y);return Lv(D.value,de)}),f=z(()=>ym(R.value,t.valueField,t.childrenField)),h=U(!1),g=yr(se(t,"show"),h),v=U(null),b=U(null),y=U(null),{localeRef:w}=Ti("Select"),C=z(()=>{var L;return(L=t.placeholder)!==null&&L!==void 0?L:w.value.placeholder}),S=zl(t,["items","options"]),x=[],T=U([]),_=U([]),M=U(new Map),E=z(()=>{const{fallbackOption:L}=t;if(L===void 0){const{labelField:Y,valueField:de}=t;return _e=>({[Y]:String(_e),[de]:_e})}return L===!1?!1:Y=>Object.assign(L(Y),{value:Y})}),R=z(()=>_.value.concat(T.value).concat(S.value)),P=z(()=>{const{filter:L}=t;if(L)return L;const{labelField:Y,valueField:de}=t;return(_e,me)=>{if(!me)return!1;const Ce=me[Y];if(typeof Ce=="string")return Qi(_e,Ce);const pe=me[de];return typeof pe=="string"?Qi(_e,pe):typeof pe=="number"?Qi(_e,String(pe)):!1}}),D=z(()=>{if(t.remote)return S.value;{const{value:L}=R,{value:Y}=c;return!Y.length||!t.filterable?L:mm(L,P.value,Y,t.childrenField)}});function A(L){const Y=t.remote,{value:de}=M,{value:_e}=f,{value:me}=E,Ce=[];return L.forEach(pe=>{if(_e.has(pe))Ce.push(_e.get(pe));else if(Y&&de.has(pe))Ce.push(de.get(pe));else if(me){const Qe=me(pe);Qe&&Ce.push(Qe)}}),Ce}const N=z(()=>{if(t.multiple){const{value:L}=l;return Array.isArray(L)?A(L):[]}return null}),j=z(()=>{const{value:L}=l;return!t.multiple&&!Array.isArray(L)?L===null?null:A([L])[0]||null:null}),G=ta(t),{mergedSizeRef:Q,mergedDisabledRef:te,mergedStatusRef:F}=G;function K(L,Y){const{onChange:de,"onUpdate:value":_e,onUpdateValue:me}=t,{nTriggerFormChange:Ce,nTriggerFormInput:pe}=G;de&&Ie(de,L,Y),me&&Ie(me,L,Y),_e&&Ie(_e,L,Y),a.value=L,Ce(),pe()}function le(L){const{onBlur:Y}=t,{nTriggerFormBlur:de}=G;Y&&Ie(Y,L),de()}function ke(){const{onClear:L}=t;L&&Ie(L)}function je(L){const{onFocus:Y,showOnFocus:de}=t,{nTriggerFormFocus:_e}=G;Y&&Ie(Y,L),_e(),de&&Oe()}function Pe(L){const{onSearch:Y}=t;Y&&Ie(Y,L)}function Ne(L){const{onScroll:Y}=t;Y&&Ie(Y,L)}function We(){var L;const{remote:Y,multiple:de}=t;if(Y){const{value:_e}=M;if(de){const{valueField:me}=t;(L=N.value)===null||L===void 0||L.forEach(Ce=>{_e.set(Ce[me],Ce)})}else{const me=j.value;me&&_e.set(me[t.valueField],me)}}}function we(L){const{onUpdateShow:Y,"onUpdate:show":de}=t;Y&&Ie(Y,L),de&&Ie(de,L),h.value=L}function Oe(){te.value||(we(!0),h.value=!0,t.filterable&&kn())}function Ke(){we(!1)}function ut(){c.value="",_.value=x}const Xe=U(!1);function Z(){t.filterable&&(Xe.value=!0)}function re(){t.filterable&&(Xe.value=!1,g.value||ut())}function J(){te.value||(g.value?t.filterable?kn():Ke():Oe())}function Re(L){var Y,de;!((de=(Y=y.value)===null||Y===void 0?void 0:Y.selfRef)===null||de===void 0)&&de.contains(L.relatedTarget)||(u.value=!1,le(L),Ke())}function Ae(L){je(L),u.value=!0}function qe(L){u.value=!0}function Ue(L){var Y;!((Y=v.value)===null||Y===void 0)&&Y.$el.contains(L.relatedTarget)||(u.value=!1,le(L),Ke())}function Je(){var L;(L=v.value)===null||L===void 0||L.focus(),Ke()}function Ve(L){var Y;g.value&&(!((Y=v.value)===null||Y===void 0)&&Y.$el.contains(So(L))||Ke())}function q(L){if(!Array.isArray(L))return[];if(E.value)return Array.from(L);{const{remote:Y}=t,{value:de}=f;if(Y){const{value:_e}=M;return L.filter(me=>de.has(me)||_e.has(me))}else return L.filter(_e=>de.has(_e))}}function ne(L){ze(L.rawNode)}function ze(L){if(te.value)return;const{tag:Y,remote:de,clearFilterAfterSelect:_e,valueField:me}=t;if(Y&&!de){const{value:Ce}=_,pe=Ce[0]||null;if(pe){const Qe=T.value;Qe.length?Qe.push(pe):T.value=[pe],_.value=x}}if(de&&M.value.set(L[me],L),t.multiple){const Ce=q(l.value),pe=Ce.findIndex(Qe=>Qe===L[me]);if(~pe){if(Ce.splice(pe,1),Y&&!de){const Qe=Nt(L[me]);~Qe&&(T.value.splice(Qe,1),_e&&(c.value=""))}}else Ce.push(L[me]),_e&&(c.value="");K(Ce,A(Ce))}else{if(Y&&!de){const Ce=Nt(L[me]);~Ce?T.value=[T.value[Ce]]:T.value=x}Sn(),Ke(),K(L[me],L)}}function Nt(L){return T.value.findIndex(de=>de[t.valueField]===L)}function Xn(L){g.value||Oe();const{value:Y}=L.target;c.value=Y;const{tag:de,remote:_e}=t;if(Pe(Y),de&&!_e){if(!Y){_.value=x;return}const{onCreate:me}=t,Ce=me?me(Y):{[t.labelField]:Y,[t.valueField]:Y},{valueField:pe}=t;S.value.some(Qe=>Qe[pe]===Ce[pe])||T.value.some(Qe=>Qe[pe]===Ce[pe])?_.value=x:_.value=[Ce]}}function Zn(L){L.stopPropagation();const{multiple:Y}=t;!Y&&t.filterable&&Ke(),ke(),Y?K([],[]):K(null,null)}function Jn(L){!ni(L,"action")&&!ni(L,"empty")&&L.preventDefault()}function Qn(L){Ne(L)}function _n(L){var Y,de,_e,me,Ce;if(!t.keyboard){L.preventDefault();return}switch(L.key){case" ":if(t.filterable)break;L.preventDefault();case"Enter":if(!(!((Y=v.value)===null||Y===void 0)&&Y.isComposing)){if(g.value){const pe=(de=y.value)===null||de===void 0?void 0:de.getPendingTmNode();pe?ne(pe):t.filterable||(Ke(),Sn())}else if(Oe(),t.tag&&Xe.value){const pe=_.value[0];if(pe){const Qe=pe[t.valueField],{value:sn}=l;t.multiple&&Array.isArray(sn)&&sn.some(nr=>nr===Qe)||ze(pe)}}}L.preventDefault();break;case"ArrowUp":if(L.preventDefault(),t.loading)return;g.value&&((_e=y.value)===null||_e===void 0||_e.prev());break;case"ArrowDown":if(L.preventDefault(),t.loading)return;g.value?(me=y.value)===null||me===void 0||me.next():Oe();break;case"Escape":g.value&&(Hd(L),Ke()),(Ce=v.value)===null||Ce===void 0||Ce.focus();break}}function Sn(){var L;(L=v.value)===null||L===void 0||L.focus()}function kn(){var L;(L=v.value)===null||L===void 0||L.focusInput()}function er(){var L;!g.value||(L=b.value)===null||L===void 0||L.syncPosition()}We(),ot(se(t,"options"),We);const tr={focus:()=>{var L;(L=v.value)===null||L===void 0||L.focus()},blur:()=>{var L;(L=v.value)===null||L===void 0||L.blur()}},Tn=z(()=>{const{self:{menuBoxShadow:L}}=o.value;return{"--n-menu-box-shadow":L}}),mt=e?Pt("select",void 0,Tn,t):void 0;return Object.assign(Object.assign({},tr),{mergedStatus:F,mergedClsPrefix:i,mergedBordered:r,namespace:n,treeMate:d,isMounted:bi(),triggerRef:v,menuRef:y,pattern:c,uncontrolledShow:h,mergedShow:g,adjustedTo:Kt(t),uncontrolledValue:a,mergedValue:l,followerRef:b,localizedPlaceholder:C,selectedOption:j,selectedOptions:N,mergedSize:Q,mergedDisabled:te,focused:u,activeWithoutMenuOpen:Xe,inlineThemeDisabled:e,onTriggerInputFocus:Z,onTriggerInputBlur:re,handleTriggerOrMenuResize:er,handleMenuFocus:qe,handleMenuBlur:Ue,handleMenuTabOut:Je,handleTriggerClick:J,handleToggle:ne,handleDeleteOption:ze,handlePatternInput:Xn,handleClear:Zn,handleTriggerBlur:Re,handleTriggerFocus:Ae,handleKeydown:_n,handleMenuAfterLeave:ut,handleMenuClickOutside:Ve,handleMenuScroll:Qn,handleMenuKeydown:_n,handleMenuMousedown:Jn,mergedTheme:o,cssVars:e?void 0:Tn,themeClass:mt==null?void 0:mt.themeClass,onRender:mt==null?void 0:mt.onRender})},render(){return p("div",{class:`${this.mergedClsPrefix}-select`},p(Vl,null,{default:()=>[p(Gl,null,{default:()=>p(pm,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var t,i;return[(i=(t=this.$slots).arrow)===null||i===void 0?void 0:i.call(t)]}})}),p(Kl,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Kt.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>p(gn,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var t,i,r;return this.mergedShow||this.displayDirective==="show"?((t=this.onRender)===null||t===void 0||t.call(this),mn(p(Vv,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(i=this.menuProps)===null||i===void 0?void 0:i.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(r=this.menuProps)===null||r===void 0?void 0:r.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var n,e;return[(e=(n=this.$slots).empty)===null||e===void 0?void 0:e.call(n)]},action:()=>{var n,e;return[(e=(n=this.$slots).action)===null||e===void 0?void 0:e.call(n)]}}),this.displayDirective==="show"?[[_r,this.mergedShow],[ei,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[ei,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Bm={padding:"8px 14px"};const $m=t=>{const{borderRadius:i,boxShadow2:r,baseColor:n}=t;return Object.assign(Object.assign({},Bm),{borderRadius:i,boxShadow:r,color:Ud(n,"rgba(0, 0, 0, .85)"),textColor:n})},zm=Wn({name:"Tooltip",common:xt,peers:{Popover:ca},self:$m});var ku=zm;const Hm=Object.assign(Object.assign({},bu),De.props);var Um=ce({name:"Tooltip",props:Hm,__popover__:!0,setup(t){const{mergedClsPrefixRef:i}=ft(t),r=De("Tooltip","-tooltip",void 0,ku,t,i),n=U(null);return Object.assign(Object.assign({},{syncPosition(){n.value.syncPosition()},setShow(o){n.value.setShow(o)}}),{popoverRef:n,mergedTheme:r,popoverThemeOverrides:z(()=>r.value.self)})},render(){const{mergedTheme:t,internalExtraClass:i}=this;return p(wu,Object.assign(Object.assign({},this.$props),{theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:i.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),jm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Wm(){const t=Fe(jd,null);return t===null&&Vn("use-dialog","No outer <n-dialog-provider /> founded."),t}var Vm={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};const Gm=()=>Vm,Km={name:"Space",self:Gm};var qm=Km;let ro;const Ym=()=>{if(!xi)return!0;if(ro===void 0){const t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t);const i=t.scrollHeight===1;return document.body.removeChild(t),ro=i}return ro},Xm=Object.assign(Object.assign({},De.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}});var Zm=ce({name:"Space",props:Xm,setup(t){const{mergedClsPrefixRef:i,mergedRtlRef:r}=ft(t),n=De("Space","-space",void 0,qm,t,i),e=ea("Space",r,i);return{useGap:Ym(),rtlEnabled:e,mergedClsPrefix:i,margin:z(()=>{const{size:o}=t;if(Array.isArray(o))return{horizontal:o[0],vertical:o[1]};if(typeof o=="number")return{horizontal:o,vertical:o};const{self:{[ye("gap",o)]:a}}=n.value,{row:s,col:l}=Wd(a);return{horizontal:vr(l),vertical:vr(s)}})}},render(){const{vertical:t,align:i,inline:r,justify:n,itemStyle:e,margin:o,wrap:a,mergedClsPrefix:s,rtlEnabled:l,useGap:u,wrapItem:c,internalUseGap:d}=this,f=Ol($l(this));if(!f.length)return null;const h=`${o.horizontal}px`,g=`${o.horizontal/2}px`,v=`${o.vertical}px`,b=`${o.vertical/2}px`,y=f.length-1,w=n.startsWith("space-");return p("div",{role:"none",class:[`${s}-space`,l&&`${s}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:t?"column":"row",justifyContent:["start","end"].includes(n)?"flex-"+n:n,flexWrap:!a||t?"nowrap":"wrap",marginTop:u||t?"":`-${b}`,marginBottom:u||t?"":`-${b}`,alignItems:i,gap:u?`${o.vertical}px ${o.horizontal}px`:""}},!c&&(u||d)?f:f.map((C,S)=>p("div",{role:"none",style:[e,{maxWidth:"100%"},u?"":t?{marginBottom:S!==y?v:""}:l?{marginLeft:w?n==="space-between"&&S===y?"":g:S!==y?h:"",marginRight:w?n==="space-between"&&S===0?"":g:"",paddingTop:b,paddingBottom:b}:{marginRight:w?n==="space-between"&&S===y?"":g:S!==y?h:"",marginLeft:w?n==="space-between"&&S===0?"":g:"",paddingTop:b,paddingBottom:b}]},C)))}}),Jm={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"};const Qm=t=>{const{heightSmall:i,heightMedium:r,heightLarge:n,textColor1:e,errorColor:o,warningColor:a,lineHeight:s,textColor3:l}=t;return Object.assign(Object.assign({},Jm),{blankHeightSmall:i,blankHeightMedium:r,blankHeightLarge:n,lineHeight:s,labelTextColor:e,asteriskColor:o,feedbackTextColorError:o,feedbackTextColorWarning:a,feedbackTextColor:l})},ey={name:"Form",common:xt,self:Qm};var Tu=ey,ty=O("form",[X("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[O("form-item",{width:"auto",marginRight:"18px"},[ee("&:last-child",{marginRight:0})])])]);const kr=Lt("n-form"),Eu=Lt("n-form-item-insts");var ny=globalThis&&globalThis.__awaiter||function(t,i,r,n){function e(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):e(c.value).then(s,l)}u((n=n.apply(t,i||[])).next())})};const ry=Object.assign(Object.assign({},De.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>{t.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object});var iy=ce({name:"Form",props:ry,setup(t){const{mergedClsPrefixRef:i}=ft(t);De("Form","-form",ty,Tu,t,i);const r={},n=U(void 0),e=l=>{const u=n.value;(u===void 0||l>=u)&&(n.value=l)};function o(l,u=()=>!0){return ny(this,void 0,void 0,function*(){yield new Promise((c,d)=>{const f=[];for(const h of Va(r)){const g=r[h];for(const v of g)v.path&&f.push(v.internalValidate(null,u))}Promise.all(f).then(h=>{if(h.some(g=>!g.valid)){const g=h.filter(v=>v.errors).map(v=>v.errors);l&&l(g),d(g)}else l&&l(),c()})})})}function a(){for(const l of Va(r)){const u=r[l];for(const c of u)c.restoreValidation()}}return lt(kr,{props:t,maxChildLabelWidthRef:n,deriveMaxChildLabelWidth:e}),lt(Eu,{formItems:r}),Object.assign({validate:o,restoreValidation:a},{mergedClsPrefix:i})},render(){const{mergedClsPrefix:t}=this;return p("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hn.apply(this,arguments)}function oy(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,br(t,i)}function Lo(t){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lo(t)}function br(t,i){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},br(t,i)}function ay(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kr(t,i,r){return ay()?Kr=Reflect.construct.bind():Kr=function(e,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(e,s),u=new l;return a&&br(u,a.prototype),u},Kr.apply(null,arguments)}function sy(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Do(t){var i=typeof Map=="function"?new Map:void 0;return Do=function(n){if(n===null||!sy(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof i!="undefined"){if(i.has(n))return i.get(n);i.set(n,e)}function e(){return Kr(n,arguments,Lo(this).constructor)}return e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),br(e,n)},Do(t)}var ly=/%[sdj%]/g,uy=function(){};typeof process!="undefined"&&process.env;function Fo(t){if(!t||!t.length)return null;var i={};return t.forEach(function(r){var n=r.field;i[n]=i[n]||[],i[n].push(r)}),i}function vt(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var e=0,o=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var a=t.replace(ly,function(s){if(s==="%%")return"%";if(e>=o)return s;switch(s){case"%s":return String(r[e++]);case"%d":return Number(r[e++]);case"%j":try{return JSON.stringify(r[e++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function cy(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function it(t,i){return!!(t==null||i==="array"&&Array.isArray(t)&&!t.length||cy(i)&&typeof t=="string"&&!t)}function dy(t,i,r){var n=[],e=0,o=t.length;function a(s){n.push.apply(n,s||[]),e++,e===o&&r(n)}t.forEach(function(s){i(s,a)})}function xs(t,i,r){var n=0,e=t.length;function o(a){if(a&&a.length){r(a);return}var s=n;n=n+1,s<e?i(t[s],o):r([])}o([])}function fy(t){var i=[];return Object.keys(t).forEach(function(r){i.push.apply(i,t[r]||[])}),i}var _s=function(t){oy(i,t);function i(r,n){var e;return e=t.call(this,"Async Validation Error")||this,e.errors=r,e.fields=n,e}return i}(Do(Error));function hy(t,i,r,n,e){if(i.first){var o=new Promise(function(f,h){var g=function(y){return n(y),y.length?h(new _s(y,Fo(y))):f(e)},v=fy(t);xs(v,r,g)});return o.catch(function(f){return f}),o}var a=i.firstFields===!0?Object.keys(t):i.firstFields||[],s=Object.keys(t),l=s.length,u=0,c=[],d=new Promise(function(f,h){var g=function(b){if(c.push.apply(c,b),u++,u===l)return n(c),c.length?h(new _s(c,Fo(c))):f(e)};s.length||(n(c),f(e)),s.forEach(function(v){var b=t[v];a.indexOf(v)!==-1?xs(b,r,g):dy(b,r,g)})});return d.catch(function(f){return f}),d}function gy(t){return!!(t&&t.message!==void 0)}function py(t,i){for(var r=t,n=0;n<i.length;n++){if(r==null)return r;r=r[i[n]]}return r}function Ss(t,i){return function(r){var n;return t.fullFields?n=py(i,t.fullFields):n=i[r.field||t.fullField],gy(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function ks(t,i){if(i){for(var r in i)if(i.hasOwnProperty(r)){var n=i[r];typeof n=="object"&&typeof t[r]=="object"?t[r]=hn({},t[r],n):t[r]=n}}return t}var Pu=function(i,r,n,e,o,a){i.required&&(!n.hasOwnProperty(i.field)||it(r,a||i.type))&&e.push(vt(o.messages.required,i.fullField))},vy=function(i,r,n,e,o){(/^\s+$/.test(r)||r==="")&&e.push(vt(o.messages.whitespace,i.fullField))},Mr,my=function(){if(Mr)return Mr;var t="[a-fA-F\\d:]",i=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",e=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+r+"$)|(?:^"+e+"$)"),a=new RegExp("^"+r+"$"),s=new RegExp("^"+e+"$"),l=function(S){return S&&S.exact?o:new RegExp("(?:"+i(S)+r+i(S)+")|(?:"+i(S)+e+i(S)+")","g")};l.v4=function(C){return C&&C.exact?a:new RegExp(""+i(C)+r+i(C),"g")},l.v6=function(C){return C&&C.exact?s:new RegExp(""+i(C)+e+i(C),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',w="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+f+"|"+h+g+v+")"+b+y;return Mr=new RegExp("(?:^"+w+"$)","i"),Mr},Ts={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},fr={integer:function(i){return fr.number(i)&&parseInt(i,10)===i},float:function(i){return fr.number(i)&&!fr.integer(i)},array:function(i){return Array.isArray(i)},regexp:function(i){if(i instanceof RegExp)return!0;try{return!!new RegExp(i)}catch{return!1}},date:function(i){return typeof i.getTime=="function"&&typeof i.getMonth=="function"&&typeof i.getYear=="function"&&!isNaN(i.getTime())},number:function(i){return isNaN(i)?!1:typeof i=="number"},object:function(i){return typeof i=="object"&&!fr.array(i)},method:function(i){return typeof i=="function"},email:function(i){return typeof i=="string"&&i.length<=320&&!!i.match(Ts.email)},url:function(i){return typeof i=="string"&&i.length<=2048&&!!i.match(my())},hex:function(i){return typeof i=="string"&&!!i.match(Ts.hex)}},yy=function(i,r,n,e,o){if(i.required&&r===void 0){Pu(i,r,n,e,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=i.type;a.indexOf(s)>-1?fr[s](r)||e.push(vt(o.messages.types[s],i.fullField,i.type)):s&&typeof r!==i.type&&e.push(vt(o.messages.types[s],i.fullField,i.type))},by=function(i,r,n,e,o){var a=typeof i.len=="number",s=typeof i.min=="number",l=typeof i.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,d=null,f=typeof r=="number",h=typeof r=="string",g=Array.isArray(r);if(f?d="number":h?d="string":g&&(d="array"),!d)return!1;g&&(c=r.length),h&&(c=r.replace(u,"_").length),a?c!==i.len&&e.push(vt(o.messages[d].len,i.fullField,i.len)):s&&!l&&c<i.min?e.push(vt(o.messages[d].min,i.fullField,i.min)):l&&!s&&c>i.max?e.push(vt(o.messages[d].max,i.fullField,i.max)):s&&l&&(c<i.min||c>i.max)&&e.push(vt(o.messages[d].range,i.fullField,i.min,i.max))},An="enum",wy=function(i,r,n,e,o){i[An]=Array.isArray(i[An])?i[An]:[],i[An].indexOf(r)===-1&&e.push(vt(o.messages[An],i.fullField,i[An].join(", ")))},Cy=function(i,r,n,e,o){if(i.pattern){if(i.pattern instanceof RegExp)i.pattern.lastIndex=0,i.pattern.test(r)||e.push(vt(o.messages.pattern.mismatch,i.fullField,r,i.pattern));else if(typeof i.pattern=="string"){var a=new RegExp(i.pattern);a.test(r)||e.push(vt(o.messages.pattern.mismatch,i.fullField,r,i.pattern))}}},be={required:Pu,whitespace:vy,type:yy,range:by,enum:wy,pattern:Cy},xy=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r,"string")&&!i.required)return n();be.required(i,r,e,a,o,"string"),it(r,"string")||(be.type(i,r,e,a,o),be.range(i,r,e,a,o),be.pattern(i,r,e,a,o),i.whitespace===!0&&be.whitespace(i,r,e,a,o))}n(a)},_y=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&be.type(i,r,e,a,o)}n(a)},Sy=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(r===""&&(r=void 0),it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&(be.type(i,r,e,a,o),be.range(i,r,e,a,o))}n(a)},ky=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&be.type(i,r,e,a,o)}n(a)},Ty=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),it(r)||be.type(i,r,e,a,o)}n(a)},Ey=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&(be.type(i,r,e,a,o),be.range(i,r,e,a,o))}n(a)},Py=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&(be.type(i,r,e,a,o),be.range(i,r,e,a,o))}n(a)},Ry=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(r==null&&!i.required)return n();be.required(i,r,e,a,o,"array"),r!=null&&(be.type(i,r,e,a,o),be.range(i,r,e,a,o))}n(a)},Ay=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&be.type(i,r,e,a,o)}n(a)},Iy="enum",Oy=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o),r!==void 0&&be[Iy](i,r,e,a,o)}n(a)},Ly=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r,"string")&&!i.required)return n();be.required(i,r,e,a,o),it(r,"string")||be.pattern(i,r,e,a,o)}n(a)},Dy=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r,"date")&&!i.required)return n();if(be.required(i,r,e,a,o),!it(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),be.type(i,l,e,a,o),l&&be.range(i,l.getTime(),e,a,o)}}n(a)},Fy=function(i,r,n,e,o){var a=[],s=Array.isArray(r)?"array":typeof r;be.required(i,r,e,a,o,s),n(a)},io=function(i,r,n,e,o){var a=i.type,s=[],l=i.required||!i.required&&e.hasOwnProperty(i.field);if(l){if(it(r,a)&&!i.required)return n();be.required(i,r,e,s,o,a),it(r,a)||be.type(i,r,e,s,o)}n(s)},My=function(i,r,n,e,o){var a=[],s=i.required||!i.required&&e.hasOwnProperty(i.field);if(s){if(it(r)&&!i.required)return n();be.required(i,r,e,a,o)}n(a)},pr={string:xy,method:_y,number:Sy,boolean:ky,regexp:Ty,integer:Ey,float:Py,array:Ry,object:Ay,enum:Oy,pattern:Ly,date:Dy,url:io,hex:io,email:io,required:Fy,any:My};function Mo(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var i=JSON.parse(JSON.stringify(this));return i.clone=this.clone,i}}}var No=Mo(),Tr=function(){function t(r){this.rules=null,this._messages=No,this.define(r)}var i=t.prototype;return i.define=function(n){var e=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(o){var a=n[o];e.rules[o]=Array.isArray(a)?a:[a]})},i.messages=function(n){return n&&(this._messages=ks(Mo(),n)),this._messages},i.validate=function(n,e,o){var a=this;e===void 0&&(e={}),o===void 0&&(o=function(){});var s=n,l=e,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(v){var b=[],y={};function w(S){if(Array.isArray(S)){var x;b=(x=b).concat.apply(x,S)}else b.push(S)}for(var C=0;C<v.length;C++)w(v[C]);b.length?(y=Fo(b),u(b,y)):u(null,s)}if(l.messages){var d=this.messages();d===No&&(d=Mo()),ks(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var b=a.rules[v],y=s[v];b.forEach(function(w){var C=w;typeof C.transform=="function"&&(s===n&&(s=hn({},s)),y=s[v]=C.transform(y)),typeof C=="function"?C={validator:C}:C=hn({},C),C.validator=a.getValidationMethod(C),C.validator&&(C.field=v,C.fullField=C.fullField||v,C.type=a.getType(C),f[v]=f[v]||[],f[v].push({rule:C,value:y,source:s,field:v}))})});var g={};return hy(f,l,function(v,b){var y=v.rule,w=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");w=w&&(y.required||!y.required&&v.value),y.field=v.field;function C(T,_){return hn({},_,{fullField:y.fullField+"."+T,fullFields:y.fullFields?[].concat(y.fullFields,[T]):[T]})}function S(T){T===void 0&&(T=[]);var _=Array.isArray(T)?T:[T];!l.suppressWarning&&_.length&&t.warning("async-validator:",_),_.length&&y.message!==void 0&&(_=[].concat(y.message));var M=_.map(Ss(y,s));if(l.first&&M.length)return g[y.field]=1,b(M);if(!w)b(M);else{if(y.required&&!v.value)return y.message!==void 0?M=[].concat(y.message).map(Ss(y,s)):l.error&&(M=[l.error(y,vt(l.messages.required,y.field))]),b(M);var E={};y.defaultField&&Object.keys(v.value).map(function(D){E[D]=y.defaultField}),E=hn({},E,v.rule.fields);var R={};Object.keys(E).forEach(function(D){var A=E[D],N=Array.isArray(A)?A:[A];R[D]=N.map(C.bind(null,D))});var P=new t(R);P.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),P.validate(v.value,v.rule.options||l,function(D){var A=[];M&&M.length&&A.push.apply(A,M),D&&D.length&&A.push.apply(A,D),b(A.length?A:null)})}}var x;if(y.asyncValidator)x=y.asyncValidator(y,v.value,S,v.source,l);else if(y.validator){try{x=y.validator(y,v.value,S,v.source,l)}catch(T){console.error==null||console.error(T),l.suppressValidatorError||setTimeout(function(){throw T},0),S(T.message)}x===!0?S():x===!1?S(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):x instanceof Array?S(x):x instanceof Error&&S(x.message)}x&&x.then&&x.then(function(){return S()},function(T){return S(T)})},function(v){c(v)},s)},i.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!pr.hasOwnProperty(n.type))throw new Error(vt("Unknown rule type %s",n.type));return n.type||"string"},i.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var e=Object.keys(n),o=e.indexOf("message");return o!==-1&&e.splice(o,1),e.length===1&&e[0]==="required"?pr.required:pr[this.getType(n)]||void 0},t}();Tr.register=function(i,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");pr[i]=r};Tr.warning=uy;Tr.messages=No;Tr.validators=pr;function Ny(t){const i=Fe(kr,null);return{mergedSize:z(()=>t.size!==void 0?t.size:(i==null?void 0:i.props.size)!==void 0?i.props.size:"medium")}}function By(t){const i=Fe(kr,null),r=z(()=>{const{labelPlacement:h}=t;return h!==void 0?h:i!=null&&i.props.labelPlacement?i.props.labelPlacement:"top"}),n=z(()=>r.value==="left"&&(t.labelWidth==="auto"||(i==null?void 0:i.props.labelWidth)==="auto")),e=z(()=>{if(r.value==="top")return;const{labelWidth:h}=t;if(h!==void 0&&h!=="auto")return bt(h);if(n.value){const g=i==null?void 0:i.maxChildLabelWidthRef.value;return g!==void 0?bt(g):void 0}if((i==null?void 0:i.props.labelWidth)!==void 0)return bt(i.props.labelWidth)}),o=z(()=>{const{labelAlign:h}=t;if(h)return h;if(i!=null&&i.props.labelAlign)return i.props.labelAlign}),a=z(()=>{var h;return[(h=t.labelProps)===null||h===void 0?void 0:h.style,t.labelStyle,{width:e.value}]}),s=z(()=>{const{showRequireMark:h}=t;return h!==void 0?h:i==null?void 0:i.props.showRequireMark}),l=z(()=>{const{requireMarkPlacement:h}=t;return h!==void 0?h:(i==null?void 0:i.props.requireMarkPlacement)||"right"}),u=U(!1),c=z(()=>{const{validationStatus:h}=t;if(h!==void 0)return h;if(u.value)return"error"}),d=z(()=>{const{showFeedback:h}=t;return h!==void 0?h:(i==null?void 0:i.props.showFeedback)!==void 0?i.props.showFeedback:!0}),f=z(()=>{const{showLabel:h}=t;return h!==void 0?h:(i==null?void 0:i.props.showLabel)!==void 0?i.props.showLabel:!0});return{validationErrored:u,mergedLabelStyle:a,mergedLabelPlacement:r,mergedLabelAlign:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:l,mergedValidationStatus:c,mergedShowFeedback:d,mergedShowLabel:f,isAutoLabelWidth:n}}function $y(t){const i=Fe(kr,null),r=z(()=>{const{rulePath:a}=t;if(a!==void 0)return a;const{path:s}=t;if(s!==void 0)return s}),n=z(()=>{const a=[],{rule:s}=t;if(s!==void 0&&(Array.isArray(s)?a.push(...s):a.push(s)),i){const{rules:l}=i.props,{value:u}=r;if(l!==void 0&&u!==void 0){const c=sa(l,u);c!==void 0&&(Array.isArray(c)?a.push(...c):a.push(c))}}return a}),e=z(()=>n.value.some(a=>a.required)),o=z(()=>e.value||t.required);return{mergedRules:n,mergedRequired:o}}const{cubicBezierEaseInOut:Es}=Vd;function zy({name:t="fade-down",fromOffset:i="-4px",enterDuration:r=".3s",leaveDuration:n=".3s",enterCubicBezier:e=Es,leaveCubicBezier:o=Es}={}){return[ee(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0,transform:`translateY(${i})`}),ee(`&.${t}-transition-enter-to, &.${t}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),ee(`&.${t}-transition-leave-active`,{transition:`opacity ${n} ${o}, transform ${n} ${o}`}),ee(`&.${t}-transition-enter-active`,{transition:`opacity ${r} ${e}, transform ${r} ${e}`})]}var Hy=O("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[O("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[W("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),W("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),O("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),X("auto-label-width",[O("form-item-label","white-space: nowrap;")]),X("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: start;
 `,[O("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[X("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),X("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),X("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),X("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),W("text",`
 grid-area: text; 
 `),W("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),X("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[X("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),O("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),O("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),O("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[ee("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),O("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[X("warning",{color:"var(--n-feedback-text-color-warning)"}),X("error",{color:"var(--n-feedback-text-color-error)"}),zy({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]),Ps=globalThis&&globalThis.__awaiter||function(t,i,r,n){function e(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):e(c.value).then(s,l)}u((n=n.apply(t,i||[])).next())})};const Uy=Object.assign(Object.assign({},De.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function Rs(t,i){return(...r)=>{try{const n=t(...r);return!i&&(typeof n=="boolean"||n instanceof Error||Array.isArray(n))||(n==null?void 0:n.then)?n:(n===void 0||To("form-item/validate",`You return a ${typeof n} typed value in the validator method, which is not recommended. Please use `+(i?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(n){To("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(n);return}}}var jy=ce({name:"FormItem",props:Uy,setup(t){ff(Eu,"formItems",se(t,"path"));const{mergedClsPrefixRef:i,inlineThemeDisabled:r}=ft(t),n=Fe(kr,null),e=Ny(t),o=By(t),{validationErrored:a}=o,{mergedRequired:s,mergedRules:l}=$y(t),{mergedSize:u}=e,{mergedLabelPlacement:c,mergedLabelAlign:d,mergedRequireMarkPlacement:f}=o,h=U([]),g=U(mr()),v=n?se(n.props,"disabled"):U(!1),b=De("Form","-form-item",Hy,Tu,t,i);ot(se(t,"path"),()=>{t.ignorePathChange||y()});function y(){h.value=[],a.value=!1,t.feedback&&(g.value=mr())}function w(){_("blur")}function C(){_("change")}function S(){_("focus")}function x(){_("input")}function T(A,N){return Ps(this,void 0,void 0,function*(){let j,G,Q,te;typeof A=="string"?(j=A,G=N):A!==null&&typeof A=="object"&&(j=A.trigger,G=A.callback,Q=A.shouldRuleBeApplied,te=A.options),yield new Promise((F,K)=>{_(j,Q,te).then(({valid:le,errors:ke})=>{le?(G&&G(),F()):(G&&G(ke),K(ke))})})})}const _=(A=null,N=()=>!0,j={suppressWarning:!0})=>Ps(this,void 0,void 0,function*(){const{path:G}=t;j?j.first||(j.first=t.first):j={};const{value:Q}=l,te=n?sa(n.props.model,G||""):void 0,F={},K={},le=(A?Q.filter(Ne=>Array.isArray(Ne.trigger)?Ne.trigger.includes(A):Ne.trigger===A):Q).filter(N).map((Ne,We)=>{const we=Object.assign({},Ne);if(we.validator&&(we.validator=Rs(we.validator,!1)),we.asyncValidator&&(we.asyncValidator=Rs(we.asyncValidator,!0)),we.renderMessage){const Oe=`__renderMessage__${We}`;K[Oe]=we.message,we.message=Oe,F[Oe]=we.renderMessage}return we});if(!le.length)return{valid:!0};const ke=G!=null?G:"__n_no_path__",je=new Tr({[ke]:le}),{validateMessages:Pe}=(n==null?void 0:n.props)||{};return Pe&&je.messages(Pe),yield new Promise(Ne=>{je.validate({[ke]:te},j,We=>{We!=null&&We.length?(h.value=We.map(we=>{const Oe=(we==null?void 0:we.message)||"";return{key:Oe,render:()=>Oe.startsWith("__renderMessage__")?F[Oe]():Oe}}),We.forEach(we=>{var Oe;!((Oe=we.message)===null||Oe===void 0)&&Oe.startsWith("__renderMessage__")&&(we.message=K[we.message])}),a.value=!0,Ne({valid:!1,errors:We})):(y(),Ne({valid:!0}))})})});lt(Gd,{path:se(t,"path"),disabled:v,mergedSize:e.mergedSize,mergedValidationStatus:o.mergedValidationStatus,restoreValidation:y,handleContentBlur:w,handleContentChange:C,handleContentFocus:S,handleContentInput:x});const M={validate:T,restoreValidation:y,internalValidate:_},E=U(null);ht(()=>{if(!o.isAutoLabelWidth.value)return;const A=E.value;if(A!==null){const N=A.style.whiteSpace;A.style.whiteSpace="nowrap",A.style.width="",n==null||n.deriveMaxChildLabelWidth(Number(getComputedStyle(A).width.slice(0,-2))),A.style.whiteSpace=N}});const R=z(()=>{var A;const{value:N}=u,{value:j}=c,G=j==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:Q},self:{labelTextColor:te,asteriskColor:F,lineHeight:K,feedbackTextColor:le,feedbackTextColorWarning:ke,feedbackTextColorError:je,feedbackPadding:Pe,labelFontWeight:Ne,[ye("labelHeight",N)]:We,[ye("blankHeight",N)]:we,[ye("feedbackFontSize",N)]:Oe,[ye("feedbackHeight",N)]:Ke,[ye("labelPadding",G)]:ut,[ye("labelTextAlign",G)]:Xe,[ye(ye("labelFontSize",j),N)]:Z}}=b.value;let re=(A=d.value)!==null&&A!==void 0?A:Xe;return j==="top"&&(re=re==="right"?"flex-end":"flex-start"),{"--n-bezier":Q,"--n-line-height":K,"--n-blank-height":we,"--n-label-font-size":Z,"--n-label-text-align":re,"--n-label-height":We,"--n-label-padding":ut,"--n-label-font-weight":Ne,"--n-asterisk-color":F,"--n-label-text-color":te,"--n-feedback-padding":Pe,"--n-feedback-font-size":Oe,"--n-feedback-height":Ke,"--n-feedback-text-color":le,"--n-feedback-text-color-warning":ke,"--n-feedback-text-color-error":je}}),P=r?Pt("form-item",z(()=>{var A;return`${u.value[0]}${c.value[0]}${((A=d.value)===null||A===void 0?void 0:A[0])||""}`}),R,t):void 0,D=z(()=>c.value==="left"&&f.value==="left"&&d.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:E,mergedClsPrefix:i,mergedRequired:s,feedbackId:g,renderExplains:h,reverseColSpace:D},o),e),M),{cssVars:r?void 0:R,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender})},render(){const{$slots:t,mergedClsPrefix:i,mergedShowLabel:r,mergedShowRequireMark:n,mergedRequireMarkPlacement:e,onRender:o}=this,a=n!==void 0?n:this.mergedRequired;o==null||o();const s=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const u=p("span",{class:`${i}-form-item-label__text`},l),c=a?p("span",{class:`${i}-form-item-label__asterisk`},e!=="left"?"\xA0*":"*\xA0"):e==="right-hanging"&&p("span",{class:`${i}-form-item-label__asterisk-placeholder`},"\xA0*"),{labelProps:d}=this;return p("label",Object.assign({},d,{class:[d==null?void 0:d.class,`${i}-form-item-label`,`${i}-form-item-label--${e}-mark`,this.reverseColSpace&&`${i}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),e==="left"?[c,u]:[u,c])};return p("div",{class:[`${i}-form-item`,this.themeClass,`${i}-form-item--${this.mergedSize}-size`,`${i}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${i}-form-item--auto-label-width`,!r&&`${i}-form-item--no-label`],style:this.cssVars},r&&s(),p("div",{class:[`${i}-form-item-blank`,this.mergedValidationStatus&&`${i}-form-item-blank--${this.mergedValidationStatus}`]},t),this.mergedShowFeedback?p("div",{key:this.feedbackId,class:`${i}-form-item-feedback-wrapper`},p(gn,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return _t(t.feedback,u=>{var c;const{feedback:d}=this,f=u||d?p("div",{key:"__feedback__",class:`${i}-form-item-feedback__line`},u||d):this.renderExplains.length?(c=this.renderExplains)===null||c===void 0?void 0:c.map(({key:h,render:g})=>p("div",{key:h,class:`${i}-form-item-feedback__line`},g())):null;return f?l==="warning"?p("div",{key:"controlled-warning",class:`${i}-form-item-feedback ${i}-form-item-feedback--warning`},f):l==="error"?p("div",{key:"controlled-error",class:`${i}-form-item-feedback ${i}-form-item-feedback--error`},f):l==="success"?p("div",{key:"controlled-success",class:`${i}-form-item-feedback ${i}-form-item-feedback--success`},f):p("div",{key:"controlled-default",class:`${i}-form-item-feedback`},f):null})}})):null)}});const As=1,Ru=Lt("n-grid"),Au=1,Wy={span:{type:[Number,String],default:Au},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}};var Vy=ce({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Wy,setup(){const{isSsrRef:t,xGapRef:i,itemStyleRef:r,overflowRef:n,layoutShiftDisabledRef:e}=Fe(Ru),o=Sr();return{overflow:n,itemStyle:r,layoutShiftDisabled:e,mergedXGap:z(()=>Ot(i.value||0)),deriveStyle:()=>{t.value;const{privateSpan:a=Au,privateShow:s=!0,privateColStart:l=void 0,privateOffset:u=0}=o.vnode.props,{value:c}=i,d=Ot(c||0);return{display:s?"":"none",gridColumn:`${l!=null?l:`span ${a}`} / span ${a}`,marginLeft:u?`calc((100% - (${a} - 1) * ${d}) / ${a} * ${u} + ${d} * ${u})`:""}}}},render(){var t,i;if(this.layoutShiftDisabled){const{span:r,offset:n,mergedXGap:e}=this;return p("div",{style:{gridColumn:`span ${r} / span ${r}`,marginLeft:n?`calc((100% - (${r} - 1) * ${e}) / ${r} * ${n} + ${e} * ${n})`:""}},this.$slots)}return p("div",{style:[this.itemStyle,this.deriveStyle()]},(i=(t=this.$slots).default)===null||i===void 0?void 0:i.call(t,{overflow:this.overflow}))}});const Gy={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},Iu=24,oo="__ssr__",Ky={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:Iu},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}};var qy=ce({name:"Grid",inheritAttrs:!1,props:Ky,setup(t){const{mergedClsPrefixRef:i,mergedBreakpointsRef:r}=ft(t),n=/^\d+$/,e=U(void 0),o=mf((r==null?void 0:r.value)||Gy),a=st(()=>!!(t.itemResponsive||!n.test(t.cols.toString())||!n.test(t.xGap.toString())||!n.test(t.yGap.toString()))),s=z(()=>{if(!!a.value)return t.responsive==="self"?e.value:o.value}),l=st(()=>{var y;return(y=Number(ir(t.cols.toString(),s.value)))!==null&&y!==void 0?y:Iu}),u=st(()=>ir(t.xGap.toString(),s.value)),c=st(()=>ir(t.yGap.toString(),s.value)),d=y=>{e.value=y.contentRect.width},f=y=>{Si(d,y)},h=U(!1),g=z(()=>{if(t.responsive==="self")return f}),v=U(!1),b=U();return ht(()=>{const{value:y}=b;y&&y.hasAttribute(oo)&&(y.removeAttribute(oo),v.value=!0)}),lt(Ru,{layoutShiftDisabledRef:se(t,"layoutShiftDisabled"),isSsrRef:v,itemStyleRef:se(t,"itemStyle"),xGapRef:u,overflowRef:h}),{isSsr:!xi,contentEl:b,mergedClsPrefix:i,style:z(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:Ot(t.xGap),rowGap:Ot(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${l.value}, minmax(0, 1fr))`,columnGap:Ot(u.value),rowGap:Ot(c.value)}),isResponsive:a,responsiveQuery:s,responsiveCols:l,handleResize:g,overflow:h}},render(){if(this.layoutShiftDisabled)return p("div",Jr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var i,r,n,e,o,a,s;this.overflow=!1;const l=Ol($l(this)),u=[],{collapsed:c,collapsedRows:d,responsiveCols:f,responsiveQuery:h}=this;l.forEach(w=>{var C,S,x,T;if(((C=w==null?void 0:w.type)===null||C===void 0?void 0:C.__GRID_ITEM__)!==!0)return;if(uf(w)){const E=ko(w);E.props?E.props.privateShow=!1:E.props={privateShow:!1},u.push({child:E,rawChildSpan:0});return}w.dirs=((S=w.dirs)===null||S===void 0?void 0:S.filter(({dir:E})=>E!==_r))||null;const _=ko(w),M=Number((T=ir((x=_.props)===null||x===void 0?void 0:x.span,h))!==null&&T!==void 0?T:As);M!==0&&u.push({child:_,rawChildSpan:M})});let g=0;const v=(i=u[u.length-1])===null||i===void 0?void 0:i.child;if(v!=null&&v.props){const w=(r=v.props)===null||r===void 0?void 0:r.suffix;w!==void 0&&w!==!1&&(g=(e=(n=v.props)===null||n===void 0?void 0:n.span)!==null&&e!==void 0?e:As,v.props.privateSpan=g,v.props.privateColStart=f+1-g,v.props.privateShow=(o=v.props.privateShow)!==null&&o!==void 0?o:!0)}let b=0,y=!1;for(const{child:w,rawChildSpan:C}of u){if(y&&(this.overflow=!0),!y){const S=Number((s=ir((a=w.props)===null||a===void 0?void 0:a.offset,h))!==null&&s!==void 0?s:0),x=Math.min(C+S,f);if(w.props?(w.props.privateSpan=x,w.props.privateOffset=S):w.props={privateSpan:x,privateOffset:S},c){const T=b%f;x+T>f&&(b+=f-T),x+b+g>d*f?y=!0:b+=x}}y&&(w.props?w.props.privateShow!==!0&&(w.props.privateShow=!1):w.props={privateShow:!1})}return p("div",Jr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[oo]:this.isSsr||void 0},this.$attrs),u.map(({child:w})=>w))};return this.isResponsive&&this.responsive==="self"?p(Qr,{onResize:this.handleResize},{default:t}):t()}});const da=Object.assign(Object.assign({},De.props),{showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Ou=Lt("n-image");function Yy(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const Xy=Wn({name:"Image",common:xt,peers:{Tooltip:ku},self:Yy}),Zy=t=>{const{infoColor:i,successColor:r,warningColor:n,errorColor:e,textColor2:o,progressRailColor:a,fontSize:s,fontWeight:l}=t;return{fontSize:s,fontSizeCircle:"28px",fontWeightCircle:l,railColor:a,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:i,iconColorInfo:i,iconColorSuccess:r,iconColorWarning:n,iconColorError:e,textColorCircle:o,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:o,fillColor:i,fillColorInfo:i,fillColorSuccess:r,fillColorWarning:n,fillColorError:e,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},Jy={name:"Progress",common:xt,self:Zy};var Lu=Jy;const Qy=t=>{const{iconColor:i,primaryColor:r,errorColor:n,textColor2:e,successColor:o,opacityDisabled:a,actionColor:s,borderColor:l,hoverColor:u,lineHeight:c,borderRadius:d,fontSize:f}=t;return{fontSize:f,lineHeight:c,borderRadius:d,draggerColor:s,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:u,itemColorHoverError:xe(n,{alpha:.06}),itemTextColor:e,itemTextColorError:n,itemTextColorSuccess:o,itemIconColor:i,itemDisabledOpacity:a,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},e0=Wn({name:"Upload",common:xt,peers:{Button:Kd,Progress:Lu},self:Qy});var t0=e0;const n0=p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),r0=p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),i0=p("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}));var o0=ee([ee("body >",[O("image-container","position: fixed;")]),O("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),O("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Ga()]),O("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[O("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Ga()]),O("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Qo()]),O("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),O("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[at("preview-disabled",`
 cursor: pointer;
 `),ee("img",`
 border-radius: inherit;
 `)])]);const Nr=32;var Du=ce({name:"ImagePreview",props:Object.assign(Object.assign({},da),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(t){const i=De("Image","-image",o0,Xy,t,se(t,"clsPrefix"));let r=null;const n=U(null),e=U(null),o=U(void 0),a=U(!1),s=U(!1),{localeRef:l}=Ti("Image");function u(){const{value:Z}=e;if(!r||!Z)return;const{style:re}=Z,J=r.getBoundingClientRect(),Re=J.left+J.width/2,Ae=J.top+J.height/2;re.transformOrigin=`${Re}px ${Ae}px`}function c(Z){var re,J;switch(Z.key){case" ":Z.preventDefault();break;case"ArrowLeft":(re=t.onPrev)===null||re===void 0||re.call(t);break;case"ArrowRight":(J=t.onNext)===null||J===void 0||J.call(t);break;case"Escape":Ne();break}}ot(a,Z=>{Z?kt("keydown",document,c):pt("keydown",document,c)}),Et(()=>{pt("keydown",document,c)});let d=0,f=0,h=0,g=0,v=0,b=0,y=0,w=0,C=!1;function S(Z){const{clientX:re,clientY:J}=Z;h=re-d,g=J-f,Si(Pe)}function x(Z){const{mouseUpClientX:re,mouseUpClientY:J,mouseDownClientX:Re,mouseDownClientY:Ae}=Z,qe=Re-re,Ue=Ae-J,Je=`vertical${Ue>0?"Top":"Bottom"}`,Ve=`horizontal${qe>0?"Left":"Right"}`;return{moveVerticalDirection:Je,moveHorizontalDirection:Ve,deltaHorizontal:qe,deltaVertical:Ue}}function T(Z){const{value:re}=n;if(!re)return{offsetX:0,offsetY:0};const J=re.getBoundingClientRect(),{moveVerticalDirection:Re,moveHorizontalDirection:Ae,deltaHorizontal:qe,deltaVertical:Ue}=Z||{};let Je=0,Ve=0;return J.width<=window.innerWidth?Je=0:J.left>0?Je=(J.width-window.innerWidth)/2:J.right<window.innerWidth?Je=-(J.width-window.innerWidth)/2:Ae==="horizontalRight"?Je=Math.min((J.width-window.innerWidth)/2,v-(qe!=null?qe:0)):Je=Math.max(-((J.width-window.innerWidth)/2),v-(qe!=null?qe:0)),J.height<=window.innerHeight?Ve=0:J.top>0?Ve=(J.height-window.innerHeight)/2:J.bottom<window.innerHeight?Ve=-(J.height-window.innerHeight)/2:Re==="verticalBottom"?Ve=Math.min((J.height-window.innerHeight)/2,b-(Ue!=null?Ue:0)):Ve=Math.max(-((J.height-window.innerHeight)/2),b-(Ue!=null?Ue:0)),{offsetX:Je,offsetY:Ve}}function _(Z){pt("mousemove",document,S),pt("mouseup",document,_);const{clientX:re,clientY:J}=Z;C=!1;const Re=x({mouseUpClientX:re,mouseUpClientY:J,mouseDownClientX:y,mouseDownClientY:w}),Ae=T(Re);h=Ae.offsetX,g=Ae.offsetY,Pe()}const M=Fe(Ou,null);function E(Z){var re,J;if((J=(re=M==null?void 0:M.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onMousedown)===null||J===void 0||J.call(re,Z),Z.button!==0)return;const{clientX:Re,clientY:Ae}=Z;C=!0,d=Re-h,f=Ae-g,v=h,b=g,y=Re,w=Ae,Pe(),kt("mousemove",document,S),kt("mouseup",document,_)}function R(Z){var re,J;(J=(re=M==null?void 0:M.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onDblclick)===null||J===void 0||J.call(re,Z);const Re=le();A=A===Re?1:Re,Pe()}const P=1.5;let D=0,A=1,N=0;function j(){A=1,D=0}function G(){var Z;j(),N=0,(Z=t.onPrev)===null||Z===void 0||Z.call(t)}function Q(){var Z;j(),N=0,(Z=t.onNext)===null||Z===void 0||Z.call(t)}function te(){N-=90,Pe()}function F(){N+=90,Pe()}function K(){const{value:Z}=n;if(!Z)return 1;const{innerWidth:re,innerHeight:J}=window,Re=Math.max(1,Z.naturalHeight/(J-Nr)),Ae=Math.max(1,Z.naturalWidth/(re-Nr));return Math.max(3,Re*2,Ae*2)}function le(){const{value:Z}=n;if(!Z)return 1;const{innerWidth:re,innerHeight:J}=window,Re=Z.naturalHeight/(J-Nr),Ae=Z.naturalWidth/(re-Nr);return Re<1&&Ae<1?1:Math.max(Re,Ae)}function ke(){const Z=K();A<Z&&(D+=1,A=Math.min(Z,Math.pow(P,D)),Pe())}function je(){if(A>.5){const Z=A;D-=1,A=Math.max(.5,Math.pow(P,D));const re=Z-A;Pe(!1);const J=T();A+=re,Pe(!1),A-=re,h=J.offsetX,g=J.offsetY,Pe()}}function Pe(Z=!0){var re;const{value:J}=n;if(!J)return;const{style:Re}=J,Ae=qd((re=M==null?void 0:M.previewedImgPropsRef.value)===null||re===void 0?void 0:re.style);let qe="";if(typeof Ae=="string")qe=Ae+";";else for(const Je in Ae)qe+=`${np(Je)}: ${Ae[Je]};`;const Ue=`transform-origin: center; transform: translateX(${h}px) translateY(${g}px) rotate(${N}deg) scale(${A});`;C?Re.cssText=qe+"cursor: grabbing; transition: none;"+Ue:Re.cssText=qe+"cursor: grab;"+Ue+(Z?"":"transition: none;"),Z||J.offsetHeight}function Ne(){a.value=!a.value,s.value=!0}function We(){A=le(),D=Math.ceil(Math.log(A)/Math.log(P)),h=0,g=0,Pe()}const we={setPreviewSrc:Z=>{o.value=Z},setThumbnailEl:Z=>{r=Z},toggleShow:Ne};function Oe(Z,re){if(t.showToolbarTooltip){const{value:J}=i;return p(Um,{to:!1,theme:J.peers.Tooltip,themeOverrides:J.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>l.value[re],trigger:()=>Z})}else return Z}const Ke=z(()=>{const{common:{cubicBezierEaseInOut:Z},self:{toolbarIconColor:re,toolbarBorderRadius:J,toolbarBoxShadow:Re,toolbarColor:Ae}}=i.value;return{"--n-bezier":Z,"--n-toolbar-icon-color":re,"--n-toolbar-color":Ae,"--n-toolbar-border-radius":J,"--n-toolbar-box-shadow":Re}}),{inlineThemeDisabled:ut}=ft(),Xe=ut?Pt("image-preview",void 0,Ke,t):void 0;return Object.assign({previewRef:n,previewWrapperRef:e,previewSrc:o,show:a,appear:bi(),displayed:s,previewedImgProps:M==null?void 0:M.previewedImgPropsRef,handleWheel(Z){Z.preventDefault()},handlePreviewMousedown:E,handlePreviewDblclick:R,syncTransformOrigin:u,handleAfterLeave:()=>{j(),N=0,s.value=!1},handleDragStart:Z=>{var re,J;(J=(re=M==null?void 0:M.previewedImgPropsRef.value)===null||re===void 0?void 0:re.onDragstart)===null||J===void 0||J.call(re,Z),Z.preventDefault()},zoomIn:ke,zoomOut:je,rotateCounterclockwise:te,rotateClockwise:F,handleSwitchPrev:G,handleSwitchNext:Q,withTooltip:Oe,resizeToOrignalImageSize:We,cssVars:ut?void 0:Ke,themeClass:Xe==null?void 0:Xe.themeClass,onRender:Xe==null?void 0:Xe.onRender},we)},render(){var t,i;const{clsPrefix:r}=this;return p(Hn,null,(i=(t=this.$slots).default)===null||i===void 0?void 0:i.call(t),p(_l,{show:this.show},{default:()=>{var n;return this.show||this.displayed?((n=this.onRender)===null||n===void 0||n.call(this),mn(p("div",{class:[`${r}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},p(gn,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?p("div",{class:`${r}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?p(gn,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:e}=this;return p("div",{class:`${r}-image-preview-toolbar`},this.onPrev?p(Hn,null,e(p(He,{clsPrefix:r,onClick:this.handleSwitchPrev},{default:()=>n0}),"tipPrevious"),e(p(He,{clsPrefix:r,onClick:this.handleSwitchNext},{default:()=>r0}),"tipNext")):null,e(p(He,{clsPrefix:r,onClick:this.rotateCounterclockwise},{default:()=>p(iv,null)}),"tipCounterclockwise"),e(p(He,{clsPrefix:r,onClick:this.rotateClockwise},{default:()=>p(rv,null)}),"tipClockwise"),e(p(He,{clsPrefix:r,onClick:this.resizeToOrignalImageSize},{default:()=>p(sv,null)}),"tipOriginalSize"),e(p(He,{clsPrefix:r,onClick:this.zoomOut},{default:()=>p(av,null)}),"tipZoomOut"),e(p(He,{clsPrefix:r,onClick:this.zoomIn},{default:()=>p(ov,null)}),"tipZoomIn"),e(p(He,{clsPrefix:r,onClick:this.toggleShow},{default:()=>i0}),"tipClose"))}}):null,p(gn,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:e={}}=this;return mn(p("div",{class:`${r}-image-preview-wrapper`,ref:"previewWrapperRef"},p("img",Object.assign({},e,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${r}-image-preview`,e.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[_r,this.show]])}})),[[Yo,{enabled:this.show}]])):null}}))}});const Fu=Lt("n-image-group"),a0=da;var s0=ce({name:"ImageGroup",props:a0,setup(t){let i;const{mergedClsPrefixRef:r}=ft(t),n=`c${mr()}`,e=Sr(),o=l=>{var u;i=l,(u=s.value)===null||u===void 0||u.setPreviewSrc(l)};function a(l){if(!(e!=null&&e.proxy))return;const c=e.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${n}]:not([data-error=true])`);if(!c.length)return;const d=Array.from(c).findIndex(f=>f.dataset.previewSrc===i);~d?o(c[(d+l+c.length)%c.length].dataset.previewSrc):o(c[0].dataset.previewSrc)}lt(Fu,{mergedClsPrefixRef:r,setPreviewSrc:o,setThumbnailEl:l=>{var u;(u=s.value)===null||u===void 0||u.setThumbnailEl(l)},toggleShow:()=>{var l;(l=s.value)===null||l===void 0||l.toggleShow()},groupId:n});const s=U(null);return{mergedClsPrefix:r,previewInstRef:s,next:()=>{a(1)},prev:()=>{a(-1)}}},render(){return p(Du,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}});const l0=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},da);var u0=ce({name:"Image",props:l0,inheritAttrs:!1,setup(t){const i=U(null),r=U(!1),n=U(null),e=Fe(Fu,null),{mergedClsPrefixRef:o}=e||ft(t),a={click:()=>{if(t.previewDisabled||r.value)return;const u=t.previewSrc||t.src;if(e){e.setPreviewSrc(u),e.setThumbnailEl(i.value),e.toggleShow();return}const{value:c}=n;!c||(c.setPreviewSrc(u),c.setThumbnailEl(i.value),c.toggleShow())}},s=U(!t.lazy);ht(()=>{var u;(u=i.value)===null||u===void 0||u.setAttribute("data-group-id",(e==null?void 0:e.groupId)||"")}),ht(()=>{if(t.lazy&&t.intersectionObserverOptions){let u;const c=nn(()=>{u==null||u(),u=void 0,u=Im(i.value,t.intersectionObserverOptions,s)});Et(()=>{c(),u==null||u()})}}),nn(()=>{var u;t.src,(u=t.imgProps)===null||u===void 0||u.src,r.value=!1});const l=U(!1);return lt(Ou,{previewedImgPropsRef:se(t,"previewedImgProps")}),Object.assign({mergedClsPrefix:o,groupId:e==null?void 0:e.groupId,previewInstRef:n,imageRef:i,showError:r,shouldStartLoading:s,loaded:l,mergedOnClick:u=>{var c,d;a.click(),(d=(c=t.imgProps)===null||c===void 0?void 0:c.onClick)===null||d===void 0||d.call(c,u)},mergedOnError:u=>{if(!s.value)return;r.value=!0;const{onError:c,imgProps:{onError:d}={}}=t;c==null||c(u),d==null||d(u)},mergedOnLoad:u=>{const{onLoad:c,imgProps:{onLoad:d}={}}=t;c==null||c(u),d==null||d(u),l.value=!0}},a)},render(){var t,i;const{mergedClsPrefix:r,imgProps:n={},loaded:e,$attrs:o,lazy:a}=this,s=(i=(t=this.$slots).placeholder)===null||i===void 0?void 0:i.call(t),l=this.src||n.src,u=p("img",Object.assign(Object.assign({},n),{ref:"imageRef",width:this.width||n.width,height:this.height||n.height,src:this.showError?this.fallbackSrc:a&&this.intersectionObserverOptions?this.shouldStartLoading?l:void 0:l,alt:this.alt||n.alt,"aria-label":this.alt||n.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Rm&&a&&!this.intersectionObserverOptions?"lazy":"eager",style:[n.style||"",s&&!e?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return p("div",Object.assign({},o,{role:"none",class:[o.class,`${r}-image`,(this.previewDisabled||this.showError)&&`${r}-image--preview-disabled`]}),this.groupId?u:p(Du,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:r,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>u}),!e&&s)}});function c0(){const t=Fe(Yd,null);return t===null&&Vn("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),t}var d0=ee([O("progress",{display:"inline-block"},[O("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),X("line",`
 width: 100%;
 display: block;
 `,[O("progress-content",`
 display: flex;
 align-items: center;
 `,[O("progress-graph",{flex:1})]),O("progress-custom-content",{marginLeft:"14px"}),O("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[X("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),X("circle, dashboard",{width:"120px"},[O("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),O("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),O("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),X("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[O("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),O("progress-content",{position:"relative"}),O("progress-graph",{position:"relative"},[O("progress-graph-circle",[ee("svg",{verticalAlign:"bottom"}),O("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[X("empty",{opacity:0})]),O("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),O("progress-graph-line",[X("indicator-inside",[O("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[O("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),O("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),X("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[O("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),O("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),O("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[O("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[X("processing",[ee("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ee("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]);const f0={success:p(Ll,null),error:p(Dl,null),warning:p(Fl,null),info:p(Ml,null)};var h0=ce({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(t,{slots:i}){const r=z(()=>bt(t.height)),n=z(()=>t.railBorderRadius!==void 0?bt(t.railBorderRadius):t.height!==void 0?bt(t.height,{c:.5}):""),e=z(()=>t.fillBorderRadius!==void 0?bt(t.fillBorderRadius):t.railBorderRadius!==void 0?bt(t.railBorderRadius):t.height!==void 0?bt(t.height,{c:.5}):"");return()=>{const{indicatorPlacement:o,railColor:a,railStyle:s,percentage:l,unit:u,indicatorTextColor:c,status:d,showIndicator:f,fillColor:h,processing:g,clsPrefix:v}=t;return p("div",{class:`${v}-progress-content`,role:"none"},p("div",{class:`${v}-progress-graph`,"aria-hidden":!0},p("div",{class:[`${v}-progress-graph-line`,{[`${v}-progress-graph-line--indicator-${o}`]:!0}]},p("div",{class:`${v}-progress-graph-line-rail`,style:[{backgroundColor:a,height:r.value,borderRadius:n.value},s]},p("div",{class:[`${v}-progress-graph-line-fill`,g&&`${v}-progress-graph-line-fill--processing`],style:{maxWidth:`${t.percentage}%`,backgroundColor:h,height:r.value,lineHeight:r.value,borderRadius:e.value}},o==="inside"?p("div",{class:`${v}-progress-graph-line-indicator`,style:{color:c}},l,u):null)))),f&&o==="outside"?p("div",null,i.default?p("div",{class:`${v}-progress-custom-content`,style:{color:c},role:"none"},i.default()):d==="default"?p("div",{role:"none",class:`${v}-progress-icon ${v}-progress-icon--as-text`,style:{color:c}},l,u):p("div",{class:`${v}-progress-icon`,"aria-hidden":!0},p(He,{clsPrefix:v},{default:()=>f0[d]}))):null)}}});const g0={success:p(Ll,null),error:p(Dl,null),warning:p(Fl,null),info:p(Ml,null)};var p0=ce({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(t,{slots:i}){function r(n,e,o){const{gapDegree:a,viewBoxWidth:s,strokeWidth:l}=t,u=50,c=0,d=u,f=0,h=2*u,g=50+l/2,v=`M ${g},${g} m ${c},${d}
      a ${u},${u} 0 1 1 ${f},${-h}
      a ${u},${u} 0 1 1 ${-f},${h}`,b=Math.PI*2*u,y={stroke:o,strokeDasharray:`${n/100*(b-a)}px ${s*8}px`,strokeDashoffset:`-${a/2}px`,transformOrigin:e?"center":void 0,transform:e?`rotate(${e}deg)`:void 0};return{pathString:v,pathStyle:y}}return()=>{const{fillColor:n,railColor:e,strokeWidth:o,offsetDegree:a,status:s,percentage:l,showIndicator:u,indicatorTextColor:c,unit:d,gapOffsetDegree:f,clsPrefix:h}=t,{pathString:g,pathStyle:v}=r(100,0,e),{pathString:b,pathStyle:y}=r(l,a,n),w=100+o;return p("div",{class:`${h}-progress-content`,role:"none"},p("div",{class:`${h}-progress-graph`,"aria-hidden":!0},p("div",{class:`${h}-progress-graph-circle`,style:{transform:f?`rotate(${f}deg)`:void 0}},p("svg",{viewBox:`0 0 ${w} ${w}`},p("g",null,p("path",{class:`${h}-progress-graph-circle-rail`,d:g,"stroke-width":o,"stroke-linecap":"round",fill:"none",style:v})),p("g",null,p("path",{class:[`${h}-progress-graph-circle-fill`,l===0&&`${h}-progress-graph-circle-fill--empty`],d:b,"stroke-width":o,"stroke-linecap":"round",fill:"none",style:y}))))),u?p("div",null,i.default?p("div",{class:`${h}-progress-custom-content`,role:"none"},i.default()):s!=="default"?p("div",{class:`${h}-progress-icon`,"aria-hidden":!0},p(He,{clsPrefix:h},{default:()=>g0[s]})):p("div",{class:`${h}-progress-text`,style:{color:c},role:"none"},p("span",{class:`${h}-progress-text__percentage`},l),p("span",{class:`${h}-progress-text__unit`},d))):null)}}});function Is(t,i,r=100){return`m ${r/2} ${r/2-t} a ${t} ${t} 0 1 1 0 ${2*t} a ${t} ${t} 0 1 1 0 -${2*t}`}var v0=ce({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(t,{slots:i}){const r=z(()=>t.percentage.map((e,o)=>`${Math.PI*e/100*(t.viewBoxWidth/2-t.strokeWidth/2*(1+2*o)-t.circleGap*o)*2}, ${t.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:n,strokeWidth:e,circleGap:o,showIndicator:a,fillColor:s,railColor:l,railStyle:u,percentage:c,clsPrefix:d}=t;return p("div",{class:`${d}-progress-content`,role:"none"},p("div",{class:`${d}-progress-graph`,"aria-hidden":!0},p("div",{class:`${d}-progress-graph-circle`},p("svg",{viewBox:`0 0 ${n} ${n}`},c.map((f,h)=>p("g",{key:h},p("path",{class:`${d}-progress-graph-circle-rail`,d:Is(n/2-e/2*(1+2*h)-o*h,e,n),"stroke-width":e,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:l[h]},u[h]]}),p("path",{class:[`${d}-progress-graph-circle-fill`,f===0&&`${d}-progress-graph-circle-fill--empty`],d:Is(n/2-e/2*(1+2*h)-o*h,e,n),"stroke-width":e,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:r.value[h],strokeDashoffset:0,stroke:s[h]}})))))),a&&i.default?p("div",null,p("div",{class:`${d}-progress-text`},i.default())):null)}}});const m0=Object.assign(Object.assign({},De.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number});var y0=ce({name:"Progress",props:m0,setup(t){const i=z(()=>t.indicatorPlacement||t.indicatorPosition),r=z(()=>{if(t.gapDegree||t.gapDegree===0)return t.gapDegree;if(t.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:e}=ft(t),o=De("Progress","-progress",d0,Lu,t,n),a=z(()=>{const{status:l}=t,{common:{cubicBezierEaseInOut:u},self:{fontSize:c,fontSizeCircle:d,railColor:f,railHeight:h,iconSizeCircle:g,iconSizeLine:v,textColorCircle:b,textColorLineInner:y,textColorLineOuter:w,lineBgProcessing:C,fontWeightCircle:S,[ye("iconColor",l)]:x,[ye("fillColor",l)]:T}}=o.value;return{"--n-bezier":u,"--n-fill-color":T,"--n-font-size":c,"--n-font-size-circle":d,"--n-font-weight-circle":S,"--n-icon-color":x,"--n-icon-size-circle":g,"--n-icon-size-line":v,"--n-line-bg-processing":C,"--n-rail-color":f,"--n-rail-height":h,"--n-text-color-circle":b,"--n-text-color-line-inner":y,"--n-text-color-line-outer":w}}),s=e?Pt("progress",z(()=>t.status[0]),a,t):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:i,gapDeg:r,cssVars:e?void 0:a,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){const{type:t,cssVars:i,indicatorTextColor:r,showIndicator:n,status:e,railColor:o,railStyle:a,color:s,percentage:l,viewBoxWidth:u,strokeWidth:c,mergedIndicatorPlacement:d,unit:f,borderRadius:h,fillBorderRadius:g,height:v,processing:b,circleGap:y,mergedClsPrefix:w,gapDeg:C,gapOffsetDegree:S,themeClass:x,$slots:T,onRender:_}=this;return _==null||_(),p("div",{class:[x,`${w}-progress`,`${w}-progress--${t}`,`${w}-progress--${e}`],style:i,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:t==="circle"||t==="line"||t==="dashboard"?"progressbar":"none"},t==="circle"||t==="dashboard"?p(p0,{clsPrefix:w,status:e,showIndicator:n,indicatorTextColor:r,railColor:o,fillColor:s,railStyle:a,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:u,strokeWidth:c,gapDegree:C===void 0?t==="dashboard"?75:0:C,gapOffsetDegree:S,unit:f},T):t==="line"?p(h0,{clsPrefix:w,status:e,showIndicator:n,indicatorTextColor:r,railColor:o,fillColor:s,railStyle:a,percentage:l,processing:b,indicatorPlacement:d,unit:f,fillBorderRadius:g,railBorderRadius:h,height:v},T):t==="multiple-circle"?p(v0,{clsPrefix:w,strokeWidth:c,railColor:o,fillColor:s,railStyle:a,viewBoxWidth:u,percentage:l,showIndicator:n,circleGap:y},T):null)}});const Gn=Lt("n-upload"),Mu="__UPLOAD_DRAGGER__";var b0=ce({name:"UploadDragger",[Mu]:!0,setup(t,{slots:i}){const r=Fe(Gn,null);return r||Vn("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:n},mergedDisabledRef:{value:e},maxReachedRef:{value:o}}=r;return p("div",{class:[`${n}-upload-dragger`,(e||o)&&`${n}-upload-dragger--disabled`]},i)}}}),Nu=globalThis&&globalThis.__awaiter||function(t,i,r,n){function e(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):e(c.value).then(s,l)}u((n=n.apply(t,i||[])).next())})};const Bu=t=>t.includes("image/"),Os=(t="")=>{const i=t.split("/"),n=i[i.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},Ls=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,$u=t=>{if(t.type)return Bu(t.type);const i=Os(t.name||"");if(Ls.test(i))return!0;const r=t.thumbnailUrl||t.url||"",n=Os(r);return!!(/^data:image\//.test(r)||Ls.test(n))};function w0(t){return Nu(this,void 0,void 0,function*(){return yield new Promise(i=>{if(!t.type||!Bu(t.type)){i("");return}i(window.URL.createObjectURL(t))})})}const C0=xi&&window.FileReader&&window.File;function x0(t){return t.isDirectory}function _0(t){return t.isFile}function S0(t,i){return Nu(this,void 0,void 0,function*(){const r=[];let n,e=0;function o(){e++}function a(){e--,e||n(r)}function s(l){l.forEach(u=>{if(!!u){if(o(),i&&x0(u)){const c=u.createReader();o(),c.readEntries(d=>{s(d),a()},()=>{a()})}else _0(u)&&(o(),u.file(c=>{r.push({file:c,entry:u,source:"dnd"}),a()},()=>{a()}));a()}})}return yield new Promise(l=>{n=l,s(t)}),r})}function wr(t){const{id:i,name:r,percentage:n,status:e,url:o,file:a,thumbnailUrl:s,type:l,fullPath:u,batchId:c}=t;return{id:i,name:r,percentage:n!=null?n:null,status:e,url:o!=null?o:null,file:a!=null?a:null,thumbnailUrl:s!=null?s:null,type:l!=null?l:null,fullPath:u!=null?u:null,batchId:c!=null?c:null}}function k0(t,i,r){return t=t.toLowerCase(),i=i.toLocaleLowerCase(),r=r.toLocaleLowerCase(),r.split(",").map(e=>e.trim()).filter(Boolean).some(e=>{if(e.startsWith(".")){if(t.endsWith(e))return!0}else if(e.includes("/")){const[o,a]=i.split("/"),[s,l]=e.split("/");if((s==="*"||o&&s&&s===o)&&(l==="*"||a&&l&&l===a))return!0}else return!0;return!1})}const T0=(t,i)=>{if(!t)return;const r=document.createElement("a");r.href=t,i!==void 0&&(r.download=i),document.body.appendChild(r),r.click(),document.body.removeChild(r)};var zu=ce({name:"UploadTrigger",props:{abstract:Boolean},setup(t,{slots:i}){const r=Fe(Gn,null);r||Vn("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:n,mergedDisabledRef:e,maxReachedRef:o,listTypeRef:a,dragOverRef:s,openOpenFileDialog:l,draggerInsideRef:u,handleFileAddition:c,mergedDirectoryDndRef:d,triggerStyleRef:f}=r,h=z(()=>a.value==="image-card");function g(){e.value||o.value||l()}function v(C){C.preventDefault(),s.value=!0}function b(C){C.preventDefault(),s.value=!0}function y(C){C.preventDefault(),s.value=!1}function w(C){var S;if(C.preventDefault(),!u.value||e.value||o.value){s.value=!1;return}const x=(S=C.dataTransfer)===null||S===void 0?void 0:S.items;x!=null&&x.length?S0(Array.from(x).map(T=>T.webkitGetAsEntry()),d.value).then(T=>{c(T)}).finally(()=>{s.value=!1}):s.value=!1}return()=>{var C;const{value:S}=n;return t.abstract?(C=i.default)===null||C===void 0?void 0:C.call(i,{handleClick:g,handleDrop:w,handleDragOver:v,handleDragEnter:b,handleDragLeave:y}):p("div",{class:[`${S}-upload-trigger`,(e.value||o.value)&&`${S}-upload-trigger--disabled`,h.value&&`${S}-upload-trigger--image-card`],style:f.value,onClick:g,onDrop:w,onDragover:v,onDragenter:b,onDragleave:y},h.value?p(b0,null,{default:()=>pn(i.default,()=>[p(He,{clsPrefix:S},{default:()=>p(Gp,null)})])}):i)}}}),E0=ce({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Fe(Gn).mergedThemeRef}},render(){return p(Nl,null,{default:()=>this.show?p(y0,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});const P0=p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},p("g",{fill:"none"},p("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),R0=p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},p("g",{fill:"none"},p("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var A0=globalThis&&globalThis.__awaiter||function(t,i,r,n){function e(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):e(c.value).then(s,l)}u((n=n.apply(t,i||[])).next())})};const Br={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"};var I0=ce({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(t){const i=Fe(Gn),r=U(null),n=U(""),e=z(()=>{const{file:x}=t;return x.status==="finished"?"success":x.status==="error"?"error":"info"}),o=z(()=>{const{file:x}=t;if(x.status==="error")return"error"}),a=z(()=>{const{file:x}=t;return x.status==="uploading"}),s=z(()=>{if(!i.showCancelButtonRef.value)return!1;const{file:x}=t;return["uploading","pending","error"].includes(x.status)}),l=z(()=>{if(!i.showRemoveButtonRef.value)return!1;const{file:x}=t;return["finished"].includes(x.status)}),u=z(()=>{if(!i.showDownloadButtonRef.value)return!1;const{file:x}=t;return["finished"].includes(x.status)}),c=z(()=>{if(!i.showRetryButtonRef.value)return!1;const{file:x}=t;return["error"].includes(x.status)}),d=st(()=>n.value||t.file.thumbnailUrl||t.file.url),f=z(()=>{if(!i.showPreviewButtonRef.value)return!1;const{file:{status:x},listType:T}=t;return["finished"].includes(x)&&d.value&&T==="image-card"});function h(){i.submit(t.file.id)}function g(x){x.preventDefault();const{file:T}=t;["finished","pending","error"].includes(T.status)?b(T):["uploading"].includes(T.status)?w(T):To("upload","The button clicked type is unknown.")}function v(x){x.preventDefault(),y(t.file)}function b(x){const{xhrMap:T,doChange:_,onRemoveRef:{value:M},mergedFileListRef:{value:E}}=i;Promise.resolve(M?M({file:Object.assign({},x),fileList:E}):!0).then(R=>{if(R===!1)return;const P=Object.assign({},x,{status:"removed"});T.delete(x.id),_(P,void 0,{remove:!0})})}function y(x){const{onDownloadRef:{value:T}}=i;Promise.resolve(T?T(Object.assign({},x)):!0).then(_=>{_!==!1&&T0(x.url,x.name)})}function w(x){const{xhrMap:T}=i,_=T.get(x.id);_==null||_.abort(),b(Object.assign({},x))}function C(){const{onPreviewRef:{value:x}}=i;if(x)x(t.file);else if(t.listType==="image-card"){const{value:T}=r;if(!T)return;T.click()}}const S=()=>A0(this,void 0,void 0,function*(){const{listType:x}=t;x!=="image"&&x!=="image-card"||i.shouldUseThumbnailUrlRef.value(t.file)&&(n.value=yield i.getFileThumbnailUrlResolver(t.file))});return nn(()=>{S()}),{mergedTheme:i.mergedThemeRef,progressStatus:e,buttonType:o,showProgress:a,disabled:i.mergedDisabledRef,showCancelButton:s,showRemoveButton:l,showDownloadButton:u,showRetryButton:c,showPreviewButton:f,mergedThumbnailUrl:d,shouldUseThumbnailUrl:i.shouldUseThumbnailUrlRef,renderIcon:i.renderIconRef,imageRef:r,handleRemoveOrCancelClick:g,handleDownloadClick:v,handleRetryClick:h,handlePreviewClick:C}},render(){const{clsPrefix:t,mergedTheme:i,listType:r,file:n,renderIcon:e}=this;let o;const a=r==="image";a||r==="image-card"?o=!this.shouldUseThumbnailUrl(n)||!this.mergedThumbnailUrl?p("span",{class:`${t}-upload-file-info__thumbnail`},e?e(n):$u(n)?p(He,{clsPrefix:t},{default:()=>P0}):p(He,{clsPrefix:t},{default:()=>R0})):p("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,class:`${t}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},r==="image-card"?p(u0,{src:this.mergedThumbnailUrl||void 0,previewSrc:n.url||void 0,alt:n.name,ref:"imageRef"}):p("img",{src:this.mergedThumbnailUrl||void 0,alt:n.name})):o=p("span",{class:`${t}-upload-file-info__thumbnail`},e?e(n):p(He,{clsPrefix:t},{default:()=>p(Kp,null)}));const l=p(E0,{show:this.showProgress,percentage:n.percentage||0,status:this.progressStatus}),u=r==="text"||r==="image";return p("div",{class:[`${t}-upload-file`,`${t}-upload-file--${this.progressStatus}-status`,n.url&&n.status!=="error"&&r!=="image-card"&&`${t}-upload-file--with-url`,`${t}-upload-file--${r}-type`]},p("div",{class:`${t}-upload-file-info`},o,p("div",{class:`${t}-upload-file-info__name`},u&&(n.url&&n.status!=="error"?p("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,onClick:this.handlePreviewClick},n.name):p("span",{onClick:this.handlePreviewClick},n.name)),a&&l),p("div",{class:[`${t}-upload-file-info__action`,`${t}-upload-file-info__action--${r}-type`]},this.showPreviewButton?p(dr,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,builtinThemeOverrides:Br},{icon:()=>p(He,{clsPrefix:t},{default:()=>p(hu,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&p(dr,{key:"cancelOrTrash",theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Br,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>p(Il,null,{default:()=>this.showRemoveButton?p(He,{clsPrefix:t,key:"trash"},{default:()=>p(Xp,null)}):p(He,{clsPrefix:t,key:"cancel"},{default:()=>p(Qp,null)})})}),this.showRetryButton&&!this.disabled&&p(dr,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,builtinThemeOverrides:Br},{icon:()=>p(He,{clsPrefix:t},{default:()=>p(nv,null)})}),this.showDownloadButton?p(dr,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,builtinThemeOverrides:Br},{icon:()=>p(He,{clsPrefix:t},{default:()=>p(Zp,null)})}):null)),!a&&l)}}),O0=ce({name:"UploadFileList",setup(t,{slots:i}){const r=Fe(Gn,null);r||Vn("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:n,mergedClsPrefixRef:e,listTypeRef:o,mergedFileListRef:a,fileListStyleRef:s,cssVarsRef:l,themeClassRef:u,maxReachedRef:c,showTriggerRef:d,imageGroupPropsRef:f}=r,h=z(()=>o.value==="image-card"),g=()=>a.value.map(b=>p(I0,{clsPrefix:e.value,key:b.id,file:b,listType:o.value})),v=()=>h.value?p(s0,Object.assign({},f.value),{default:g}):p(Nl,{group:!0},{default:g});return()=>{const{value:b}=e,{value:y}=n;return p("div",{class:[`${b}-upload-file-list`,h.value&&`${b}-upload-file-list--grid`,y?u==null?void 0:u.value:void 0],style:[y&&l?l.value:"",s.value]},v(),d.value&&!c.value&&h.value&&p(zu,null,i))}}}),L0=ee([O("upload","width: 100%;",[X("dragger-inside",[O("upload-trigger",`
 display: block;
 `)]),X("drag-over",[O("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),O("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ee("&:hover",`
 border: var(--n-dragger-border-hover);
 `),X("disabled",`
 cursor: not-allowed;
 `)]),O("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ee("+",[O("upload-file-list","margin-top: 8px;")]),X("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),X("image-card",`
 width: 96px;
 height: 96px;
 `,[O("base-icon",`
 font-size: 24px;
 `),O("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),O("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ee("a, img","outline: none;"),X("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[O("upload-file","cursor: not-allowed;")]),X("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),O("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ka(),O("progress",[Ka({foldPadding:!0})]),ee("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[O("upload-file-info",[W("action",`
 opacity: 1;
 `)])]),X("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[O("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[O("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),W("name",`
 padding: 0 8px;
 `),W("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ee("img",`
 width: 100%;
 `)])])]),X("text-type",[O("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),X("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[O("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),O("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[W("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ee("img",`
 width: 100%;
 `)])]),ee("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ee("&:hover",[ee("&::before","opacity: 1;"),O("upload-file-info",[W("thumbnail","opacity: .12;")])])]),X("error-status",[ee("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),O("upload-file-info",[W("name","color: var(--n-item-text-color-error);"),W("thumbnail","color: var(--n-item-text-color-error);")]),X("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),X("with-url",`
 cursor: pointer;
 `,[O("upload-file-info",[W("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ee("a",`
 text-decoration: underline;
 `)])])]),O("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[W("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[O("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),W("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[O("button",[ee("&:not(:last-child)",{marginRight:"4px"}),O("base-icon",[ee("svg",[Rl()])])]),X("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),X("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),W("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ee("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),O("upload-file-input",`
 display: block;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),Ds=globalThis&&globalThis.__awaiter||function(t,i,r,n){function e(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):e(c.value).then(s,l)}u((n=n.apply(t,i||[])).next())})};function D0(t,i,r){const{doChange:n,xhrMap:e}=t;let o=0;function a(l){var u;let c=Object.assign({},i,{status:"error",percentage:o});e.delete(i.id),c=wr(((u=t.onError)===null||u===void 0?void 0:u.call(t,{file:c,event:l}))||c),n(c,l)}function s(l){var u;if(t.isErrorState){if(t.isErrorState(r)){a(l);return}}else if(r.status<200||r.status>=300){a(l);return}let c=Object.assign({},i,{status:"finished",percentage:o});e.delete(i.id),c=wr(((u=t.onFinish)===null||u===void 0?void 0:u.call(t,{file:c,event:l}))||c),n(c,l)}return{handleXHRLoad:s,handleXHRError:a,handleXHRAbort(l){const u=Object.assign({},i,{status:"removed",file:null,percentage:o});e.delete(i.id),n(u,l)},handleXHRProgress(l){const u=Object.assign({},i,{status:"uploading"});if(l.lengthComputable){const c=Math.ceil(l.loaded/l.total*100);u.percentage=c,o=c}n(u,l)}}}function F0(t){const{inst:i,file:r,data:n,headers:e,withCredentials:o,action:a,customRequest:s}=t,{doChange:l}=t.inst;let u=0;s({file:r,data:n,headers:e,withCredentials:o,action:a,onProgress(c){const d=Object.assign({},r,{status:"uploading"}),f=c.percent;d.percentage=f,u=f,l(d)},onFinish(){var c;let d=Object.assign({},r,{status:"finished",percentage:u});d=wr(((c=i.onFinish)===null||c===void 0?void 0:c.call(i,{file:d}))||d),l(d)},onError(){var c;let d=Object.assign({},r,{status:"error",percentage:u});d=wr(((c=i.onError)===null||c===void 0?void 0:c.call(i,{file:d}))||d),l(d)}})}function M0(t,i,r){const n=D0(t,i,r);r.onabort=n.handleXHRAbort,r.onerror=n.handleXHRError,r.onload=n.handleXHRLoad,r.upload&&(r.upload.onprogress=n.handleXHRProgress)}function Hu(t,i){return typeof t=="function"?t({file:i}):t||{}}function N0(t,i,r){const n=Hu(i,r);!n||Object.keys(n).forEach(e=>{t.setRequestHeader(e,n[e])})}function B0(t,i,r){const n=Hu(i,r);!n||Object.keys(n).forEach(e=>{t.append(e,n[e])})}function $0(t,i,r,{method:n,action:e,withCredentials:o,responseType:a,headers:s,data:l}){const u=new XMLHttpRequest;u.responseType=a,t.xhrMap.set(r.id,u),u.withCredentials=o;const c=new FormData;if(B0(c,l,r),c.append(i,r.file),M0(t,r,u),e!==void 0){u.open(n.toUpperCase(),e),N0(u,s,r),u.send(c);const d=Object.assign({},r,{status:"uploading"});t.doChange(d)}}const z0=Object.assign(Object.assign({},De.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:t=>C0?$u(t):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerStyle:[String,Object],renderIcon:Object});var H0=ce({name:"Upload",props:z0,setup(t){t.abstract&&t.listType==="image-card"&&Vn("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:i,inlineThemeDisabled:r}=ft(t),n=De("Upload","-upload",L0,t0,t,i),e=ta(t),o=z(()=>{const{max:E}=t;return E!==void 0?h.value.length>=E:!1}),a=U(t.defaultFileList),s=se(t,"fileList"),l=U(null),u={value:!1},c=U(!1),d=new Map,f=yr(s,a),h=z(()=>f.value.map(wr));function g(){var E;(E=l.value)===null||E===void 0||E.click()}function v(E){const R=E.target;w(R.files?Array.from(R.files).map(P=>({file:P,entry:null,source:"input"})):null,E),R.value=""}function b(E){const{"onUpdate:fileList":R,onUpdateFileList:P}=t;R&&Ie(R,E),P&&Ie(P,E),a.value=E}const y=z(()=>t.multiple||t.directory);function w(E,R){if(!E||E.length===0)return;const{onBeforeUpload:P}=t;E=y.value?E:[E[0]];const{max:D,accept:A}=t;E=E.filter(({file:j,source:G})=>G==="dnd"&&(A==null?void 0:A.trim())?k0(j.name,j.type,A):!0),D&&(E=E.slice(0,D-h.value.length));const N=mr();Promise.all(E.map(({file:j,entry:G})=>Ds(this,void 0,void 0,function*(){var Q;const te={id:mr(),batchId:N,name:j.name,status:"pending",percentage:0,file:j,url:null,type:j.type,thumbnailUrl:null,fullPath:(Q=G==null?void 0:G.fullPath)!==null&&Q!==void 0?Q:`/${j.webkitRelativePath||j.name}`};return!P||(yield P({file:te,fileList:h.value}))!==!1?te:null}))).then(j=>Ds(this,void 0,void 0,function*(){let G=Promise.resolve();j.forEach(Q=>{G=G.then(yn).then(()=>{Q&&S(Q,R,{append:!0})})}),yield G})).then(()=>{t.defaultUpload&&C()})}function C(E){const{method:R,action:P,withCredentials:D,headers:A,data:N,name:j}=t,G=E!==void 0?h.value.filter(te=>te.id===E):h.value,Q=E!==void 0;G.forEach(te=>{const{status:F}=te;(F==="pending"||F==="error"&&Q)&&(t.customRequest?F0({inst:{doChange:S,xhrMap:d,onFinish:t.onFinish,onError:t.onError},file:te,action:P,withCredentials:D,headers:A,data:N,customRequest:t.customRequest}):$0({doChange:S,xhrMap:d,onFinish:t.onFinish,onError:t.onError,isErrorState:t.isErrorState},j,te,{method:R,action:P,withCredentials:D,responseType:t.responseType,headers:A,data:N}))})}const S=(E,R,P={append:!1,remove:!1})=>{const{append:D,remove:A}=P,N=Array.from(h.value),j=N.findIndex(G=>G.id===E.id);if(D||A||~j){D?N.push(E):A?N.splice(j,1):N.splice(j,1,E);const{onChange:G}=t;G&&G({file:E,fileList:N,event:R}),b(N)}};function x(E){var R;if(E.thumbnailUrl)return E.thumbnailUrl;const{createThumbnailUrl:P}=t;return P?(R=P(E.file,E))!==null&&R!==void 0?R:E.url||"":E.url?E.url:E.file?w0(E.file):""}const T=z(()=>{const{common:{cubicBezierEaseInOut:E},self:{draggerColor:R,draggerBorder:P,draggerBorderHover:D,itemColorHover:A,itemColorHoverError:N,itemTextColorError:j,itemTextColorSuccess:G,itemTextColor:Q,itemIconColor:te,itemDisabledOpacity:F,lineHeight:K,borderRadius:le,fontSize:ke,itemBorderImageCardError:je,itemBorderImageCard:Pe}}=n.value;return{"--n-bezier":E,"--n-border-radius":le,"--n-dragger-border":P,"--n-dragger-border-hover":D,"--n-dragger-color":R,"--n-font-size":ke,"--n-item-color-hover":A,"--n-item-color-hover-error":N,"--n-item-disabled-opacity":F,"--n-item-icon-color":te,"--n-item-text-color":Q,"--n-item-text-color-error":j,"--n-item-text-color-success":G,"--n-line-height":K,"--n-item-border-image-card-error":je,"--n-item-border-image-card":Pe}}),_=r?Pt("upload",void 0,T,t):void 0;lt(Gn,{mergedClsPrefixRef:i,mergedThemeRef:n,showCancelButtonRef:se(t,"showCancelButton"),showDownloadButtonRef:se(t,"showDownloadButton"),showRemoveButtonRef:se(t,"showRemoveButton"),showRetryButtonRef:se(t,"showRetryButton"),onRemoveRef:se(t,"onRemove"),onDownloadRef:se(t,"onDownload"),mergedFileListRef:h,triggerStyleRef:se(t,"triggerStyle"),shouldUseThumbnailUrlRef:se(t,"shouldUseThumbnailUrl"),renderIconRef:se(t,"renderIcon"),xhrMap:d,submit:C,doChange:S,showPreviewButtonRef:se(t,"showPreviewButton"),onPreviewRef:se(t,"onPreview"),getFileThumbnailUrlResolver:x,listTypeRef:se(t,"listType"),dragOverRef:c,openOpenFileDialog:g,draggerInsideRef:u,handleFileAddition:w,mergedDisabledRef:e.mergedDisabledRef,maxReachedRef:o,fileListStyleRef:se(t,"fileListStyle"),abstractRef:se(t,"abstract"),acceptRef:se(t,"accept"),cssVarsRef:r?void 0:T,themeClassRef:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender,showTriggerRef:se(t,"showTrigger"),imageGroupPropsRef:se(t,"imageGroupProps"),mergedDirectoryDndRef:z(()=>{var E;return(E=t.directoryDnd)!==null&&E!==void 0?E:t.directory})});const M={clear:()=>{a.value=[]},submit:C,openOpenFileDialog:g};return Object.assign({mergedClsPrefix:i,draggerInsideRef:u,inputElRef:l,mergedTheme:n,dragOver:c,mergedMultiple:y,cssVars:r?void 0:T,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender,handleFileInputChange:v},M)},render(){var t,i;const{draggerInsideRef:r,mergedClsPrefix:n,$slots:e,directory:o,onRender:a}=this;if(e.default&&!this.abstract){const l=e.default()[0];!((t=l==null?void 0:l.type)===null||t===void 0)&&t[Mu]&&(r.value=!0)}const s=p("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${n}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:o||void 0,directory:o||void 0}));return this.abstract?p(Hn,null,(i=e.default)===null||i===void 0?void 0:i.call(e),p(Xd,{to:"body"},s)):(a==null||a(),p("div",{class:[`${n}-upload`,r.value&&`${n}-upload--dragger-inside`,this.dragOver&&`${n}-upload--drag-over`,this.themeClass],style:this.cssVars},s,this.showTrigger&&this.listType!=="image-card"&&p(zu,null,e),this.showFileList&&p(O0,null,e)))}}),U0="/static/assets/favicon.dcb28b93.png";function Fs(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ze(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Fs(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dt(t){return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},dt(t)}function ie(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Ms(t,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uu(n.key),n)}}function oe(t,i,r){return i&&Ms(t.prototype,i),r&&Ms(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H(t,i,r){return i=Uu(i),i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function he(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Bo(t,i)}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ue(t)}function Bo(t,i){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},Bo(t,i)}function j0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fa(t,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(t)}function ge(t){var i=j0();return function(){var n=ue(t),e;if(i){var o=ue(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return fa(this,e)}}function W0(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&(t=ue(t),t!==null););return t}function fe(){return typeof Reflect!="undefined"&&Reflect.get?fe=Reflect.get.bind():fe=function(i,r,n){var e=W0(i,r);if(!!e){var o=Object.getOwnPropertyDescriptor(e,r);return o.get?o.get.call(arguments.length<3?i:n):o.value}},fe.apply(this,arguments)}function Vt(t){return V0(t)||G0(t)||K0(t)||q0()}function V0(t){if(Array.isArray(t))return $o(t)}function G0(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K0(t,i){if(!!t){if(typeof t=="string")return $o(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $o(t,i)}}function $o(t,i){(i==null||i>t.length)&&(i=t.length);for(var r=0,n=new Array(i);r<i;r++)n[r]=t[r];return n}function q0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y0(t,i){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,i||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function Uu(t){var i=Y0(t,"string");return typeof i=="symbol"?i:String(i)}var ju={exports:{}};(function(t){var i=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function e(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new e(c,d||l,f),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)i.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,g=new Array(h);f<h;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,h,g){var v=r?r+u:u;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,w,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,f),!0;case 5:return b.fn.call(b.context,c,d,f,h),!0;case 6:return b.fn.call(b.context,c,d,f,h,g),!0}for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];b.fn.apply(b.context,w)}else{var S=b.length,x;for(C=0;C<S;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),y){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,c);break;case 3:b[C].fn.call(b[C].context,c,d);break;case 4:b[C].fn.call(b[C].context,c,d,f);break;default:if(!w)for(x=1,w=new Array(y-1);x<y;x++)w[x-1]=arguments[x];b[C].fn.apply(b[C].context,w)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return a(this,h),this;var g=this._events[h];if(g.fn)g.fn===c&&(!f||g.once)&&(!d||g.context===d)&&a(this,h);else{for(var v=0,b=[],y=g.length;v<y;v++)(g[v].fn!==c||f&&!g[v].once||d&&g[v].context!==d)&&b.push(g[v]);b.length?this._events[h]=b.length===1?b[0]:b:a(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(ju);var Wu=ju.exports,X0=typeof window!="undefined"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,ao={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},so="%c[xgplayer]",Se={config:{debug:X0?3:0},logInfo:function(i){for(var r,n=arguments.length,e=new Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];this.config.debug>=3&&(r=console).log.apply(r,[so,ao.info,i].concat(e))},logWarn:function(i){for(var r,n=arguments.length,e=new Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];this.config.debug>=1&&(r=console).warn.apply(r,[so,ao.warn,i].concat(e))},logError:function(i){var r;if(!(this.config.debug<1)){for(var n=this.config.debug>=2?"trace":"error",e=arguments.length,o=new Array(e>1?e-1:0),a=1;a<e;a++)o[a-1]=arguments[a];(r=console)[n].apply(r,[so,ao.error,i].concat(o))}}};function Z0(t){t.logInfo=Se.logInfo.bind(t),t.logWarn=Se.logWarn.bind(t),t.logError=Se.logError.bind(t)}var J0=function(){function t(i){ie(this,t),this.bufferedList=i}return oe(t,[{key:"start",value:function(r){return this.bufferedList[r].start}},{key:"end",value:function(r){return this.bufferedList[r].end}},{key:"length",get:function(){return this.bufferedList.length}}]),t}(),m={};m.createDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=document.createElement(t);return e.className=n,e.innerHTML=i,Object.keys(r).forEach(function(o){var a=o,s=r[o];t==="video"||t==="audio"||t==="live-video"?s&&e.setAttribute(a,s):e.setAttribute(a,s)}),e};m.createDomFromHtml=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var n=document.createElement("div");n.innerHTML=t;var e=n.children;return n=null,e.length>0?(e=e[0],r&&m.addClass(e,r),i&&Object.keys(i).forEach(function(o){e.setAttribute(o,i[o])}),e):null}catch(o){return Se.logError("util.createDomFromHtml",o),null}};m.hasClass=function(t,i){if(!t||!i)return!1;try{return Array.prototype.some.call(t.classList,function(n){return n===i})}catch{var r=t.className&&dt(t.className)==="object"?t.getAttribute("class"):t.className;return r&&!!r.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))}};m.addClass=function(t,i){if(!(!t||!i))try{i.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(r){r&&t.classList.add(r)})}catch{m.hasClass(t,i)||(t.className&&dt(t.className)==="object"?t.setAttribute("class",t.getAttribute("class")+" "+i):t.className+=" "+i)}};m.removeClass=function(t,i){if(!(!t||!i))try{i.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(r){r&&t.classList.remove(r)})}catch{m.hasClass(t,i)&&i.split(/\s+/g).forEach(function(n){var e=new RegExp("(\\s|^)"+n+"(\\s|$)");t.className&&dt(t.className)==="object"?t.setAttribute("class",t.getAttribute("class").replace(e," ")):t.className=t.className.replace(e," ")})}};m.toggleClass=function(t,i){!t||i.split(/\s+/g).forEach(function(r){m.hasClass(t,r)?m.removeClass(t,r):m.addClass(t,r)})};m.classNames=function(){for(var t=arguments,i=[],r=function(o){m.typeOf(t[o])==="String"?i.push(t[o]):m.typeOf(t[o])==="Object"&&Object.keys(t[o]).map(function(a){t[o][a]&&i.push(a)})},n=0;n<arguments.length;n++)r(n);return i.join(" ")};m.findDom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,i=arguments.length>1?arguments[1]:void 0,r;try{r=t.querySelector(i)}catch(n){Se.logError("util.findDom",n),i.indexOf("#")===0&&(r=t.getElementById(i.slice(1)))}return r};m.getCss=function(t,i){return t.currentStyle?t.currentStyle[i]:document.defaultView.getComputedStyle(t,!1)[i]};m.padStart=function(t,i,r){for(var n=String(r),e=i>>0,o=Math.ceil(e/n.length),a=[],s=String(t);o--;)a.push(n);return a.join("").substring(0,e-s.length)+s};m.format=function(t){if(window.isNaN(t))return"";t=Math.round(t);var i=m.padStart(Math.floor(t/3600),2,0),r=m.padStart(Math.floor((t-i*3600)/60),2,0),n=m.padStart(Math.floor(t-i*3600-r*60),2,0);return(i==="00"?[r,n]:[i,r,n]).join(":")};m.event=function(t){if(t.touches){var i=t.touches[0]||t.changedTouches[0];t.clientX=i.clientX||0,t.clientY=i.clientY||0,t.offsetX=i.pageX-i.target.offsetLeft,t.offsetY=i.pageY-i.target.offsetTop}t._target=t.target||t.srcElement};m.typeOf=function(t){return Object.prototype.toString.call(t).match(/([^\s.*]+)(?=]$)/g)[0]};m.deepCopy=function(t,i){if(m.typeOf(i)==="Object"&&m.typeOf(t)==="Object")return Object.keys(i).forEach(function(r){m.typeOf(i[r])==="Object"&&!(i[r]instanceof Node)?t[r]===void 0||t[r]===void 0?t[r]=i[r]:m.deepCopy(t[r],i[r]):m.typeOf(i[r])==="Array"?t[r]=m.typeOf(t[r])==="Array"?t[r].concat(i[r]):i[r]:t[r]=i[r]}),t};m.deepMerge=function(t,i){return Object.keys(i).map(function(r){if(m.typeOf(i[r])==="Array"&&m.typeOf(t[r])==="Array"){if(m.typeOf(t[r])==="Array"){var n;(n=t[r]).push.apply(n,Vt(i[r]))}}else m.typeOf(t[r])===m.typeOf(i[r])&&t[r]!==null&&m.typeOf(t[r])==="Object"&&!(i[r]instanceof window.Node)?m.deepMerge(t[r],i[r]):i[r]!==null&&(t[r]=i[r])}),t};m.getBgImage=function(t){var i=(t.currentStyle||window.getComputedStyle(t,null)).backgroundImage;if(!i||i==="none")return"";var r=document.createElement("a");return r.href=i.replace(/url\("|"\)/g,""),r.href};m.copyDom=function(t){if(t&&t.nodeType===1){var i=document.createElement(t.tagName);return Array.prototype.forEach.call(t.attributes,function(r){i.setAttribute(r.name,r.value)}),t.innerHTML&&(i.innerHTML=t.innerHTML),i}else return""};m.setInterval=function(t,i,r,n){t._interval[i]||(t._interval[i]=window.setInterval(r.bind(t),n))};m.clearInterval=function(t,i){clearInterval(t._interval[i]),t._interval[i]=null};m.setTimeout=function(t,i,r){t._timers||(t._timers=[]);var n=setTimeout(function(){i(),m.clearTimeout(t,n)},r);return t._timers.push(n),n};m.clearTimeout=function(t,i){var r=t._timers;if(m.typeOf(r)==="Array"){for(var n=0;n<r.length;n++)if(r[n]===i){r.splice(n,1),clearTimeout(i);break}}else clearTimeout(i)};m.clearAllTimers=function(t){var i=t._timers;m.typeOf(i)==="Array"&&(i.map(function(r){clearTimeout(r)}),t._timerIds=[])};m.createImgBtn=function(t,i,r,n){var e=m.createDom("xg-".concat(t),"",{},"xgplayer-".concat(t,"-img"));if(e.style.backgroundImage='url("'.concat(i,'")'),r&&n){var o,a,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(l){return r.indexOf(l)>-1&&n.indexOf(l)>-1?(o=parseFloat(r.slice(0,r.indexOf(l)).trim()),a=parseFloat(n.slice(0,n.indexOf(l)).trim()),s=l,!1):!0}),e.style.width="".concat(o).concat(s),e.style.height="".concat(a).concat(s),e.style.backgroundSize="".concat(o).concat(s," ").concat(a).concat(s),t==="start"?e.style.margin="-".concat(a/2).concat(s," auto auto -").concat(o/2).concat(s):e.style.margin="auto 5px auto 5px"}return e};m.Hex2RGBA=function(t,i){var r=[];if(/^\#[0-9A-F]{3}$/i.test(t)){var n="#";t.replace(/[0-9A-F]/ig,function(e){n+=e+e}),t=n}return/^#[0-9A-F]{6}$/i.test(t)?(t.replace(/[0-9A-F]{2}/ig,function(e){r.push(parseInt(e,16))}),"rgba(".concat(r.join(","),", ").concat(i,")")):"rgba(255, 255, 255, 0.1)"};m.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};m.checkIsFunction=function(t){return t&&typeof t=="function"};m.checkIsObject=function(t){return t!==null&&dt(t)==="object"};m.hide=function(t){t.style.display="none"};m.show=function(t,i){t.style.display=i||"block"};m.isUndefined=function(t){if(typeof t=="undefined"||t===null)return!0};m.isNotNull=function(t){return t!=null};m.setStyleFromCsstext=function(t,i){if(!!i)if(m.typeOf(i)==="String"){var r=i.replace(/\s+/g,"").split(";");r.map(function(n){if(n){var e=n.split(":");e.length>1&&(t.style[e[0]]=e[1])}})}else Object.keys(i).map(function(n){t.style[n]=i[n]})};function Q0(t,i){for(var r=0,n=i.length;r<n;r++)if(t.indexOf(i[r])>-1)return!0;return!1}m.filterStyleFromText=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],r=t.style.cssText;if(!r)return{};var n=r.replace(/\s+/g,"").split(";"),e={},o={};return n.map(function(a){if(a){var s=a.split(":");s.length>1&&(Q0(s[0],i)?e[s[0]]=s[1]:o[s[0]]=s[1])}}),t.setAttribute("style",""),Object.keys(o).map(function(a){t.style[a]=o[a]}),e};m.getStyleFromCsstext=function(t){var i=t.style.cssText;if(!i)return{};var r=i.replace(/\s+/g,"").split(";"),n={};return r.map(function(e){if(e){var o=e.split(":");o.length>1&&(n[o[0]]=o[1])}}),n};m.preloadImg=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(!!t){var n=new window.Image;n.onload=function(e){n=null,i&&i(e)},n.onerror=function(e){n=null,r&&r(e)},n.src=t}};m.stopPropagation=function(t){t&&t.stopPropagation()};m.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};m.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};m.checkTouchSupport=function(){return"ontouchstart"in window};m.getBuffered2=function(t){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,r=[],n=0;n<t.length;n++)r.push({start:t.start(n)<.5?0:t.start(n),end:t.end(n)});r.sort(function(l,u){var c=l.start-u.start;return c||u.end-l.end});var e=[];if(i)for(var o=0;o<r.length;o++){var a=e.length;if(a){var s=e[a-1].end;r[o].start-s<i?r[o].end>s&&(e[a-1].end=r[o].end):e.push(r[o])}else e.push(r[o])}else e=r;return new J0(e)};m.getEventPos=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.touches&&t.touches.length>0&&(t=t.touches[0]),{x:t.x/i,y:t.y/i,clientX:t.clientX/i,clientY:t.clientY/i,offsetX:t.offsetX/i,offsetY:t.offsetY/i,pageX:t.pageX/i,pageY:t.pageY/i}};m.requestAnimationFrame=function(t){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return i(t)};m.getHostFromUrl=function(t){if(m.typeOf(t)!=="String")return"";var i=t.split("/"),r="";return i.length>3&&i[2]&&(r=i[2]),r};m.cancelAnimationFrame=function(t){var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;i&&i(t)};m.isMSE=function(t){return!t||!(t instanceof HTMLMediaElement)?!1:/^blob/.test(t.currentSrc)||/^blob/.test(t.src)};m.generateSessionId=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=new Date().getTime();try{t=parseInt(t)}catch{t=0}i+=t,window.performance&&typeof window.performance.now=="function"&&(i+=parseInt(window.performance.now()));var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(i+Math.random()*16)%16|0;return i=Math.floor(i/16),(n==="x"?e:e&3|8).toString(16)});return r};m.createEvent=function(t){var i;return typeof window.Event=="function"?i=new Event(t):(i=document.createEvent("Event"),i.initEvent(t,!0,!0)),i};m.adjustTimeByDuration=function(t,i,r){return!i||!t?t:t>i||r&&t<i?i:t};m.createPositionBar=function(t,i){var r=m.createDom("xg-bar","",{"data-index":-1},t);return i.appendChild(r),r};m.getTransformStyle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0};return"scale(".concat(t.scale||1,") translate(").concat(t.x||0,"%, ").concat(t.y||0,"%) rotate(").concat(t.rotate||0,"deg)")};m.convertDeg=function(t){return Math.abs(t)<=1?t*360:t%360};function Vu(t){var i=dt(t);return t!==null&&(i==="object"||i==="function")}function e1(t,i,r){var n,e,o,a,s,l,u=0,c=!1,d=!1,f=!0,h=!i&&i!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");i=+i||0,Vu(r)&&(c=!!r.leading,d="maxWait"in r,o=d?Math.max(+r.maxWait||0,i):o,f="trailing"in r?!!r.trailing:f);function g(R){var P=n,D=e;return n=e=void 0,u=R,a=t.apply(D,P),a}function v(R,P){return h?(window.cancelAnimationFrame(s),window.requestAnimationFrame(R)):setTimeout(R,P)}function b(R){if(h)return window.cancelAnimationFrame(R);clearTimeout(R)}function y(R){return u=R,s=v(S,i),c?g(R):a}function w(R){var P=R-l,D=R-u,A=i-P;return d?Math.min(A,o-D):A}function C(R){var P=R-l,D=R-u;return l===void 0||P>=i||P<0||d&&D>=o}function S(){var R=Date.now();if(C(R))return x(R);s=v(S,w(R))}function x(R){return s=void 0,f&&n?g(R):(n=e=void 0,a)}function T(){s!==void 0&&b(s),u=0,n=l=e=s=void 0}function _(){return s===void 0?a:x(Date.now())}function M(){return s!==void 0}function E(){for(var R=Date.now(),P=C(R),D=arguments.length,A=new Array(D),N=0;N<D;N++)A[N]=arguments[N];if(n=A,e=this,l=R,P){if(s===void 0)return y(l);if(d)return s=v(S,i),g(l)}return s===void 0&&(s=v(S,i)),a}return E.cancel=T,E.flush=_,E.pending=M,E}function t1(t,i,r){var n=!0,e=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Vu(r)&&(n="leading"in r?!!r.leading:n,e="trailing"in r?!!r.trailing:e),e1(t,i,{leading:n,trailing:e,maxWait:i})}function n1(){var t=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return t==="zh-cn"&&(t="zh"),t}function r1(t,i,r){if(!!t){var n=t.getAttribute(r);return!!(n&&n===i&&(t.tagName==="VIDEO"||t.tagName==="AUDIO"))}}var Ns={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},i1=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],ve={get device(){var t=ve.os;return t.isPc?"pc":"mobile"},get browser(){if(typeof navigator=="undefined")return"";var t=navigator.userAgent.toLowerCase(),i={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(i).filter(function(r){return i[r].test(t)}))[0]},get os(){if(typeof navigator=="undefined")return{};var t=navigator.userAgent,i=/(?:Windows Phone)/.test(t),r=/(?:SymbianOS)/.test(t)||i,n=/(?:Android)/.test(t),e=/(?:Firefox)/.test(t),o=/(?:iPad|PlayBook)/.test(t)||n&&!/(?:Mobile)/.test(t)||e&&/(?:Tablet)/.test(t),a=/(?:iPhone)/.test(t)&&!o,s=!a&&!n&&!r&&!o,l=/(?:iPad|PlayBook)/.test(t);return{isTablet:o,isPhone:a,isIpad:l,isIos:a||l,isAndroid:n,isPc:s,isSymbian:r,isWindowsPhone:i,isFireFox:e}},get osVersion(){if(typeof navigator=="undefined")return 0;var t=navigator.userAgent,i="";/(?:iPhone)|(?:iPad|PlayBook)/.test(t)?i=Ns.ios:i=Ns.android;var r=i?i.exec(t):[];if(r&&r.length>=3){var n=r[2].split(".");return n.length>0?parseInt(n[0]):0}return 0},get isWeixin(){if(typeof navigator=="undefined")return!1;var t=/(micromessenger)\/([\d.]+)/,i=t.exec(navigator.userAgent.toLocaleLowerCase());return!!i},isSupportMP4:function(){var i={isSupport:!1,mime:""};if(typeof document=="undefined")return i;if(this.supportResult)return this.supportResult;var r=document.createElement("video");return typeof r.canPlayType=="function"&&i1.map(function(n){r.canPlayType('video/mp4; codecs="'.concat(n,'"'))==="probably"&&(i.isSupport=!0,i.mime+="||".concat(n))}),this.supportResult=i,r=null,i},isMSESupport:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource=="undefined"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(i)}catch(r){return this._logger.error(i,r),!1}},isHevcSupported:function(){return typeof MediaSource=="undefined"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(i){var r={supported:!1,smooth:!1,powerEfficient:!1};if(!i||typeof navigator=="undefined")return Promise.resolve(r);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(i);var n=i.video||{},e=i.audio||{};try{var o=MediaSource.isTypeSupported(n.contentType),a=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:o&&a,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(r)}}},zo="3.0.9",Bs={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},$s={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},ai=oe(function t(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};ie(this,t);var n=i&&i.i18n?i.i18n.ERROR_TYPES:null;if(i.media){var e=r.mediaError?r.mediaError:i.media.error||{},o=i.duration,a=i.currentTime,s=i.ended,l=i.src,u=i.currentSrc,c=i.media,d=c.readyState,f=c.networkState,h=r.errorCode||e.code;$s[h]&&(h=$s[h]);var g={playerVersion:zo,currentTime:a,duration:o,ended:s,readyState:d,networkState:f,src:l||u,errorType:r.errorType,errorCode:h,message:r.errorMessage||e.message,mediaError:e,originError:r.originError?r.originError.stack:"",host:m.getHostFromUrl(l||u)};return r.ext&&Object.keys(r.ext).map(function(w){g[w]=r.ext[w]}),g}else if(arguments.length>1){for(var v={playerVersion:zo,domain:document.domain},b=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],y=0;y<arguments.length;y++)v[b[y]]=arguments[y];return v.ex=n?(n[arguments[0]]||{}).msg:"",v}}),Ct="play",ha="playing",wn="ended",Kn="pause",Er="error",ga="seeking",en="seeked",Tt="timeupdate",Pr="waiting",Wt="canplay",o1="canplaythrough",Cn="durationchange",Gu="volumechange",rn="loadeddata",a1="loadedmetadata",Ku="ratechange",qu="progress",pa="loadstart",qn="emptied",s1="stalled",l1="suspend",u1="abort",c1="bufferedChange",va="focus",Yu="blur",ma="ready",Xu="urlNull",vn="autoplay_started",ya="autoplay_was_prevented",Ei="complete",si="replay",ba="destroy",Pi="urlchange",Ho="download_speed_change",Ut="fullscreen_change",li="cssFullscreen_change",ui="mini_state_change",wa="definition_change",d1="before_definition_change",Uo="after_definition_change",f1="SEI_PARSED",h1="retry",on="video_resize",jo="pip_change",Zu="rotate",Ju="screenShot",ci="playnext",Qu="shortcut",ec="xglog",di="user_action",Ri="reset",tc="source_error",nc="source_success",g1="switch_subtitle",rc=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],ic={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},oc="fps_stuck",p1=Object.freeze(Object.defineProperty({__proto__:null,ABORT:u1,AFTER_DEFINITION_CHANGE:Uo,AUTOPLAY_PREVENTED:ya,AUTOPLAY_STARTED:vn,BEFORE_DEFINITION_CHANGE:d1,BUFFER_CHANGE:c1,CANPLAY:Wt,CANPLAY_THROUGH:o1,COMPLETE:Ei,CSS_FULLSCREEN_CHANGE:li,DEFINITION_CHANGE:wa,DESTROY:ba,DOWNLOAD_SPEED_CHANGE:Ho,DURATION_CHANGE:Cn,EMPTIED:qn,ENDED:wn,ERROR:Er,FPS_STUCK:oc,FULLSCREEN_CHANGE:Ut,LOADED_DATA:rn,LOADED_METADATA:a1,LOAD_START:pa,MINI_STATE_CHANGE:ui,PAUSE:Kn,PIP_CHANGE:jo,PLAY:Ct,PLAYER_BLUR:Yu,PLAYER_FOCUS:va,PLAYING:ha,PLAYNEXT:ci,PROGRESS:qu,RATE_CHANGE:Ku,READY:ma,REPLAY:si,RESET:Ri,RETRY:h1,ROTATE:Zu,SCREEN_SHOT:Ju,SEEKED:en,SEEKING:ga,SEI_PARSED:f1,SHORTCUT:Qu,SOURCE_ERROR:tc,SOURCE_SUCCESS:nc,STALLED:s1,STATS_EVENTS:ic,SUSPEND:l1,SWITCH_SUBTITLE:g1,TIME_UPDATE:Tt,URL_CHANGE:Pi,URL_NULL:Xu,USER_ACTION:di,VIDEO_EVENTS:rc,VIDEO_RESIZE:on,VOLUME_CHANGE:Gu,WAITING:Pr,XGLOG:ec},Symbol.toStringTag,{value:"Module"}));function lo(t,i){!this||!this.emit||(t==="error"?this.errorHandler(t,i.error):this.emit(t,i))}function v1(t,i){return function(r,n){var e={player:i,eventName:t,originalEvent:r,detail:r.detail||{},timeStamp:r.timeStamp,currentTime:i.currentTime,duration:i.duration,paused:i.paused,ended:i.ended,isInternalOp:!!i._internalOp[r.type],muted:i.muted,volume:i.volume,host:m.getHostFromUrl(i.currentSrc),vtype:i.vtype};if(i.removeInnerOP(r.type),t==="timeupdate"&&(i._currentTime=i.media&&i.media.currentTime),t==="ratechange"){var o=i.media?i.media.playbackRate:0;if(o&&i._rate===o)return;i._rate=i.media&&i.media.playbackRate}if(t==="durationchange"&&(i._duration=i.media.duration),t==="volumechange"&&(e.isMutedChange=i._lastMuted!==i.muted,i._lastMuted=i.muted),t==="error"&&(e.error=n||i.video.error),i.mediaEventMiddleware[t]){var a=lo.bind(i,t,e);try{i.mediaEventMiddleware[t].call(i,e,a)}catch(s){throw lo.call(i,t,e),s}}else lo.call(i,t,e)}}var m1=function(t){he(r,t);var i=ge(r);function r(n){var e;ie(this,r),e=i.call(this,n),e._hasStart=!1,e._currentTime=0,e._duration=0,e._internalOp={},e._lastMuted=!1,e.vtype="MP4",e._rate=-1,e.mediaConfig=Object.assign({},{controls:!1,autoplay:n.autoplay,playsinline:n.playsinline,"x5-playsinline":n.playsinline,"webkit-playsinline":n.playsinline,"x5-video-player-fullscreen":n["x5-video-player-fullscreen"]||n.x5VideoPlayerFullscreen,"x5-video-orientation":n["x5-video-orientation"]||n.x5VideoOrientation,airplay:n.airplay,"webkit-airplay":n.airplay,tabindex:n.tabindex|0,mediaType:n.mediaType||"video","data-index":-1},n.videoConfig,n.videoAttributes);var o=n["x5-video-player-type"]||n.x5VideoPlayerType;return ve.isWeixin&&ve.os.isAndroid&&o&&(e.mediaConfig["x5-video-player-type"]=o,delete e.mediaConfig.playsinline,delete e.mediaConfig["webkit-playsinline"],delete e.mediaConfig["x5-playsinline"]),n.loop&&(e.mediaConfig.loop="loop"),e.media=m.createDom(e.mediaConfig.mediaType,"",e.mediaConfig,""),n.defaultPlaybackRate&&(e.media.defaultPlaybackRate=e.media.playbackRate=n.defaultPlaybackRate),m.typeOf(n.volume)==="Number"&&(e.volume=n.volume),n.autoplayMuted&&(e.media.muted=!0,e._lastMuted=!0),n.autoplay&&(e.media.autoplay=!0),e._interval={},e.mediaEventMiddleware={},e.attachVideoEvents(),e}return oe(r,[{key:"setEventsMiddleware",value:function(e){var o=this;Object.keys(e).map(function(a){o.mediaEventMiddleware[a]=e[a]})}},{key:"removeEventsMiddleware",value:function(e){var o=this;Object.keys(e).map(function(a){delete o.mediaEventMiddleware[a]})}},{key:"attachVideoEvents",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=rc.map(function(a){var s="on".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));return typeof e[s]=="function"&&e.on(a,e[s]),H({},a,v1(a,e))})),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];o.addEventListener(s,a[s],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(a){var s=Object.keys(a)[0];o.removeEventListener(s,a[s],!1)}),this._evHandlers.forEach(function(a){var s=Object.keys(a)[0],l="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));typeof e[l]=="function"&&e.off(s,e[l])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,o){var a=this;e.removeAttribute("src"),e.load(),o.forEach(function(d,f){a.media.appendChild(m.createDom("source","",{src:"".concat(d.src),type:"".concat(d.type||""),"data-index":f+1}))});var s=e.children;if(!!s){this._videoSourceCount=s.length,this._videoSourceIndex=s.length,this._vLoadeddata=function(d){a.emit(nc,{src:d.target.currentSrc,host:m.getHostFromUrl(d.target.currentSrc)})};for(var l=null,u=0;u<this._evHandlers.length;u++)if(Object.keys(this._evHandlers[u])[0]==="error"){l=this._evHandlers[u];break}!this._sourceError&&(this._sourceError=function(d){var f=parseInt(d.target.getAttribute("data-index"),10);if(a._videoSourceIndex--,a._videoSourceIndex===0||f>=a._videoSourceCount){var h={code:4,message:"sources_load_error"};l?l.error(d,h):a.errorHandler("error",h)}var g=Bs[4];a.emit(tc,new ai(a,{errorType:g,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:d.target.src}))});for(var c=0;c<s.length;c++)s[c].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var o=e.children;if(!(!o||o.length===0||!this._sourceError)){for(var a=0;a<o.length;a++)o[a].removeEventListener("error",this._sourceError);for(;o.length>0;)e.removeChild(o[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||o)){var a=this.media.error||o,s=a.code?Bs[a.code]:"other",l=a.message;this.media.currentSrc||(l="empty_src",a={code:6,message:l}),this.emit(e,new ai(this,{errorType:s,errorCode:a.code,errorMessage:a.message||"",mediaError:a}))}}},{key:"destroy",value:function(){this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var e in this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return this.media?this.media.canPlayType(e):!1}},{key:"getBufferedRange",value:function(e){var o=[0,0];if(!this.media)return o;e||(e=this.media.buffered);var a=this.media.currentTime;if(e)for(var s=0,l=e.length;s<l&&(o[0]=e.start(s),o[1]=e.end(s),!(o[0]<=a&&a<=o[1]));s++);return o[0]-a<=0&&a-o[1]<=0?o:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?m.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var o=this.media.buffered;if(!o||o.length===0)return e;for(var a=0;a<o.length;a++)if((o.start(a)<=this.currentTime||o.start(a)<.1)&&o.end(a)>=this.currentTime)return{start:o.start(a),end:o.end(a)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var o=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return o[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(e){!this.media||this.media.muted===e||(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){!this.media||e===1/0||(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(!!this.media){if(this.emit(Pi,e),this.emit(Pr),this._currentTime=0,this._duration=0,/^blob/.test(this.media.currentSrc)||/^blob/.test(this.media.src)){this.onWaiting();return}this._detachSourceEvents(this.media),m.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e===1/0||!this.media||(this.media.volume=e)}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];(a=fe(ue(r.prototype),"emit",this)).call.apply(a,[this,e,o].concat(l))}},{key:"on",value:function(e,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];(a=fe(ue(r.prototype),"on",this)).call.apply(a,[this,e,o].concat(l))}},{key:"once",value:function(e,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];(a=fe(ue(r.prototype),"once",this)).call.apply(a,[this,e,o].concat(l))}},{key:"off",value:function(e,o){for(var a,s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];(a=fe(ue(r.prototype),"off",this)).call.apply(a,[this,e,o].concat(l))}},{key:"offAll",value:function(){fe(ue(r.prototype),"removeAllListeners",this).call(this)}}]),r}(Wu),y1=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};ie(this,t),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=i}return oe(t,[{key:"openDB",value:function(r){var n=this,e=this,o=this.myDB.version||1,a=e.indexedDB.open(e.myDB.name,o);a.onerror=function(s){},a.onsuccess=function(s){n.myDB.db=s.target.result,r.call(e)},a.onupgradeneeded=function(s){var l=s.target.result;s.target.transaction,l.objectStoreNames.contains(e.myDB.ojstore.name)||l.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var r=this;r.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(r,n){for(var e=this.myDB.db.transaction(r,"readwrite").objectStore(r),o,a=0;a<n.length;a++)o=e.add(n[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"putData",value:function(r,n){for(var e=this.myDB.db.transaction(r,"readwrite").objectStore(r),o,a=0;a<n.length;a++)o=e.put(n[a]),o.onerror=function(){},o.onsuccess=function(){}}},{key:"getDataByKey",value:function(r,n,e){var o=this,a=this.myDB.db.transaction(r,"readwrite").objectStore(r),s=a.get(n);s.onerror=function(){e.call(o,null)},s.onsuccess=function(l){var u=l.target.result;e.call(o,u)}}},{key:"deleteData",value:function(r,n){var e=this.myDB.db.transaction(r,"readwrite").objectStore(r);e.delete(n)}},{key:"clearData",value:function(r){var n=this.myDB.db.transaction(r,"readwrite").objectStore(r);n.clear()}}]),t}(),zs=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Hs=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Us=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],fn="data-xgplayerid";function $r(t,i,r){for(var n=arguments.length,e=new Array(n>3?n-3:0),o=3;o<n;o++)e[o-3]=arguments[o];var a=i.call.apply(i,[t].concat(e));!r||typeof r!="function"||(a&&a.then?a.then(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];r.call.apply(r,[t].concat(l))}):r.call.apply(r,[t].concat(e)))}function fi(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[t]&&(this.__hooks[t]=null),function(){var n=arguments,e=this;if(r.pre)try{var o;(o=r.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(l){throw l.message="[pluginName: ".concat(this.pluginName,":").concat(t,":pre error] >> ").concat(l.message),l}if(this.__hooks&&this.__hooks[t])try{var a,s=(a=this.__hooks[t]).call.apply(a,[this,this].concat(Array.prototype.slice.call(arguments)));s?s.then?s.then(function(l){l!==!1&&$r.apply(void 0,[e,i,r.next].concat(Vt(n)))}).catch(function(l){throw l}):$r.apply(void 0,[this,i,r.next].concat(Array.prototype.slice.call(arguments))):s===void 0&&$r.apply(void 0,[this,i,r.next].concat(Array.prototype.slice.call(arguments)))}catch(l){throw l.message="[pluginName: ".concat(this.pluginName,":").concat(t,"] >> ").concat(l.message),l}else $r.apply(void 0,[this,i,r.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function hi(t,i){var r=this.__hooks;if(!!r)return r.hasOwnProperty(t)?(r&&(r[t]=i),!0):(console.warn("has no supported hook which name [".concat(t,"]")),!1)}function gi(t,i){var r=this.__hooks;!r||delete r[t]}function js(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){for(var i=this.plugins[t.toLowerCase()],r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];return i.useHooks&&i.useHooks.apply(i,n)}}function Ws(t){if(!(!this.plugins||!this.plugins[t.toLowerCase()])){var i=this.plugins[t.toLowerCase()];if(i){for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];return i.removeHooks&&i.removeHooks.apply(i,n)}}}function ac(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.__hooks={},i&&i.map(function(r){t.__hooks[r]=null}),Object.defineProperty(t,"hooks",{get:function(){return t.__hooks&&Object.keys(t.__hooks).map(function(n){if(t.__hooks[n])return n})}})}function sc(t){t.__hooks=null}function jt(t,i,r){for(var n=arguments.length,e=new Array(n>3?n-3:0),o=3;o<n;o++)e[o-3]=arguments[o];if(t.__hooks&&t.__hooks[i]){var a,s=(a=t.__hooks[i]).call.apply(a,[t,t].concat(e));if(s&&s.then)s.then(function(l){return l===!1?null:r.call.apply(r,[t,t].concat(e))}).catch(function(l){console.warn("[runHooks]".concat(i," reject"),l.message)});else if(s!==!1)return r.call.apply(r,[t,t].concat(e))}else return r.call.apply(r,[t,t].concat(e))}function uo(t,i){Se.logError("[".concat(t,"] event or callback cant be undefined or null when call ").concat(i))}var bn=function(){function t(i){ie(this,t),m.checkIsFunction(this.beforeCreate)&&this.beforeCreate(i),ac(this),this.__args=i,this.__events={},this.__onceEvents={},this.config=i.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(i)}return oe(t,[{key:"beforeCreate",value:function(r){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(r){this.player=r.player,this.playerConfig=r.player&&r.player.config,this.pluginName=r.pluginName?r.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=r.player&&r.player.logger}},{key:"updateLang",value:function(r){r||(r=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var r=m.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(r=this.playerConfig.domEventType),r}},{key:"on",value:function(r,n){var e=this;if(!r||!n||!this.player){uo(this.pluginName,"plugin.on(event, callback)");return}typeof r=="string"?(this.__events[r]=n,this.player.on(r,n)):Array.isArray(r)&&r.forEach(function(o){e.__events[o]=n,e.player.on(o,n)})}},{key:"once",value:function(r,n){var e=this;if(!r||!n||!this.player){uo(this.pluginName,"plugin.once(event, callback)");return}typeof r=="string"?(this.__onceEvents[r]=n,this.player.once(r,n)):Array.isArray(r)&&r.forEach(function(o){e.__onceEvents[o]=n,e.player.once(r,n)})}},{key:"off",value:function(r,n){var e=this;if(!r||!n||!this.player){uo(this.pluginName,"plugin.off(event, callback)");return}typeof r=="string"?(delete this.__events[r],this.player.off(r,n)):Array.isArray(r)&&r.forEach(function(o){delete e.__events[r],e.player.off(o,n)})}},{key:"offAll",value:function(){var r=this;["__events","__onceEvents"].forEach(function(n){Object.keys(r[n]).forEach(function(e){r[n][e]&&r.off(e,r[n][e]),e&&delete r[n][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(r){var n;if(!!this.player){for(var e=arguments.length,o=new Array(e>1?e-1:0),a=1;a<e;a++)o[a-1]=arguments[a];(n=this.player).emit.apply(n,[r].concat(o))}}},{key:"emitUserAction",value:function(r,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!!this.player){var o=Ze(Ze({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(r,n,o)}}},{key:"hook",value:function(r,n){return fi.call.apply(fi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(r,n){for(var e=arguments.length,o=new Array(e>2?e-2:0),a=2;a<e;a++)o[a-2]=arguments[a];return hi.call.apply(hi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(r,n){for(var e=arguments.length,o=new Array(e>2?e-2:0),a=2;a<e;a++)o[a-2]=arguments[a];return gi.call.apply(gi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(!!this.player)return e&&(n.pluginName=e),this.player.registerPlugin({plugin:r,options:n})}},{key:"getPlugin",value:function(r){return this.player?this.player.getPlugin(r):null}},{key:"__destroy",value:function(){var r=this,n=this.player,e=this.pluginName;this.offAll(),m.clearAllTimers(this),m.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(o){r[o]=null}),n.unRegisterPlugin(e),sc(this)}}],[{key:"defineGetterOrSetter",value:function(r,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&Object.defineProperty(r,e,n[e])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),t}(),b1=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var In=Element.prototype;In.matches=In.matchesSelector||In.mozMatchesSelector||In.msMatchesSelector||In.oMatchesSelector||In.webkitMatchesSelector}function w1(t,i){for(;t&&t.nodeType!==b1;){if(typeof t.matches=="function"&&t.matches(i))return t;t=t.parentNode}}var C1=w1,x1=C1;function co(t,i,r,n,e){var o=S1.apply(this,arguments);return t.addEventListener(r,o,e),{destroy:function(){t.removeEventListener(r,o,e)}}}function _1(t,i,r,n,e){return typeof t.addEventListener=="function"?co.apply(null,arguments):typeof r=="function"?co.bind(null,document).apply(null,arguments):(typeof t=="string"&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(o){return co(o,i,r,n,e)}))}function S1(t,i,r,n){return function(e){e.delegateTarget=x1(e.target,i),e.delegateTarget&&n.call(t,e)}}var Vs=_1,k1={CONTROLS:"controls",ROOT:"root"},$e={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function fo(t){return t?t.indexOf&&/^(?:http|data:|\/)/.test(t):!1}function T1(t,i){return dt(t)==="object"&&t.class&&typeof t.class=="string"?"".concat(i," ").concat(t.class):i}function E1(t,i){return dt(t)==="object"&&t.attr&&dt(t.attr)==="object"&&Object.keys(t.attr).map(function(r){i[r]=t.attr[r]}),i}function Gs(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=null;if(t instanceof window.Element)return m.addClass(t,r),Object.keys(n).map(function(a){t.setAttribute(a,n[a])}),t;if(fo(t)||fo(t.url))return n.src=fo(t)?t:t.url||"",o=m.createDom(t.tag||"img","",n,"xg-img ".concat(r)),o;if(typeof t=="function")try{return o=t(),o instanceof window.Element?(m.addClass(o,r),Object.keys(n).map(function(a){o.setAttribute(a,n[a])}),o):(Se.logWarn("warn>>icons.".concat(i," in config of plugin named [").concat(e,"] is a function mast return an Element Object")),null)}catch(a){return Se.logError("Plugin named [".concat(e,"]:createIcon"),a),null}return typeof t=="string"?m.createDomFromHtml(t,n,r):(Se.logWarn("warn>>icons.".concat(i," in config of plugin named [").concat(e,"] is invalid")),null)}function P1(t,i){var r=i.config.icons||i.playerConfig.icons;Object.keys(t).map(function(n){var e=t[n],o=e&&e.class?e.class:"",a=e&&e.attr?e.attr:{},s=null;r&&r[n]&&(o=T1(r[n],o),a=E1(r[n],a),s=Gs(r[n],n,o,a,i.pluginName)),!s&&e&&(s=Gs(e.icon?e.icon:e,a,o,{},i.pluginName)),i.icons[n]=s})}function R1(t,i){Object.keys(t).map(function(r){Object.defineProperty(i.langText,r,{get:function(){var e=i.lang,o=i.i18n;return o[r]?o[r]:t[r]&&t[r][e]||""}})})}var Le=function(t){he(r,t);var i=ge(r);function r(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ie(this,r),n=i.call(this,e),n.__delegates=[],n}return oe(r,[{key:"__init",value:function(e){if(fe(ue(r.prototype),"__init",this).call(this,e),!!e.root){var o=e.root,a=null;this.icons={},this.root=null,this.parent=null;var s=this.registerIcons()||{};P1(s,this),this.langText={};var l=this.registerLanguageTexts()||{};R1(l,this);var u="";try{u=this.render()}catch(f){throw Se.logError("Plugin:".concat(this.pluginName,":render"),f),new Error("Plugin:".concat(this.pluginName,":render:").concat(f.message))}if(u)a=r.insert(u,o,e.index),a.setAttribute("data-index",e.index);else if(e.tag)a=m.createDom(e.tag,"",e.attr,e.name),a.setAttribute("data-index",e.index),o.appendChild(a);else return;this.root=a,this.parent=o;var c=this.config.attr||{},d=this.config.style||{};this.setAttr(c),this.setStyle(d),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(!!this.root){this._children=[];var o=this.children();o&&dt(o)==="object"&&Object.keys(o).length>0&&Object.keys(o).map(function(a){var s=a,l=o[s],u={root:e.root},c,d;typeof l=="function"?(c=e.config[s]||{},d=l):dt(l)==="object"&&typeof l.plugin=="function"&&(c=l.options?m.deepCopy(e.config[s]||{},l.options):e.config[s]||{},d=l.plugin),u.config=c,c.index!==void 0&&(u.index=c.index),c.root&&(u.root=c.root),e.registerPlugin(d,u,s)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);function o(u,c){for(var d=0;d<u.children.length;d++)u.children[d].children.length>0?o(u.children[d],c):c(u.children[d])}var a=this.root,s=this.i18n,l=this.langText;a&&o(a,function(u){var c=u.getAttribute&&u.getAttribute("lang-key");if(!!c){var d=s[c.toUpperCase()]||l[c];d&&(u.innerHTML=typeof d=="function"?d(e):d)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=this.i18n||{},s=this.langText;e.setAttribute&&e.setAttribute("lang-key",o);var l=a[o]||s[o]||"";l&&(e.innerHTML=l)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";o.root=o.root||this.root;var s=fe(ue(r.prototype),"registerPlugin",this).call(this,e,o,a);return this._children.push(s),s}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(!!this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,o,a){var s=this;if(arguments.length<3&&typeof o=="function")Array.isArray(e)?e.forEach(function(u){s.bindEL(u,o)}):this.bindEL(e,o);else{var l=r.delegate.call(this,this.root,e,o,a);this.__delegates=this.__delegates.concat(l)}}},{key:"unbind",value:function(e,o){var a=this;if(arguments.length<3&&typeof o=="function")Array.isArray(e)?e.forEach(function(u){a.unbindEL(u,o)}):this.unbindEL(e,o);else for(var s="".concat(e,"_").concat(o),l=0;l<this.__delegates.length;l++)if(this.__delegates[l].key===s){this.__delegates[l].destroy(),this.__delegates.splice(l,1);break}}},{key:"setStyle",value:function(e,o){var a=this;if(!!this.root){if(m.typeOf(e)==="String")return this.root.style[e]=o;m.typeOf(e)==="Object"&&Object.keys(e).map(function(s){a.root.style[s]=e[s]})}}},{key:"setAttr",value:function(e,o){var a=this;if(!!this.root){if(m.typeOf(e)==="String")return this.root.setAttribute(e,o);m.typeOf(e)==="Object"&&Object.keys(e).map(function(s){a.root.setAttribute(s,e[s])})}}},{key:"setHtml",value:function(e,o){!this.root||(this.root.innerHTML=e,typeof o=="function"&&o())}},{key:"bindEL",value:function(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;!this.root||"on".concat(e)in this.root&&typeof o=="function"&&this.root.addEventListener(e,o,a)}},{key:"unbindEL",value:function(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;!this.root||"on".concat(e)in this.root&&typeof o=="function"&&this.root.removeEventListener(e,o,a)}},{key:"show",value:function(e){if(!!this.root){this.root.style.display=e!==void 0?e:"block";var o=window.getComputedStyle(this.root,null),a=o.getPropertyValue("display");if(a==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,o){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!o||!(o instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(o):e.appendChild(o)}catch(a){return Se.logError("Plugin:appendChild",a),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,o=this.player;this.__delegates.map(function(a){a.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(a){o.unRegisterPlugin(a.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),fe(ue(r.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(a){e[a]=null})}}],[{key:"insert",value:function(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=o.children.length,l=Number(a),u=e instanceof window.Node;if(s){for(var c=0,d=null,f="";c<s;c++){d=o.children[c];var h=Number(d.getAttribute("data-index"));if(h>=l){f="beforebegin";break}else h<l&&(f="afterend")}return u?f==="afterend"?o.appendChild(e):o.insertBefore(e,d):d.insertAdjacentHTML(f,e),f==="afterend"?o.children[o.children.length-1]:o.children[c]}else return u?o.appendChild(e):o.insertAdjacentHTML("beforeend",e),o.children[o.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,o,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=[];if(e instanceof window.Node&&typeof s=="function")if(Array.isArray(a))a.forEach(function(d){var f=Vs(e,o,d,s,l);f.key="".concat(o,"_").concat(d),u.push(f)});else{var c=Vs(e,o,a,s,l);c.key="".concat(o,"_").concat(a),u.push(c)}return u}},{key:"ROOT_TYPES",get:function(){return k1}},{key:"POSITIONS",get:function(){return $e}}]),r}(bn),A1=function(){function t(){var i=this;if(ie(this,t),H(this,"__trigger",function(r){var n=new Date().getTime();i.timeStamp=n;for(var e=0;e<r.length;e++)i.__runHandler(r[e].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(t1(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(r){console.error(r)}}return oe(t,[{key:"addObserver",value:function(r,n){if(!!this.observer){this.observer&&this.observer.observe(r);for(var e=r.getAttribute(fn),o=this.__handlers,a=-1,s=0;s<o.length;s++)o[s]&&r===o[s].target&&(a=s);a>-1?this.__handlers[a].handler=n:this.__handlers.push({target:r,handler:n,playerId:e})}}},{key:"unObserver",value:function(r){var n=-1;this.__handlers.map(function(e,o){r===e.target&&(n=o)});try{this.observer&&this.observer.unobserve(r)}catch{}this.observer&&this.observer.unobserve(r),n>-1&&this.__handlers.splice(n,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(r){for(var n=this.__handlers,e=0;e<n.length;e++)if(n[e]&&r===n[e].target){try{n[e].handler(r)}catch(o){console.error(o)}return!0}return!1}}]),t}(),hr=null;function I1(t,i){return hr||(hr=new A1),hr.addObserver(t,i),hr}function O1(t,i){hr.unObserver(t,i)}var tt={pluginGroup:{},init:function(i){var r=i._pluginInfoId;r||(r=new Date().getTime(),i._pluginInfoId=r),!i.config.closeResizeObserver&&I1(i.root,function(){i.resize()}),Object.keys(this.pluginGroup).length===0&&(i.isUserActive=!0),this.pluginGroup[r]={_player:i,_originalOptions:i.config||{},_plugins:{}}},checkPlayerRoot:function(i){if(this.pluginGroup){for(var r=Object.keys(this.pluginGroup),n=0;n<r.length;n++){var e=this.pluginGroup[r[n]]._player;if(e.root===i)return e}return null}return null},formatPluginInfo:function(i,r){var n=null,e=null;return i.plugin&&typeof i.plugin=="function"?(n=i.plugin,e=i.options):(n=i,e={}),r&&(e.config=r||{}),{PLUFGIN:n,options:e}},checkPluginIfExits:function(i,r){for(var n=0;n<r.length;n++)if(i.toLowerCase()===r[n].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(i,r){for(var n=Object.keys(r),e=null,o=0;o<n.length;o++)if(i.toLowerCase()===n[o].toLowerCase()){e=r[n[o]];break}return m.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(i,r){var n=this,e=r.timeout||1500;return Promise.race([r.loader().then(function(o){var a;o&&o.__esModule?a=o.default:a=o,n.register(i,a,o.options)}),new Promise(function(o,a){setTimeout(function(){a(new Error("timeout"))},e)})])},register:function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!i||!r||typeof r!="function"||r.prototype===void 0)){var e=i._pluginInfoId;if(!(!e||!this.pluginGroup[e])){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var o=this.pluginGroup[e]._plugins,a=this.pluginGroup[e]._originalOptions;n.player=this.pluginGroup[e]._player;var s=n.pluginName||r.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(r.isSupported&&!r.isSupported(i.config.mediaType,i.config.codecType)){console.warn("not supported plugin [".concat(s,"]"));return}n.config||(n.config={});for(var l=Object.keys(a),u=0;u<l.length;u++)if(s.toLowerCase()===l[u].toLowerCase()){var c=a[l[u]];m.typeOf(c)==="Object"?n.config=Object.assign({},n.config,a[l[u]]):m.typeOf(c)==="Boolean"&&(n.config.disable=!c);break}r.defaultConfig&&Object.keys(r.defaultConfig).forEach(function(f){typeof n.config[f]=="undefined"&&(n.config[f]=r.defaultConfig[f])}),n.root?typeof n.root=="string"&&(n.root=i[n.root]):n.root=i.root,n.index=n.config.index||0;try{o[s.toLowerCase()]&&(this.unRegister(e,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var d=new r(n);return o[s.toLowerCase()]=d,o[s.toLowerCase()].func=r,d&&typeof d.afterCreate=="function"&&d.afterCreate(),d}catch(f){throw console.error(f),f}}}},unRegister:function(i,r){i._pluginInfoId&&(i=i._pluginInfoId),r=r.toLowerCase();try{var n=this.pluginGroup[i]._plugins[r];n&&(n.pluginName&&n.__destroy(),delete this.pluginGroup[i]._plugins[r])}catch(e){console.error("[unRegister:".concat(r,"] cgid:[").concat(i,"] error"),e)}},deletePlugin:function(i,r){var n=i._pluginInfoId;n&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[r]},getPlugins:function(i){var r=i._pluginInfoId;return r&&this.pluginGroup[r]?this.pluginGroup[r]._plugins:{}},findPlugin:function(i,r){var n=i._pluginInfoId;if(!n||!this.pluginGroup[n])return null;var e=r.toLowerCase();return this.pluginGroup[n]._plugins[e]},beforeInit:function(i){var r=this;function n(e){return!e||!e.then?new Promise(function(o){o()}):e}return new Promise(function(e){if(!!r.pluginGroup){var o;return i._loadingPlugins&&i._loadingPlugins.length?o=Promise.all(i._loadingPlugins):o=Promise.resolve(),o.then(function(){var a=i._pluginInfoId;if(!r.pluginGroup[a]){e();return}var s=r.pluginGroup[a]._plugins,l=[];Object.keys(s).forEach(function(u){if(s[u]&&s[u].beforePlayerInit)try{var c=s[u].beforePlayerInit();l.push(n(c))}catch(d){throw l.push(n(null)),d}}),Promise.all([].concat(l)).then(function(){e()}).catch(function(u){console.error(u),e()})})}})},afterInit:function(i){var r=i._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=this.pluginGroup[r]._plugins;Object.keys(n).forEach(function(e){n[e]&&n[e].afterPlayerInit&&n[e].afterPlayerInit()})}},setLang:function(i,r){var n=r._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var e=this.pluginGroup[n]._plugins;Object.keys(e).forEach(function(o){if(e[o].updateLang)e[o].updateLang(i);else try{e[o].lang=i}catch{console.warn("".concat(o," setLang"))}})}},reRender:function(i){var r=this,n=i._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var e=[],o=this.pluginGroup[n]._plugins;Object.keys(o).forEach(function(a){a!=="controls"&&o[a]&&(e.push({plugin:o[a].func,options:o[a].__args}),r.unRegister(n,a))}),e.forEach(function(a){r.register(i,a.plugin,a.options)})}},onPluginsReady:function(i){var r=i._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var n=this.pluginGroup[r]._plugins||{};Object.keys(n).forEach(function(e){n[e].onPluginsReady&&typeof n[e].onPluginsReady=="function"&&n[e].onPluginsReady()})}},setCurrentUserActive:function(i,r){if(!!this.pluginGroup[i]){if(!r)return this.pluginGroup[i]._player.isUserActive=r,i;for(var n=Object.keys(this.pluginGroup),e=0;e<n.length;e++){var o=this.pluginGroup[n[e]];o&&o._player&&(this.pluginGroup[n[e]]._player.isUserActive=!1)}return this.pluginGroup[i]._player.isUserActive=r,i}},getCurrentUseActiveId:function(){if(!!this.pluginGroup){for(var i=Object.keys(this.pluginGroup),r=0;r<i.length;r++){var n=this.pluginGroup[i[r]];if(n&&n._player&&n._player.isUserActive)return i[r]}return null}},destroy:function(i){var r=i._pluginInfoId;if(!!this.pluginGroup[r]){O1(i.root);for(var n=this.pluginGroup[r]._plugins,e=0,o=Object.keys(n);e<o.length;e++){var a=o[e];this.unRegister(r,a)}var s=i.isUseActive;if(delete this.pluginGroup[r],delete i._pluginInfoId,s){var l=Object.keys(this.pluginGroup);l.length>0&&this.setCurrentUserActive(l[l.length-1],!0)}}}},V={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Ks(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},ignores:[],whitelist:[],inactive:3e3,lang:n1(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var L1=function(i,r){var n,e,o;r.preset&&r.options?o=new r.preset(r.options,i.config):o=new r({},i.config);var a=o,s=a.plugins,l=s===void 0?[]:s,u=a.ignores,c=u===void 0?[]:u,d=a.icons,f=d===void 0?{}:d,h=a.i18n,g=h===void 0?[]:h;i.config.plugins||(i.config.plugins=[]),i.config.ignores||(i.config.ignores=[]),(n=i.config.plugins).push.apply(n,Vt(l)),(e=i.config.ignores).push.apply(e,Vt(c)),Object.keys(f).map(function(b){i.config.icons[b]||(i.config.icons[b]=f[b])});var v=i.config.i18n||[];g.push.apply(g,Vt(v)),i.config.i18n=g},D1=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onMouseEnter",function(s){var l=I(n),u=l.player,c=l.playerConfig;c.closeControlsBlur&&u.focus({autoHide:!1})}),H(I(n),"onMouseLeave",function(s){var l=I(n),u=l.player;u.focus()}),n}return oe(r,[{key:"beforeCreate",value:function(e){!e.config.mode&&ve.device==="mobile"&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,o=this.config,a=o.disable,s=o.height,l=o.mode;if(!a){l==="flex"&&this.player.addClass(V.FLEX_CONTROLS);var u={height:"".concat(s,"px")};Object.keys(u).map(function(d){e.root.style[d]=u[d]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(ui,function(d){d?m.addClass(e.root,"mini-controls"):m.removeClass(e.root,"mini-controls")});var c=this.playerConfig.isMobileSimulateMode;ve.device!=="mobile"&&c!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&m.addClass(this.root,V.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){m.removeClass(this.root,V.CONTROLS_AUTOHIDE)}},{key:"show",value:function(){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(!!this.root){var s=e.defaultConfig||{};if(!o.root){var l=o.position?o.position:o.config&&o.config.position?o.config.position:s.position;switch(l){case $e.CONTROLS_LEFT:o.root=this.left;break;case $e.CONTROLS_RIGHT:o.root=this.right;break;case $e.CONTROLS_CENTER:o.root=this.center;break;case $e.CONTROLS:o.root=this.root;break;default:o.root=this.left}return fe(ue(r.prototype),"registerPlugin",this).call(this,e,o,a)}}}},{key:"destroy",value:function(){ve.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,o=e.mode,a=e.autoHide,s=e.initShow,l=e.disable;if(!l){var u=m.classNames({"xgplayer-controls":!0},{"flex-controls":o==="flex"},{"bottom-controls":o==="bottom"},H({},V.CONTROLS_AUTOHIDE,a),{"xgplayer-controls-initshow":s||!a});return'<xg-controls class="'.concat(u,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),r}(Le),F1={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},gt={lang:{},langKeys:[],textKeys:[]};function Cr(t,i){return Object.keys(i).forEach(function(r){var n=m.typeOf(i[r]),e=m.typeOf(t[r]);if(n==="Array"){var o;e!=="Array"&&(t[r]=[]),(o=t[r]).push.apply(o,Vt(i[r]))}else n==="Object"?(e!=="Object"&&(t[r]={}),Cr(t[r],i[r])):t[r]=i[r]}),t}function lc(){Object.keys(gt.lang.en).map(function(t){gt.textKeys[t]=t})}function M1(t,i){var r=[];if(i||(i=gt),!!i.lang){m.typeOf(t)!=="Array"?r=Object.keys(t).map(function(o){var a=o==="zh"?"zh-cn":o;return{LANG:a,TEXT:t[o]}}):r=t;var n=i,e=n.lang;r.map(function(o){o.LANG==="zh"&&(o.LANG="zh-cn"),e[o.LANG]?Cr(e[o.LANG]||{},o.TEXT||{}):Ca(o,i)}),lc()}}function Ca(t,i){var r=t.LANG;if(i||(i=gt),!!i.lang){var n=t.TEXT||{};r==="zh"&&(r="zh-cn"),i.lang[r]?Cr(i.lang[r],n):(i.langKeys.push(r),i.lang[r]=n),lc()}}function N1(t){var i,r={lang:{},langKeys:[],textKeys:{},pId:t};return Cr(r.lang,gt.lang),(i=r.langKeys).push.apply(i,Vt(gt.langKeys)),Cr(r.textKeys,gt.textKeys),r}Ca(F1);var $n={get textKeys(){return gt.textKeys},get langKeys(){return gt.langKeys},get lang(){var t={};return gt.langKeys.map(function(i){t[i]=gt.lang[i]}),gt.lang["zh-cn"]&&(t.zh=gt.lang["zh-cn"]||{}),t},extend:M1,use:Ca,init:N1},Ee={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7,DESTROYED:8},qs=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],B1=["play","pause","replay","retry"],Ys=0,Xs=0,xa=function(t){he(r,t);var i=ge(r);function r(n){var e;ie(this,r);var o=m.deepMerge(Ks(),n);e=i.call(this,o),H(I(e),"canPlayFunc",function(){if(!!e.config){var g=e.config,v=g.autoplay,b=g.startTime,y=g.defaultPlaybackRate;Se.logInfo("player","canPlayFunc, startTime",b),b&&(e.currentTime=b>e.duration?e.duration:b,e.config.startTime=0),e.playbackRate=y,(v||e._useAutoplay)&&e.mediaPlay(),e.off(Wt,e.canPlayFunc),e.removeClass(V.ENTER)}}),H(I(e),"onFullscreenChange",function(g,v){var b=function(){m.setTimeout(I(e),function(){e.resize()},100)},y=m.getFullScreenEl();e._fullActionFrom?e._fullActionFrom="":e.emit(di,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:e.currentTime,duration:e.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var w=r1(y,e.playerId,fn);if(v||y&&(y===e._fullscreenEl||w))b(),!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!0,e.changeFullStyle(e.root,y,V.FULLSCREEN),e.emit(Ut,!0,e._fullScreenOffset),e.cssfullscreen&&e.exitCssFullscreen();else if(e.fullscreen){b();var C=I(e),S=C._fullScreenOffset,x=C.config;x.needFullscreenScroll?(window.scrollTo(S.left,S.top),m.setTimeout(I(e),function(){e.fullscreen=!1,e._fullScreenOffset=null},100)):(!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!1,e._fullScreenOffset=null),e.cssfullscreen?e.removeClass(V.FULLSCREEN):e.recoverFullStyle(e.root,e._fullscreenEl,V.FULLSCREEN),e._fullscreenEl=null,e.emit(Ut,!1)}}),H(I(e),"_onWebkitbeginfullscreen",function(g){e._fullscreenEl=e.media,e.onFullscreenChange(g,!0)}),H(I(e),"_onWebkitendfullscreen",function(g){e.onFullscreenChange(g,!1)}),ac(I(e),B1),e.config=o,e._pluginInfoId=m.generateSessionId(),Z0(I(e));var a=e.constructor.defaultPreset;if(e.config.presets.length){var s=e.config.presets.indexOf("default");s>=0&&a&&(e.config.presets[s]=a)}else a&&e.config.presets.push(a);e.userTimer=null,e.waitTimer=null,e._state=Ee.INITIAL,e.isError=!1,e._hasStart=!1,e.isSeeking=!1,e.isCanplay=!1,e._useAutoplay=!1,e.rotateDeg=0,e.isActive=!1,e.fullscreen=!1,e.cssfullscreen=!1,e.isRotateFullscreen=!1,e._fullscreenEl=null,e._cssfullscreenEl=null,e.curDefinition=null,e._orgCss="",e._fullScreenOffset=null,e._videoHeight=0,e._videoWidth=0,e.videoPos={pi:1,scale:0,rotate:0,x:0,y:0,h:-1,w:-1,vy:0,vx:0},e.sizeInfo={width:0,height:0,left:0,top:0},e._accPlayed={t:0,acc:0,loopAcc:0},e.innerContainer=null,e.controls=null,e.topBar=null,e.root=null,e.__i18n=$n.init(e._pluginInfoId),ve.os.isAndroid&&ve.osVersion>0&&ve.osVersion<6&&(e.config.autoplay=!1),e.database=new y1,e.isUserActive=!1,e._onceSeekCanplay=null,e._isPauseBeforeSeek=0;var l=e._initDOM();if(!l)return console.error(new Error("can't find the dom which id is ".concat(e.config.id," or this.config.el does not exist"))),fa(e);var u=e.config,c=u.definition,d=c===void 0?{}:c,f=u.url;if(!f&&d.list&&d.list.length>0){var h=d.list.find(function(g){return g.definition&&g.definition===d.defaultDefinition});h||(d.defaultDefinition=d.list[0].definition,h=d.list[0]),e.config.url=h.url,e.curDefinition=h}return e._bindEvents(),e._registerPresets(),e._registerPlugins(),tt.onPluginsReady(I(e)),e.getInitDefinition(),e.setState(Ee.READY),m.setTimeout(I(e),function(){e.emit(ma)},0),e.onReady&&e.onReady(),(e.config.videoInit||e.config.autoplay)&&(!e.hasStart||e.state<Ee.ATTACHED)&&e.start(),e}return oe(r,[{key:"_initDOM",value:function(){var e=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var o=this.config.el;if(o&&o.nodeType===1)this.root=o;else return this.emit(Er,new ai("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var a=tt.checkPlayerRoot(this.root);a&&(Se.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),a.destroy()),this.root.setAttribute(fn,this.playerId),tt.init(this),this._initBaseDoms();var s=this.constructor.XgVideoProxy;if(s&&this.mediaConfig.mediaType===s.mediaType){var l=this.innerContainer||this.root;this.detachVideoEvents(this.media);var u=new s(l,this.config,this.mediaConfig);this.attachVideoEvents(u),this.media=u}if(this.media.setAttribute(fn,this.playerId),this.config.controls){var c=this.config.controls.root||null,d=tt.register(this,D1,{root:c});this.controls=d}var f=this.config.isMobileSimulateMode==="mobile"?"mobile":ve.device;if(this.addClass("".concat(V.DEFAULT," ").concat(V.INACTIVE," xgplayer-").concat(f," ").concat(this.config.controls?"":V.NO_CONTROLS)),this.config.autoplay?this.addClass(V.ENTER):this.addClass(V.NO_START),this.config.fluid){var h=this.config,g=h.width,v=h.height;(typeof g!="number"||typeof v!="number")&&(g=600,v=337.5);var b={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(v*100/g,"%")};Object.keys(b).forEach(function(T){e.root.style[T]=b[T]})}else["width","height"].forEach(function(T){e.config[T]&&(typeof e.config[T]!="number"?e.root.style[T]=e.config[T]:e.root.style[T]="".concat(e.config[T],"px"))});var y=this.root.getBoundingClientRect(),w=y.width,C=y.height,S=y.left,x=y.top;return this.sizeInfo.width=w,this.sizeInfo.height=C,this.sizeInfo.left=S,this.sizeInfo.top=x,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=m.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(o){e.on(o,e["on"+o.charAt(0).toUpperCase()+o.slice(1)])}),zs.forEach(function(o){document&&document.addEventListener(o,e.onFullscreenChange)}),ve.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(rn,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(Ct,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),zs.forEach(function(o){document.removeEventListener(o,e.onFullscreenChange)}),this.playFunc&&this.off(Ct,this.playFunc),this.off(Wt,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(e){var o=this;if(!!this.media&&!((!e||e===""||m.typeOf(e)==="Array"&&e.length===0)&&(e="",this.emit(Xu),Se.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){this._detachSourceEvents(this.media),m.typeOf(e)==="Array"&&e.length>0?this._attachSourceEvents(this.media,e):!this.media.src||this.media.src!==e?this.media.src=e:e||this.media.removeAttribute("src"),m.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var a=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!a.contains(this.media)&&a.insertBefore(this.media,a.firstChild);var s=this.media.readyState;Se.logInfo("_startInit readyState",s),this.config.autoplay&&(!(/^blob/.test(this.media.currentSrc)||/^blob/.test(this.media.src))&&this.load(),(ve.os.isIpad||ve.os.isPhone)&&this.mediaPlay()),s>=2?this.canPlayFunc():this.once(Wt,this.canPlayFunc),(!this.hasStart||this.state<Ee.ATTACHED)&&tt.afterInit(this),this.hasStart=!0,this.setState(Ee.ATTACHED),m.setTimeout(this,function(){o.emit(Ei)},0)}}},{key:"_registerPlugins",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var a=this.config.ignores||[],s=this.config.plugins||[],l=this.config.i18n||[];o&&$n.extend(l,this.__i18n);var u=a.join("||").toLowerCase().split("||"),c=this.plugins;s.forEach(function(d){try{var f=d.plugin?d.plugin.pluginName:d.pluginName;if(f&&u.indexOf(f.toLowerCase())>-1)return null;if(!o&&c[f.toLowerCase()])return;if(d.lazy&&d.loader){var h=tt.lazyRegister(e,d);d.forceBeforeInit&&(h.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(h),1)}).catch(function(g){Se.logError("_registerPlugins:loadingPlugin",g),e._loadingPlugins.splice(e._loadingPlugins.indexOf(h),1)}),e._loadingPlugins.push(h));return}return e.registerPlugin(d)}catch(g){Se.logError("_registerPlugins:",g)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(o){L1(e,o)})}},{key:"_getRootByPosition",value:function(e){var o=null;switch(e){case $e.ROOT_RIGHT:this.rightBar||(this.rightBar=m.createPositionBar("xg-right-bar",this.root)),o=this.rightBar;break;case $e.ROOT_LEFT:this.leftBar||(this.leftBar=m.createPositionBar("xg-left-bar",this.root)),o=this.leftBar;break;case $e.ROOT_TOP:this.topBar||(this.topBar=m.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&m.addClass(this.topBar,V.TOP_BAR_AUTOHIDE)),o=this.topBar;break;default:o=this.innerContainer||this.root;break}return o}},{key:"registerPlugin",value:function(e,o){var a=tt.formatPluginInfo(e,o),s=a.PLUFGIN,l=a.options,u=this.config.plugins,c=tt.checkPluginIfExits(s.pluginName,u);!c&&u.push(s);var d=tt.getRootByConfig(s.pluginName,this.config);d.root&&(l.root=d.root),d.position&&(l.position=d.position);var f=l.position?l.position:l.config&&l.config.position||s.defaultConfig&&s.defaultConfig.position;return!l.root&&typeof f=="string"&&f.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(s,l,s.pluginName):(l.root||(l.root=this._getRootByPosition(f)),tt.register(this,s,l))}},{key:"deregister",value:function(e){typeof e=="string"?tt.unRegister(this,e):e instanceof bn&&tt.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(e),o&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var o;if(typeof e=="string"?o=e:e instanceof bn&&(o=e.pluginName),!!o)for(var a=this.config.plugins.length-1;a>-1;a--){var s=this.config.plugins[a];if(s.pluginName.toLowerCase()===o.toLowerCase()){this.config.plugins.splice(a,1);break}}}},{key:"plugins",get:function(){return tt.getPlugins(this)}},{key:"getPlugin",value:function(e){var o=tt.findPlugin(this,e);return o&&o.pluginName?o:null}},{key:"addClass",value:function(e){!this.root||m.hasClass(this.root,e)||m.addClass(this.root,e)}},{key:"removeClass",value:function(e){!this.root||m.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(!!this.root)return m.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,o){!this.root||this.root.setAttribute(e,o)}},{key:"removeAttribute",value:function(e,o){!this.root||this.root.removeAttribute(e,o)}},{key:"start",value:function(e){var o=this;if(!(this.state>Ee.ATTACHING))return!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(Ee.ATTACHING),this._registerPlugins(!1),tt.beforeInit(this).then(function(){if(!!o.config){e||(e=o.url||o.config.url);var a=o._startInit(e);return a}}).catch(function(a){throw a.fileName="player",a.lineNumber="236",Se.logError("start:beforeInit:",a),a})}},{key:"switchURL",value:function(e,o){var a=this,s=e;m.typeOf(e)==="Object"&&(s=e.url);var l=this.currentTime,u=this.paused&&!this.isError;return this.src=s,new Promise(function(c,d){var f=function(v){a.off("timeupdate",h),a.off("canplay",h),d(v)},h=function(){a.currentTime=l,u&&a.pause(),a.off("error",f),c(!0)};if(a.once("error",f),!s){a.errorHandler("error",{code:6,message:"empty_src"});return}ve.os.isAndroid?a.once("timeupdate",h):a.once("canplay",h),a.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<Ee.ATTACHED){this.removeClass(V.NO_START),this.addClass(V.ENTER),this.start(),this._useAutoplay=!0;return}this.state<Ee.RUNNING&&(this.removeClass(V.NO_START),!this.isCanplay&&this.addClass(V.ENTER));var o=fe(ue(r.prototype),"play",this).call(this);return o!==void 0&&o&&o.then?o.then(function(){e.removeClass(V.NOT_ALLOW_AUTOPLAY),e.addClass(V.PLAYING),e.state<Ee.RUNNING&&(Se.logInfo(">>>>playPromise.then"),e.setState(Ee.RUNNING),e.emit(vn))}).catch(function(a){if(Se.logWarn(">>>>playPromise.catch",a.name),e.media&&e.media.error){e.onError(),e.removeClass(V.ENTER);return}a.name==="NotAllowedError"&&(e._errorTimer=m.setTimeout(e,function(){e._errorTimer=null,e.emit(ya),e.addClass(V.NOT_ALLOW_AUTOPLAY),e.removeClass(V.ENTER),e.pause(),e.setState(Ee.NOTALLOW)},0))}):(Se.logWarn("video.play not return promise"),this.state<Ee.RUNNING&&(this.setState(Ee.RUNNING),this.removeClass(V.NOT_ALLOW_AUTOPLAY),this.removeClass(V.NO_START),this.removeClass(V.ENTER),this.addClass(V.PLAYING),this.emit(vn))),o}},{key:"mediaPause",value:function(){fe(ue(r.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){fe(ue(r.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(V.PAUSED),jt(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;jt(this,"pause",function(){fe(ue(r.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,o){var a=this;if(!(!this.media||Number.isNaN(Number(e))||!this.hasStart)){var s=this.config,l=s.isSeekedPlay,u=s.seekedStatus,c=o||(l?"play":u);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(en,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(a.removeClass(V.ENTER),a.isSeeking=!1,c){case"play":a.play();break;case"pause":a.pause();break;default:a._isPauseBeforeSeek>1||a.paused?a.pause():a.play()}a._isPauseBeforeSeek=0,a._onceSeekCanplay=null},this.once(en,this._onceSeekCanplay),this.state<Ee.RUNNING?(this.removeClass(V.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,o=this.config,a=o.definition,s=o.url;!s&&a&&a.list&&a.list.length>0&&a.defaultDefinition&&a.list.map(function(l){l.definition===a.defaultDefinition&&(e.config.url=l.url,e.curDefinition=l)})}},{key:"changeDefinition",value:function(e,o){var a=this,s=this.config.definition;if(Array.isArray(s==null?void 0:s.list)&&s.list.forEach(function(u){(e==null?void 0:e.definition)===u.definition&&(a.curDefinition=u)}),e!=null&&e.bitrate&&typeof e.bitrate!="number"&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(wa,{from:o,to:e}),!this.hasStart){this.config.url=e.url;return}var l=this.switchURL(e.url,Ze({seamless:s.seamless!==!1&&typeof MediaSource!="undefined"&&typeof MediaSource.isTypeSupported=="function"},e));l&&l.then?l.then(function(){a.emit(Uo,{from:o,to:e})}):this.emit(Uo,{from:o,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(rn,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,o=V.NOT_ALLOW_AUTOPLAY,a=V.PLAYING,s=V.NO_START,l=V.PAUSED,u=V.REPLAY,c=V.ENTER,d=V.ENDED,f=V.ERROR,h=V.LOADING,g=[o,a,s,l,u,c,d,f,h];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,g.forEach(function(v){e.removeClass(v)}),this.addClass(V.ENTER),this.emit(Ri)}},{key:"reset",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;this.resetState();var s=this.plugins;if(!!s&&(o.map(function(u){e.deregister(u)}),a)){var l=Ks();Object.keys(this.config).keys(function(u){e.config[u]!=="undefined"&&(u==="plugins"||u==="presets"||u==="el"||u==="id")&&(e.config[u]=l[u])})}}},{key:"destroy",value:function(){var e=this,o=this.innerContainer,a=this.root,s=this.media;if(!(!a||!s)){if(this.hasStart=!1,this._useAutoplay=!1,a.removeAttribute(fn),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),m.clearAllTimers(this),this.emit(ba),tt.destroy(this),sc(this),fe(ue(r.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),o)for(var l=o.children,u=0;u<l.length;u++)o.removeChild(l[u]);!o&&s instanceof window.Node&&a.contains(s)&&a.removeChild(s),["topBar","leftBar","rightBar","innerContainer"].map(function(d){e[d]&&a.removeChild(e[d]),e[d]=null});var c=a.className.split(" ");c.length>0?a.className=c.filter(function(d){return d.indexOf("xgplayer")<0}).join(" "):a.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(d){e[d]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(V.ENDED),this.currentTime=0,this.isSeeking=!1,jt(this,"replay",function(){e.once(en,function(){var o=e.mediaPlay();o&&o.catch&&o.catch(function(a){console.log(a)})}),e.play(),e.emit(si),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(V.ERROR),this.addClass(V.LOADING),jt(this,"retry",function(){var o=e.currentTime;e.src=e.config.url,!e.config.isLive&&(e.currentTime=o),e.once(Wt,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,o,a,s){!e||(s||(s=V.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=m.filterStyleFromText(e)),m.addClass(e,a),o&&o!==e&&!this._orgPCss&&(this._orgPCss=m.filterStyleFromText(o),m.addClass(o,s),o.setAttribute(fn,this.playerId)))}},{key:"recoverFullStyle",value:function(e,o,a,s){s||(s=V.PARENT_FULLSCREEN),this._orgCss&&(m.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),m.removeClass(e,a),o&&o!==e&&this._orgPCss&&(m.setStyleFromCsstext(o,this._orgPCss),this._orgPCss="",m.removeClass(o,s),o.removeAttribute(fn))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,o=this.root,a=this.media;e||(e=o),this._fullScreenOffset={top:m.scrollTop(),left:m.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var s=m.getFullScreenEl();if(s===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var l=0;l<Hs.length;l++){var u=Hs[l];if(e[u]){var c=u==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[u]();return c&&c.then?c:Promise.resolve()}}return a.fullscreenEnabled||a.webkitSupportsFullscreen?(a.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!(!this._fullscreenEl&&!m.getFullScreenEl())){this.root;var o=this.media;this._fullActionFrom="exit";try{for(var a=0;a<Us.length;a++){var s=Us[a];if(document[s]){var l=document[s]();return l&&l.then?l:Promise.resolve()}}return o&&o.webkitSupportsFullscreen?(o.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var o=e?"".concat(V.INNER_FULLSCREEN," ").concat(V.CSS_FULLSCREEN):V.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,o);var a=this.config.fullscreen,s=a===void 0?{}:a,l=s.useCssFullscreen===!0||typeof s.useCssFullscreen=="function"&&s.useCssFullscreen();l&&(this.fullscreen=!0,this.emit(Ut,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(li,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(V.INNER_FULLSCREEN," ").concat(V.CSS_FULLSCREEN):V.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,e);else{var o=this.config.fullscreen,a=o===void 0?{}:o,s=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();s?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(Ut,!1)):this.removeClass(e)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(li,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var o=e?"".concat(V.INNER_FULLSCREEN," ").concat(V.ROTATE_FULLSCREEN):V.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,o,V.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(Ut,!0)}},{key:"exitRotateFullscreen",value:function(e){var o=this._fullscreenEl!==this.root?"".concat(V.INNER_FULLSCREEN," ").concat(V.ROTATE_FULLSCREEN):V.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,o,V.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Ut,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(va,Ze({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this.emit(Yu,Ze({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3};if(this.isActive=!0,this.removeClass(V.INACTIVE),this.userTimer&&(m.clearTimeout(this,this.userTimer),this.userTimer=null),o.autoHide===!1||o.isLock===!0){this.userTimer&&(m.clearTimeout(this,this.userTimer),this.userTimer=null);return}var a=o.delay||this.config.inactive;this.userTimer=m.setTimeout(this,function(){e.userTimer=null,e.blur()},a)}},{key:"onBlur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.ignorePaused,a=o===void 0?!1:o;if(!!this.isActive){var s=this.config.closePauseVideoFocus;this.isActive=!1,(a||s||!this.paused&&!this.ended)&&this.addClass(V.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(V.ENTER),this.removeClass(V.ERROR),this.removeClass(V.LOADING),this.isCanplay=!0,this.waitTimer&&m.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){this.isError=!1,this.isSeeking=!1}},{key:"onLoadstart",value:function(){this.removeClass(V.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===Ee.ENDED&&this.setState(Ee.RUNNING),this.removeClass(V.PAUSED),this.ended&&this.removeClass(V.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(V.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(m.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(V.ENDED),this.setState(Ee.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(V.NOT_ALLOW_AUTOPLAY),this.removeClass(V.NO_START),this.removeClass(V.ENTER),this.removeClass(V.LOADING),this.addClass(V.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(V.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&m.clearTimeout(this,this.waitTimer),this.removeClass(V.LOADING),this.removeClass(V.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&m.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=m.setTimeout(this,function(){e.addClass(V.LOADING),m.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var o=V.NO_START,a=V.PAUSED,s=V.ENDED,l=V.ERROR,u=V.REPLAY,c=V.LOADING,d=[o,a,s,l,u,c];d.forEach(function(f){e.removeClass(f)})}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(V.LOADING))&&this.media.readyState>2&&(this.removeClass(V.LOADING),m.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state<Ee.RUNNING&&this.duration&&(this.setState(Ee.RUNNING),this.emit(vn)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){m.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,o,a){if(!(!this.media||!o||!e)){var s=m.typeOf(e)==="String"?e:e.type||"";a.props&&m.typeOf(a.props)!=="Array"&&(a.props=[a.props]),this.emit(di,Ze({eventType:s,action:o,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},a))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var o=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=o,this._accPlayed.t=0,(e==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var o=this.media.buffered;if(!o||o.length===0||!this.duration)return!0;for(var a=e||this.media.currentTime||.2,s=o.length,l=0;l<s;l++)if(o.start(l)<=a&&o.end(l)>a)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,o=e.rotate,a=e.vy,s=e.vx,l=e.h,u=e.w;if(!(!o&&!a&&!s)){var c=this.videoPos._pi;if(!c&&this.media.videoHeight&&(c=this.media.videoWidth/this.media.videoHeight*100),!!c){this.videoPos.pi=c;var d={rotate:o},f=0,h=0,g=1,v=Math.abs(o/90),b=this.root,y=this.innerContainer,w=b.offsetWidth,C=y?y.offsetHeight:b.offsetHeight,S=C,x=w;if(v%2===0)g=l>0?100/l:u>0?100/u:1,d.scale=g,f=a>0?(100-l)/2-a:0,d.y=v===2?0-f:f,h=s>0?(100-u)/2-s:0,d.x=v===2?0-h:h,this.media.style.width="".concat(x,"px"),this.media.style.height="".concat(S,"px");else if(v%2===1){x=C,S=w;var T=C-w;h=-T/2/x*100,d.x=v===3?h+a/2:h-a/2,f=T/2/S*100,d.y=v===3?f+s/2:f-s/2,d.scale=g,this.media.style.width="".concat(x,"px"),this.media.style.height="".concat(S,"px")}var _=m.getTransformStyle(d);this.media.style.transform=_,this.media.style.webkitTransform=_}}}},{key:"position",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!e||!e.h)){var o=this.videoPos;o.h=e.h*100||0,o.w=e.w*100||0,o.vx=e.x*100||0,o.vy=e.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var o=this;!e||Object.keys(e).map(function(a){if(a!=="plugins"){o.config[a]=e[a];var s=o.plugins[a.toLowerCase()];s&&m.typeOf(s.setConfig)==="Function"&&s.setConfig(e[a])}})}},{key:"playNext",value:function(e){var o=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,jt(this,"playnext",function(){o.start(),o.emit(ci,e)})}},{key:"resize",value:function(){var e=this;if(!!this.media){var o=this.root.getBoundingClientRect();this.sizeInfo.width=o.width,this.sizeInfo.height=o.height,this.sizeInfo.left=o.left,this.sizeInfo.top=o.top;var a=this.media,s=a.videoWidth,l=a.videoHeight,u=this.config,c=u.fitVideoSize,d=u.videoFillMode;if((d==="fill"||d==="cover"||d==="contain")&&this.setAttribute("data-xgfill",d),!(!l||!s)){this._videoHeight=l,this._videoWidth=s;var f=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,h=o.width,g=o.height-f,v=parseInt(s/l*1e3,10),b=parseInt(h/g*1e3,10),y=h,w=g,C={};c==="auto"&&b>v||c==="fixWidth"?(w=h/v*1e3,this.config.fluid?C.paddingTop="".concat(w*100/y,"%"):C.height="".concat(w+f,"px")):(c==="auto"&&b<v||c==="fixHeight")&&(y=v*g/1e3,C.width="".concat(y,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(C).forEach(function(x){e.root.style[x]=C[x]}),(d==="fillHeight"&&b<v||d==="fillWidth"&&b>v)&&this.setAttribute("data-xgfill","cover");var S={videoScale:v,vWidth:y,vHeight:w,cWidth:y,cHeight:w+f};this.resizePosition(),this.emit(on,S)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,o);return}this.media.style.objectPosition="".concat(e*100,"% ").concat(o*100,"%")}},{key:"setState",value:function(e){Se.logInfo("setState","state from:".concat(qs[this.state]," to:").concat(qs[e])),this._state=e}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&&(this._hasStart=e,e===!1&&this.setState(Ee.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===Ee.RUNNING||this._state===Ee.ENDED},set:function(e){e?this.setState(Ee.RUNNING):this._state>=Ee.RUNNING&&this.setState(Ee.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(e){var o=this,a=this.config.definition,s=null,l=null;a.list=e,this.emit("resourceReady",e),e.forEach(function(u){var c;((c=o.curDefinition)===null||c===void 0?void 0:c.definition)===u.definition&&(s=u),a.defaultDefinition===u.definition&&(l=u)}),!l&&e.length>0&&(l=e[0]),s?this.changeDefinition(s):l&&this.changeDefinition(l)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var o=this.media.getVideoPlaybackQuality();return e.dropped=o.droppedVideoFrames||0,e.total=o.totalVideoFrames||0,e.corrupted=o.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var o=$n.langKeys.filter(function(a){return a===e});if(o.length===0&&e!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat($n.langKeys.join(),"] "));return}this.config.lang=e,tt.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return zo}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return fe(ue(r.prototype),"readyState",this)}},{key:"error",get:function(){var e=fe(ue(r.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return fe(ue(r.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed;return this.updateAcc("get"),e.acc}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=m.convertDeg(e),!(e%90!==0||e===this.videoPos.rotate)&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return Xs},set:function(e){Xs=e}},{key:"realTimeSpeed",get:function(){return Ys},set:function(e){Ys=e}},{key:"hook",value:function(e,o){return fi.call.apply(fi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,o){return hi.call.apply(hi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,o){return gi.call.apply(gi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,o,a){for(var s=arguments.length,l=new Array(s>3?s-3:0),u=3;u<s;u++)l[u-3]=arguments[u];return js.call.apply(js,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,o,a){for(var s=arguments.length,l=new Array(s>3?s-3:0),u=3;u<s;u++)l[u-3]=arguments[u];return Ws.call.apply(Ws,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,o){typeof o=="boolean"&&o!==this.muted&&(this.addInnerOP("volumechange"),this.muted=o),tt.setCurrentUserActive(this.playerId,e)}}],[{key:"debugger",get:function(){return Se.config.debug},set:function(e){Se.config.debug=e}},{key:"getCurrentUserActivePlayerId",value:function(){return tt.getCurrentUseActiveId()}},{key:"setCurrentUserActive",value:function(e,o){tt.setCurrentUserActive(e,o)}},{key:"isHevcSupported",value:function(){return ve.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return ve.probeConfigSupported(e)}},{key:"install",value:function(e,o){r.plugins||(r.plugins={}),r.plugins[e]||(r.plugins[e]=o)}},{key:"use",value:function(e,o){r.plugins||(r.plugins={}),r.plugins[e]=o}}]),r}(m1);H(xa,"defaultPreset",null);H(xa,"XgVideoProxy",null);function ct(){return new Date().getTime()}var Xt={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},$1=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"_onTimeupdate",function(){n._state.isTimeUpdate=!0,n._state.autoplayStart&&(Se.logInfo("[xgLogger]".concat(n.player.playerId," _onTimeupdate")),n._sendFF("onTimeupdate"))}),H(I(n),"_onAutoplayStart",function(){Se.logInfo("[xgLogger]".concat(n.player.playerId," _onAutoplayStart")),n._state.autoplayStart=!0,n.vt&&n._sendFF("onAutoplayStart")}),H(I(n),"_onReset",function(){n._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},n.vt=0,n.pt=0,n.fvt=0,n.newPointTime=ct(),n.loadedCostTime=0,n.startCostTime=0,n._isSeeking=!1,n.seekingStart=0,n.waitingStart=0,n.fixedWaitingStart=0,n._isWaiting=!1,n._waitTimer&&m.clearTimeout(I(n),n._waitTimer),n._waittTimer&&m.clearTimeout(I(n),n._waittTimer),n._waitTimer=null,n._waittTimer=null,n._waitType=0}),H(I(n),"_onSeeking",function(){n.seekingStart||(n.suspendWaitingStatus("seek"),n.seekingStart=ct(),n.emitLog(Xt.SEEK_START,{start:ct()}))}),H(I(n),"_onSeeked",function(){n.suspendSeekingStatus("seeked")}),H(I(n),"_onWaitingLoadStart",function(){n._isWaiting||n.vt||(n._isWaiting=!0,n.waitingStart=ct(),n.fixedWaitingStart=ct(),n._waitType=1,n.emitLog(Xt.WAIT_START,{fixedStart:n.fixedWaitingStart,start:n.waitingStart,type:1,endType:"loadstart"}))}),H(I(n),"_onWaiting",function(){n._isWaiting||!n.vt||(n._isWaiting=!0,n.vt?n.seekingStart?n._waitType=2:n._waitType=0:n._waitType=1,n.fixedWaitingStart=ct(),n._waitTimer=m.setTimeout(I(n),function(){n._isWaiting&&(n.waitingStart=ct(),m.clearTimeout(I(n),n._waitTimer),n._waitTimer=null,n._startWaitTimeout(),n.emitLog(Xt.WAIT_START,{fixedStart:n.fixedWaitingStart,start:n.waitingStart,type:n._waitType,endType:n._waitType===2?"seek":"playing"}))},200))}),H(I(n),"_onError",function(){n.suspendSeekingStatus("error"),n.suspendWaitingStatus("error")}),H(I(n),"_onPlaying",function(){n._isWaiting&&n.suspendWaitingStatus("playing")}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=ct(),this.loadedCostTime=0,this.startCostTime=0,this.on(pa,function(){var o=e._state,a=o.autoplayStart,s=o.isFFSend;e.startCostTime=ct()-e.newPointTime,Se.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(a," isFFSend:").concat(s," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!s&&(!o.isLs&&e.emitLog(Xt.LOAD_START,{}),o.isLs=!0,o.isTimeUpdate=!1,o.isFFLoading=!0,e.pt=ct(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(rn,function(){e.vt=ct(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var o=e._state,a=o.isTimeUpdate,s=o.isFFSend,l=o.autoplayStart;Se.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(a||l)&&e._sendFF("loadedData"),s||e.emitLog(Xt.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(ga,this._onSeeking),this.on(en,this._onSeeked),this.on(ba,function(){e.endState("destroy")}),this.on(Pi,function(){e.endState("urlChange"),Se.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([ha,Wt],this._onPlaying),this.on(Pr,this._onWaiting),this.on(Er,this._onError),this.on(Ri,function(){Se.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(vn,this._onAutoplayStart),this.off(Tt,this._onTimeupdate),this.once(vn,this._onAutoplayStart),this.once(Tt,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=ct();var o=this._state,a=o.isFFLoading,s=o.isFFSend;Se.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(a," !isFFSend:").concat(!s)),this.vt>0&&a&&!s&&(Se.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(Xt.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&m.clearTimeout(this,this._waittTimer),this._waittTimer=m.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),m.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(!!this.seekingStart){var o=ct(),a=o-this.seekingStart;this.seekingStart=0,this.emitLog(Xt.SEEK_END,{end:o,costTime:a,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(m.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(m.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var o=ct(),a=o-this.waitingStart,s=o-this.fixedWaitingStart,l=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(Xt.WAIT_END,{fixedCostTime:s>l?l:s,costTime:a>l?l:a,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,o){var a=this.player;this.emit(ec,Ze({t:ct(),host:m.getHostFromUrl(a.currentSrc),vtype:a.vtype,eventType:e,currentTime:this.player.currentTime,readyState:a.video.readyState,networkState:a.video.networkState},o))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),r}(Le);function z1(){return new DOMParser().parseFromString(`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">
  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`,"image/svg+xml").firstChild}var H1=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"registerIcons",value:function(){return{replay:z1}}},{key:"afterCreate",value:function(){var e=this;Le.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(wn,function(){if(e.playerConfig.loop||m.addClass(e.player.root,"replay"),!e.config.disable){e.show();var o=e.root.querySelector("path");if(o){var a=window.getComputedStyle(o).getPropertyValue("transform");if(typeof a=="string"&&a.indexOf("none")>-1)return null;o.setAttribute("transform",a)}}}),this.on(Ct,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),m.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),r}(Le),U1=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){m.addClass(this.root,"hide")}},{key:"show",value:function(){m.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(wn,function(){e.isEndedShow&&m.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(Tt,function(){e.onTimeUpdate()}),this.on(Pi,function(){m.removeClass(e.root,"hide"),m.addClass(e.root,"xg-showplay"),e.once(Tt,function(){e.onTimeUpdate()})})):this.on(Ct,function(){m.addClass(e.root,"hide")})}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?m.removeClass(this.root,"xg-showplay"):this.once(Tt,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){!e||(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"render",value:function(){var e=this.config,o=e.poster,a=e.hideCanplay,s=o?"background-image:url(".concat(o,");"):"";return'<xg-poster class="xgplayer-poster '.concat(a?"xg-showplay":"",'" style="').concat(s,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,poster:""}}}]),r}(Le);function _a(){return new DOMParser().parseFromString(`<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`,"image/svg+xml").firstChild}function Sa(){return new DOMParser().parseFromString(`<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`,"image/svg+xml").firstChild}var It={};function j1(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return It[t]&&window.clearTimeout(It[t].id),It[t]={},r.start&&r.start(),It[t].id=window.setTimeout(function(){r.end&&r.end(),window.clearTimeout(It[t].id),delete It[t]},i),It[t].id}function Zs(t){if(t){window.clearTimeout(t);return}Object.keys(It).map(function(i){window.clearTimeout(It[i].id),delete It[i]})}var W1=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"onPlayerReset",function(){e.autoPlayStart=!1;var o=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),m.removeClass(e.root,o),e.show()}),H(I(e),"onAutoplayStart",function(){if(!e.autoPlayStart){var o=e.config.mode==="auto"?"auto-hide":"hide";m.addClass(e.root,o),e.autoPlayStart=!0,e.onPlayPause("play")}}),e.autoPlayStart=!1,e}return oe(r,[{key:"afterCreate",value:function(){var e=this,o=this.player,a=this.playerConfig;this.initIcons(),this.once(ma,function(){a&&(a.lang&&a.lang==="en"?m.addClass(o.root,"lang-is-en"):a.lang==="jp"&&m.addClass(o.root,"lang-is-jp"))}),this.on(vn,this.onAutoplayStart),a.autoplay||this.show(),this.on(ya,function(){var s=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),m.removeClass(e.root,s),e.show()}),this.on(Ct,function(){e.onPlayPause("play")}),this.on(Kn,function(){e.onPlayPause("pause")}),this.on(Ri,function(){e.onPlayerReset()}),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(l){l.cancelable&&l.preventDefault(),l.stopPropagation();var u=e.player.paused;e.emitUserAction(l,"switch_play_pause",{props:"paused",from:u,to:!u})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:_a,class:"xg-icon-play"},startPause:{icon:Sa,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){m.addClass(this.root,"hide")}},{key:"show",value:function(){m.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){m.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){m.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var o=this;this._animateId=j1("pauseplay",400,{start:function(){m.addClass(o.root,"interact"),o.show(),o.switchStatus(!0)},end:function(){m.removeClass(o.root,"interact"),!e&&o.hide(),o._animateId=null}})}},{key:"endAnimate",value:function(){m.removeClass(this.root,"interact"),Zs(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var o=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(o.state<Ee.READY)){var a=this.player.paused;!a&&o.state===Ee.RUNNING?o.pause():o.play()}}},{key:"onPlayPause",value:function(e){var o=this.config,a=this.player;if(!(!a||a.state<Ee.RUNNING||!this.autoPlayStart)){if(o.mode==="show"){this.switchStatus(),this.show();return}if(o.mode==="auto"){this.switchStatus();return}if(o.isShowPause&&a.paused&&!a.ended||o.isShowEnd&&a.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(o.disableAnimate){this.switchStatus(),this.hide();return}if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||a.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),Zs(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(e,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),r}(Le),V1=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"render",value:function(){var e=this.config.innerHtml,o=m.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)o.appendChild(e);else if(e&&typeof e=="string")o.innerHTML=e;else{for(var a="",s=1;s<=12;s++)a+='<div class="xgplayer-enter-bar'.concat(s,'"></div>');o.innerHTML='<div class="xgplayer-enter-spinner">'.concat(a,"</div>")}return o}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),r}(Le);function an(t,i,r){try{return' <div class="xg-tips '.concat(r?"hide":" ",'" lang-key="').concat(t.i18nKeys[i],`">
    `).concat(t.i18n[i],`
    </div>`)}catch{return'<div class="xg-tips hide"></div>'}}var Js=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[e],'">').concat(this.i18n[e],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:10}}}]),r}(Le);function Qs(t){var i=parseFloat(t),r=t.indexOf("%")===-1&&!Number.isNaN(i);return r&&i}var ka=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],uc=ka.length;function G1(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0;i<uc;i++){var r=ka[i];t[r]=0}return t}function K1(t){var i=window.getComputedStyle(t);return i}function el(t){if(typeof t=="string"&&(t=document.querySelector(t)),!(!t||dt(t)!=="object"||!t.nodeType)){var i=K1(t);if(i.display==="none")return G1();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var n=r.isBorderBox=i.boxSizing==="border-box",e=0;e<uc;e++){var o=ka[e],a=i[o],s=parseFloat(a);r[o]=Number.isNaN(s)?0:s}var l=r.paddingLeft+r.paddingRight,u=r.paddingTop+r.paddingBottom,c=r.marginLeft+r.marginRight,d=r.marginTop+r.marginBottom,f=r.borderLeftWidth+r.borderRightWidth,h=r.borderTopWidth+r.borderBottomWidth,g=n,v=Qs(i.width);v!==!1&&(r.width=v+(g?0:l+f));var b=Qs(i.height);return b!==!1&&(r.height=b+(g?0:u+h)),r.innerWidth=r.width-(l+f),r.innerHeight=r.height-(u+h),r.outerWidth=r.width+c,r.outerHeight=r.height+d,r}}function ho(t,i){for(var r=0;r<t.length;r++){var n=t[r];if(n.identifier===i)return n}}var go={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},tl={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},q1=function(t){he(r,t);var i=ge(r);function r(n){var e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ie(this,r),e=i.call(this),e.isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=n instanceof Element?n:document.querySelector(n),e._handlerDom=o.handle instanceof Element?o.handle:document.querySelector(o.handle),!e._root||!e._handlerDom?fa(e):(e._bindStartEvent(),e)}return oe(r,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),tl[this._startKey].map(function(o){e["on".concat(o)]=e["on".concat(o)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var o=this;if(!!e){var a=tl[this._startKey];a.map(function(s){window.addEventListener(s,o["on".concat(s)])}),this._boundPointerEvents=a}}},{key:"_unbindPostStartEvents",value:function(){var e=this;!this._boundPointerEvents||(this._boundPointerEvents.map(function(o){window.removeEventListener(o,e["on".concat(o)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;!this.isDragging||(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var o=e.changedTouches[0];this.dragStart(e,o),this.touchIdentifier=o.pointerId!==void 0?o.pointerId:o.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var o=ho(e.changedTouches,this.touchIdentifier);o&&this.dragMove(e,o)}},{key:"ontouchend",value:function(e){var o=ho(e.changedTouches,this.touchIdentifier);o&&this.dragEnd(e,o),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var o=ho(e.changedTouches,this.touchIdentifier);o&&this.dragCancel(e,o)}},{key:"dragStart",value:function(e,o){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=o,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var a=el(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-a.height,this.startPos.maxX=window.innerWidth-a.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,o){this.isDragging=!0,this.animate(),this.emit(go.START,this.startPos)}},{key:"dragEnd",value:function(e,o){!this._root||(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(go.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,o){var a={x:o.pageX-this.downPoint.pageX,y:o.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(a)&&this.dragRealStart(e,o),a}},{key:"dragMove",value:function(e,o){if(e=e||window.event,!!this.isDown){var a=this.startPos,s=a.x,l=a.y,u=this._dragPointerMove(e,o),c=u.x,d=u.y;c=this.checkContain("x",c,s),d=this.checkContain("y",d,l),this.position.x=s+c,this.position.y=l+d,this.dragPoint.x=c,this.dragPoint.y=d,this.emit(go.MOVE,this.position)}}},{key:"dragCancel",value:function(e,o){this.dragEnd(e,o)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,o,a){return o+a<0?0-a:e==="x"&&o+a>this.startPos.maxX?this.startPos.maxX-a:e==="y"&&o+a>this.startPos.maxY?this.startPos.maxY-a:o}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),o=this._getPositionCoord(e.left,"width"),a=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(o)?0:o,this.position.y=Number.isNaN(a)?0:a,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var o=e.transform;if(o.indexOf("matrix")===0){var a=o.split(","),s=o.indexOf("matrix3d")===0?12:4,l=parseInt(a[s],10),u=parseInt(a[s+1],10);this.position.x+=l,this.position.y+=u}}},{key:"_getPositionCoord",value:function(e,o){if(e.indexOf("%")!==-1){var a=el(this._root.parentNode);return a?parseFloat(e)/100*a[o]:0}return parseInt(e,10)}}]),r}(Wu),Y1=function(t){he(r,t);var i=ge(r);function r(n){var e;ie(this,r),e=i.call(this,n),H(I(e),"onCancelClick",function(s){e.exitMini(),e.isClose=!0}),H(I(e),"onCenterClick",function(s){var l=I(e),u=l.player;u.paused?u.play():u.pause()}),H(I(e),"onScroll",function(s){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-e.pos.scrollY)<50)){var l=parseInt(m.getCss(e.player.root,"height"));l+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY>l+5?!e.isMini&&!e.isClose&&e.getMini():window.scrollY<=l&&(e.isMini&&e.exitMini(),e.isClose=!1)}}),e.isMini=!1,e.isClose=!1;var o=I(e),a=o.config;return e.pos={left:a.left<0?window.innerWidth-a.width-20:a.left,top:a.top<0?window.innerHeight-a.height-20:a.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return oe(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(Kn,function(){e.setAttr("data-state","pause")}),this.on(Ct,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,o=this.player,a=this.config;if(!a.disable){if(this.config.isShowIcon){var s={config:{onClick:function(){e.getMini()}}};o.controls.registerPlugin(Js,s,Js.pluginName)}var l=m.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",l,this.onCancelClick),this.bind(".play-icon",l,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new q1(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:_a,class:"xg-icon-play"},pause:{icon:Sa,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;this.lastStyle={},m.addClass(o.root,"xgplayer-mini"),["width","height","top","left"].map(function(l){e.lastStyle[l]=s.style[l],s.style[l]="".concat(e.pos[l],"px")}),a.fluid&&(s.style["padding-top"]=""),this.emit(ui,!0),o.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var o=this.player,a=this.playerConfig,s=this.config.target||this.player.root;m.removeClass(o.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(l){s.style[l]=e.lastStyle[l]}),this.lastStyle=null,a.fluid&&(o.root.style.width="100%",o.root.style.height="0",o.root.style["padding-top"]="".concat(a.height*100/a.width,"%")),this.emit(ui,!1),this.isMini=o.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=m.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      `.concat(an(this,"MINI_DRAG",this.playerConfig.isHideTips),`
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),r}(Le),zr={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},po=["videoClick","videoDbClick"],vo=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onMouseMove",function(s){var l=I(n),u=l.player,c=l.playerConfig;u.isActive||(u.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&u.media.focus())}),H(I(n),"onMouseEnter",function(s){var l=I(n),u=l.playerConfig,c=l.player;!u.closeFocusVideoFocus&&c.media.focus(),u.closeDelayBlur?c.focus({autoHide:!1}):c.focus()}),H(I(n),"onMouseLeave",function(s){var l=n.playerConfig,u=l.closePlayerBlur,c=l.leavePlayerTime,d=l.closeDelayBlur;!u&&!d&&(c?n.player.focus({autoHide:!0,delay:c}):n.player.blur())}),H(I(n),"onVideoClick",function(s){var l=I(n),u=l.player,c=l.playerConfig;s.target&&c.closeVideoClick||(s.target===u.root||s.target===u.media||s.target===u.innerContainer||s.target===u.media.__canvas)&&(s.preventDefault(),c.closeVideoStopPropagation||s.stopPropagation(),n._clickCount++,n.clickTimer&&(clearTimeout(n.clickTimer),n.clickTimer=null),n.clickTimer=setTimeout(function(){!n._clickCount||(n._clickCount--,jt(I(n),po[0],function(d,f){n.switchPlayPause(f.e)},{e:s,paused:u.paused}),clearTimeout(n.clickTimer),n.clickTimer=null)},300))}),H(I(n),"onVideoDblClick",function(s){var l=I(n),u=l.player,c=l.playerConfig;if(!(c.closeVideoDblclick||!s.target||s.target!==u.media&&s.target!==u.media.__canvas)){if(!c.closeVideoClick&&n._clickCount<2){n._clickCount=0;return}n._clickCount=0,n.clickTimer&&(clearTimeout(n.clickTimer),n.clickTimer=null),s.preventDefault(),s.stopPropagation(),jt(I(n),po[1],function(d,f){n.emitUserAction(f.e,"switch_fullscreen",{props:"fullscreen",from:u.fullscreen,to:!u.fullscreen}),u.fullscreen?u.exitFullscreen():u.getFullscreen()},{e:s,fullscreen:u.fullscreen})}}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,po.map(function(a){e.__hooks[a]=null});var o=this.playerConfig.isMobileSimulateMode;o==="mobile"||ve.device==="mobile"&&!ve.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,o=this.player,a=o.video,s=o.root,l=this.playerConfig.enableContextmenu;s&&s.addEventListener("click",this.onVideoClick,!1),s&&s.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(zr).map(function(u){s.addEventListener(u,e[zr[u]],!1)}),l&&a&&a.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var o=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:o.paused,to:!o.paused}),o.ended?o.duration!==1/0&&o.duration>0&&o.replay():o.paused?o.play():o.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,o=this.player,a=o.video,s=o.root;this.clickTimer&&clearTimeout(this.clickTimer),s.removeEventListener("click",this.onVideoClick,!1),s.removeEventListener("dblclick",this.onVideoDblClick,!1),a.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(zr).map(function(l){s.removeEventListener(l,e[zr[l]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),r}(bn),Zt={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},X1={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Z1={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function nl(t){return t&&t.length>0?t[t.length-1]:null}function J1(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Q1=function(){function t(i){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};ie(this,t),this._pos={moving:!1,start:!1,x:0,y:0},this.config=J1(),Object.keys(n).map(function(e){r.config[e]=n[e]}),this.root=i,this.events=n.eventType==="mouse"?Z1:X1,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return oe(t,[{key:"_initEvent",value:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchCancel=this.onTouchCancel.bind(this),this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(r){var n=this,e=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){n.trigger(Zt.PRESS,r),n._pos.press=!0,n.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(r){var n=this,e=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(Zt.DOUBlE_CLICK,r);return}this.dbIntrvalId=setTimeout(function(){n.__clearDb(),!n._pos.start&&!n._pos.press&&!n._pos.moving&&n.trigger(Zt.CLICK,r)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(r,n){this.__handlers[r]||(this.__handlers[r]=[]),this.__handlers[r].push(n)}},{key:"off",value:function(r,n){if(!!this.__handlers[r]){for(var e=this.__handlers[r],o=-1,a=0;a<e.length;a++)if(e[a]===n){o=a;break}o>=0&&this.__handlers[r].splice(o,1)}}},{key:"trigger",value:function(r,n){!this.__handlers[r]||this.__handlers[r].map(function(e){try{e(n)}catch(o){console.error("trigger>>:".concat(r),o)}})}},{key:"onTouchStart",value:function(r){var n=this._pos,e=this.root,o=nl(r.touches);n.x=o?parseInt(o.pageX,10):r.pageX,n.y=o?parseInt(o.pageX,10):r.pageX,n.start=!0,this.__setPress(r),e.addEventListener(this.events.end,this.onTouchEnd),e.addEventListener(this.events.cancel,this.onTouchCancel),e.addEventListener(this.events.move,this.onTouchMove),this.trigger(Zt.TOUCH_START,r)}},{key:"onTouchCancel",value:function(r){this.onTouchEnd(r)}},{key:"onTouchEnd",value:function(r){var n=this._pos,e=this.root;this.__clearPress(),e.removeEventListener(this.events.cancel,this.onTouchCancel),e.removeEventListener(this.events.end,this.onTouchEnd),e.removeEventListener(this.events.move,this.onTouchMove),r.moving=n.moving,r.press=n.press,n.press&&this.trigger(Zt.PRESS_END,r),this.trigger(Zt.TOUCH_END,r),!n.press&&!n.moving&&this.__setDb(r),n.press=!1,n.start=!1,n.moving=!1}},{key:"onTouchMove",value:function(r){var n=this._pos,e=this.config,o=nl(r.touches),a=o?parseInt(o.pageX,10):r.pageX,s=o?parseInt(o.pageY,10):r.pageX,l=a-n.x,u=s-n.y;Math.abs(u)<e.miniStep&&Math.abs(l)<e.miniStep||(this.__clearPress(),n.press&&this.trigger(Zt.PRESS_END,r),n.press=!1,n.moving=!0,this.trigger(Zt.TOUCH_MOVE,r))}},{key:"destroy",value:function(){var r=this,n={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(n).map(function(e){r.root.removeEventListener("touchend",r[n[e]])})}}]),t}();function eb(){return new DOMParser().parseFromString(`<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path opacity="0.54"
    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"
    fill="white" />
  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>
</svg>`,"image/svg+xml").firstChild}var On={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate",LIGHT:""},mo=["videoClick","videoDbClick"],tb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"onTouchStart",function(o){var a=I(e),s=a.player,l=a.config,u=a.pos,c=a.playerConfig,d=e.getTouche(o);if(d&&!l.disableGesture&&e.duration>0&&!s.ended){u.isStart=!0,m.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),e.find(".xg-dur").innerHTML=m.format(e.duration);var f=e.root.getBoundingClientRect();s.rotateDeg===90?(u.top=f.left,u.left=f.top,u.width=f.height,u.height=f.width):(u.top=f.top,u.left=f.left,u.width=f.width,u.height=f.height);var h=parseInt(d.pageX-u.left,10),g=parseInt(d.pageY-u.top,10);u.x=s.rotateDeg===90?g:h,u.y=s.rotateDeg===90?h:g,u.scopeL=l.scopeL*u.width,u.scopeR=(1-l.scopeR)*u.width,u.scopeM1=u.width*(1-l.scopeM)/2,u.scopeM2=u.width-u.scopeM1}}),H(I(e),"onTouchMove",function(o){var a=e.getTouche(o),s=I(e),l=s.pos,u=s.config,c=s.player;if(!(!a||u.disableGesture||!e.duration||!l.isStart)){var d=u.miniMoveStep,f=u.hideControlsActive,h=parseInt(a.pageX-l.left,10),g=parseInt(a.pageY-l.top,10),v=c.rotateDeg===90?g:h,b=c.rotateDeg===90?h:g;if(Math.abs(v-l.x)>d||Math.abs(b-l.y)>d){var y=v-l.x,w=b-l.y,C=l.scope;if(C===-1&&(C=e.checkScope(v,b,y,w,l),C===0&&(f?c.blur():c.focus({autoHide:!1}),!l.time&&(l.time=parseInt(c.currentTime*1e3,10)+e.timeOffset*1e3)),l.scope=C),C===-1||C>0&&!u.gestureY||C===0&&!u.gestureX)return;o.cancelable&&o.preventDefault(),e.executeMove(y,w,C,l.width,l.height),l.x=v,l.y=b}}}),H(I(e),"onTouchEnd",function(o){var a=I(e),s=a.player,l=a.pos,u=a.playerConfig;if(!!l.isStart){l.scope>-1&&o.cancelable&&o.preventDefault();var c=e.config,d=c.disableGesture,f=c.gestureX;!d&&f?(e.endLastMove(l.scope),setTimeout(function(){s.getPlugin("progress")&&s.getPlugin("progress").resetSeekState()},10)):l.time=0,l.scope=-1,e.resetPos(),m.checkIsFunction(u.enableSwipeHandler)&&u.enableSwipeHandler(),e.changeAction(On.AUTO)}}),H(I(e),"onRootTouchMove",function(o){e.config.disableGesture||!e.config.gestureX||e.checkIsRootTarget(o)&&(o.stopPropagation(),e.pos.isStart?e.onTouchMove(o):e.onTouchStart(o))}),H(I(e),"onRootTouchEnd",function(o){e.pos.isStart&&e.checkIsRootTarget(o)&&(o.stopPropagation(),e.onTouchEnd(o))}),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return oe(r,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:eb,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;mo.map(function(d){e.__hooks[d]=null});var o=this.playerConfig,a=this.config,s=this.player;o.closeVideoDblclick===!0&&(a.closedbClick=!0),this.resetPos(),m.isUndefined(o.disableGesture)||(a.disableGesture=!!o.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=m.createDom("xg-mask","",{},"xgmask"),s.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var l=this.domEventType==="mouse"?"mouse":"touch";this.touch=new Q1(this.root,{eventType:l,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(d){d.preventDefault()}),s.root.addEventListener("touchmove",this.onRootTouchMove,!0),s.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(Cn,function(){var d=e.player,f=e.config;d.duration*1e3<f.moveDuration&&(f.moveDuration=d.duration*1e3)}),this.on([Wt,wn],function(){var d=e.pos,f=d.time,h=d.isStart;!h&&f>0&&(e.pos.time=0)});var u={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(u).map(function(d){e.touch.on(d,function(f){e[u[d]](f)})}),!a.disableActive){var c=s.plugins.progress;c&&(c.addCallBack("dragmove",function(d){e.activeSeekNote(d.currentTime,d.forward)}),c.addCallBack("dragend",function(){e.changeAction(On.AUTO)}))}}},{key:"registerThumbnail",value:function(){var e=this.player,o=e.plugins.thumbnail;if(o&&o.usable){this.thumbnail=o.createThumbnail(null,"mobile-thumbnail");var a=this.find(".time-preview");a.insertBefore(this.thumbnail,a.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},o=e.commonStyle,a=o.playedColor,s=o.progressColor;a&&(this.find(".xg-curbar").style.backgroundColor=a,this.find(".xg-cur").style.color=a),s&&(this.find(".xg-bar").style.backgroundColor=s,this.find(".time-preview").style.color=s),this.config.disableTimeProgress&&m.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(o){e.pos[o]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var o=this.player,a=this.root;a.setAttribute("data-xg-action",e);var s=o.plugins.start;s&&s.recover()}},{key:"getTouche",value:function(e){var o=this.player.rotateDeg,a=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return o===0?{pageX:a.pageX,pageY:a.pageY}:{pageX:a.pageX,pageY:a.pageY}}},{key:"checkScope",value:function(e,o,a,s,l){var u=l.width,c=-1;if(e<0||e>u)return c;var d=Math.abs(s===0?a:a/s);return Math.abs(a)>0&&d>=1.73&&e>l.scopeM1&&e<l.scopeM2?c=0:(Math.abs(a)===0||d<=.57)&&(c=e<l.scopeL?1:e>l.scopeR?2:3),c}},{key:"executeMove",value:function(e,o,a,s,l){switch(a){case 0:this.updateTime(e/s*this.config.scopeM);break;case 1:this.updateBrightness(o/l);break;case 2:ve.os.isIos||this.updateVolume(o/l);break}}},{key:"endLastMove",value:function(e){var o=this,a=this.pos,s=this.player,l=this.config,u=(a.time-this.timeOffset)/1e3;switch(e){case 0:s.seek(Number(u).toFixed(1)),l.hideControlsEnd?s.blur():s.focus(),this.timer=setTimeout(function(){o.pos.time=0},500);break}this.changeAction(On.AUTO)}},{key:"checkIsRootTarget",value:function(e){var o=this.player.plugins||{};return o.progress&&o.progress.root.contains(e.target)?!1:o.start&&o.start.root.contains(e.target)||o.controls&&o.controls.root.contains(e.target)}},{key:"sendUseAction",value:function(e){var o=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:o,to:!o})}},{key:"clickHandler",value:function(e){var o=this.player,a=this.config,s=this.playerConfig;if(o.state<Ee.RUNNING){s.closeVideoClick||(this.sendUseAction(m.createEvent("click")),o.play());return}!a.closedbClick||s.closeVideoClick?o.isActive?o.blur():o.focus():s.closeVideoClick||((o.isActive||a.focusVideoClick)&&(this.sendUseAction(m.createEvent("click")),this.switchPlayPause()),o.focus())}},{key:"dbClickHandler",value:function(e){var o=this.config,a=this.player;!o.closedbClick&&a.state>=Ee.RUNNING&&(this.sendUseAction(m.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var o=this,a=this.player;jt(this,mo[0],function(s,l){o.clickHandler(l.e)},{e,paused:a.paused})}},{key:"onDbClick",value:function(e){var o=this,a=this.player;jt(this,mo[1],function(s,l){o.dbClickHandler(l.e)},{e,paused:a.paused})}},{key:"onPress",value:function(e){var o=this.pos,a=this.config,s=this.player;a.disablePress||(o.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:s.playbackRate,to:a.pressRate}),s.playbackRate=a.pressRate,this.changeAction(On.PLAYBACK))}},{key:"onPressEnd",value:function(e){var o=this.pos,a=this.config,s=this.player;a.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:s.playbackRate,to:o.rate}),s.playbackRate=o.rate,o.rate=1,this.changeAction(On.AUTO))}},{key:"updateTime",value:function(e){var o=this.player,a=this.config,s=this.player.duration;e=Number(e.toFixed(4));var l=parseInt(e*a.moveDuration,10)+this.timeOffset;l+=this.pos.time,l=l<0?0:l>s*1e3?s*1e3-200:l,o.getPlugin("time")&&o.getPlugin("time").updateTime(l/1e3),o.getPlugin("progress")&&o.getPlugin("progress").updatePercent(l/1e3/this.duration,!0),this.activeSeekNote(l/1e3,e>0),a.isTouchingSeek&&o.seek(Number((l-this.timeOffset)/1e3).toFixed(1)),this.pos.time=l}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var o=this.player,a=this.pos;if(e=parseInt(e*100,10),a.volume+=e,!(Math.abs(a.volume)<10)){var s=parseInt(o.volume*10,10)-parseInt(a.volume/10,10);s=s>10?10:s<1?0:s,o.volume=s/10,a.volume=0}}},{key:"updateBrightness",value:function(e){this.player.rotateDeg&&(e=-e);var o=this.pos,a=this.config,s=this.xgMask,l=o.light+.8*e;l=l>a.maxDarkness?a.maxDarkness:l<0?0:l,s&&(s.style.backgroundColor="rgba(0,0,0,".concat(l,")")),o.light=l}},{key:"activeSeekNote",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.player,s=this.config,l=!(this.duration!==1/0&&this.duration>0);if(!(!e||typeof e!="number"||l||s.disableActive)){e<0?e=0:e>a.duration&&(e=a.duration-.2),this.changeAction(On.SEEKING);var u=a.plugins.start;u&&u.focusHide(),this.find(".xg-dur").innerHTML=m.format(this.duration),this.find(".xg-cur").innerHTML=m.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),o?m.removeClass(this.find(".xg-seek-show"),"xg-back"):m.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var o=this.player,a=o.plugins.thumbnail;a&&a.usable&&this.thumbnail&&a.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<Ee.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(e,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span>/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),r}(Le);function nb(t){t.preventDefault(),t.returnValue=!1}function rb(t){var i=t.tagName;return!!(i==="INPUT"||i==="TEXTAREA"||t.isContentEditable)}var rl=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onBodyKeyDown",function(s){if(!!n.player){var l=s||window.event,u=l.keyCode,c=I(n),d=c._keyState;if(!s.repeat){if(d.isKeyDown||n.config.disable||n.config.disableBodyTrigger||!n.player.isUserActive&&!n.config.isIgnoreUserActive||!n.checkIsVisible()||l.metaKey||l.altKey||l.ctrlKey)return;(l.target===document.body||n.config.isGlobalTrigger&&!rb(l.target))&&n.checkCode(u,!0)&&(d.isBodyKeyDown=!0),document.addEventListener("keyup",n.onBodyKeyUp)}!d.isBodyKeyDown||n.handleKeyDown(l)}}),H(I(n),"onBodyKeyUp",function(s){!n.player||(document.removeEventListener("keyup",n.onBodyKeyUp),n.handleKeyUp(s))}),H(I(n),"onKeydown",function(s){if(!!n.player){var l=s||window.event,u=I(n),c=u._keyState;if(!l.repeat){if(n.config.disable||n.config.disableRootTrigger||l.metaKey||l.altKey||l.ctrlKey||!n.player.isUserActive&&!n.config.isIgnoreUserActive)return;l&&(l.keyCode===37||n.checkCode(l.keyCode))&&(l.target===n.player.root||l.target===n.player.video||l.target===n.player.controls.el)&&(c.isKeyDown=!0),n.player.root.addEventListener("keyup",n.onKeyup)}!c.isKeyDown||n.handleKeyDown(l)}}),H(I(n),"onKeyup",function(s){!n.player||(n.player.root.removeEventListener("keyup",n.onKeyup),n.handleKeyUp(s))}),n}return oe(r,[{key:"mergekeyCodeMap",value:function(){var e=this,o=this.config.keyCodeMap;o&&Object.keys(o).map(function(a){e.keyCodeMap[a]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(s){o[a][s]&&(e.keyCodeMap[a][s]=o[a][s])}):e.keyCodeMap[a]=o[a]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!e||typeof e!="number"||(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),o=e.height,a=e.top,s=e.bottom,l=window.innerHeight;return!(a<0&&a<0-o*.9||s>0&&s-l>o*.9)}},{key:"checkCode",value:function(e,o){var a=this,s=!1;return Object.keys(this.keyCodeMap).map(function(l){a.keyCodeMap[l]&&e===a.keyCodeMap[l].keyCode&&!a.keyCodeMap[l].disable&&(s=!o||o&&!a.keyCodeMap[l].noBodyTarget)}),s}},{key:"downVolume",value:function(e){var o=this.player;if(!(o.volume<=0)){var a=parseFloat((o.volume-.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(e,"change_volume",{props:s}),a>=0?o.volume=a:o.volume=0}}},{key:"upVolume",value:function(e){var o=this.player;if(!(o.volume>=1)){var a=parseFloat((o.volume+.1).toFixed(1)),s={volume:{from:o.volume,to:a}};this.emitUserAction(e,"change_volume",{props:s}),a<=1?o.volume=a:o.volume=1}}},{key:"seek",value:function(e){var o=this.player,a=o.currentTime,s=o.duration,l=a,u=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;a+u<=s?l=a+u:l=s;var c={currentTime:{from:a,to:l}};this.emitUserAction(e,"seek",{props:c}),this.player.currentTime=l}},{key:"seekBack",value:function(e){var o=this.player.currentTime,a=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,s=0;o-a>=0&&(s=o-a);var l={currentTime:{from:o,to:s}};this.emitUserAction(e,"seek",{props:l}),this.player.currentTime=s}},{key:"changePlaybackRate",value:function(e){var o=this._keyState,a=this.config,s=this.player;o.playbackRate===0&&(o.playbackRate=s.playbackRate,s.playbackRate=a.playbackRate)}},{key:"playPause",value:function(e){var o=this.player;!o||(this.emitUserAction(e,"switch_play_pause"),o.paused?o.play():o.pause())}},{key:"exitFullscreen",value:function(e){var o=this.player,a=o.fullscreen,s=o.cssfullscreen;a&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:a,to:!a}),o.exitFullscreen()),s&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:s,to:!s}),o.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var o=this._keyState;if(e.repeat){o.isPress=!0;var a=Date.now();if(a-o.tt<200)return;o.tt=a}nb(e),this.handleKeyCode(e.keyCode,e,o.isPress)}},{key:"handleKeyUp",value:function(e){var o=this._keyState;o.playbackRate>0&&(this.player.playbackRate=o.playbackRate,o.playbackRate=0),o.isKeyDown=!1,o.isPress=!1,o.tt=0}},{key:"handleKeyCode",value:function(e,o,a){for(var s=Object.keys(this.keyCodeMap),l=0;l<s.length;l++){var u=this.keyCodeMap[s[l]],c=u.action,d=u.keyCode,f=u.disable,h=u.pressAction,g=u.disablePress;if(d===e){if(!f&&!(a&&g)){var v=a&&h||c;typeof v=="function"?c(o,this.player,a):typeof v=="string"&&typeof this[v]=="function"&&this[v](o,this.player,a),this.emit(Qu,Ze({key:s[l],target:o.target,isPress:a},this.keyCodeMap[s[l]]))}break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!1,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!1}}}]),r}(bn);function ib(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">
  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>
</svg>
`,"image/svg+xml").firstChild}var ob=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"registerIcons",value:function(){return{loadingIcon:ib}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:$e.ROOT}}}]),r}(Le),ab=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],sb=function(){function t(i){ie(this,t),this.fragments=i.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=i.actionCallback,this.fragConfig={fragFocusClass:i.fragFocusClass||"inner-focus-point",fragAutoFocus:!!i.fragAutoFocus,fragClass:i.fragClass||""},this.style=i.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return oe(t,[{key:"updateDuration",value:function(r){var n=this;this.duration=r;var e=0,o=this.fragments;this.fragments=o.map(function(a){return a.start=parseInt(e,10),a.end=parseInt(e+a.percent*n.duration,10),a.duration=parseInt(a.percent*n.duration,10),e+=a.percent*n.duration,a})}},{key:"updateProgress",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,o=this.fragments;if(!(e.length<1)){var a=n.newIndex,s=n.curIndex,l=n.millisecond;a!==s&&e.map(function(d,f){f<a?d[r].style.width="100%":f>a&&(d[r].style.width=0)});var u=o[a],c=l===0?0:(l-u.start)/u.duration;e[a][r].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(r){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!r){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var n={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(n),this.focusIndex=-1}return}var e=this.findIndex(r.currentTime*1e3,this.focusIndex);if(e>=0&&e!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(e);var o={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&&this._callBack(o)}}}},{key:"update",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},n=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(n*1e3,10)!==this.duration){if(!n&&n!==0)return;this.updateDuration(parseInt(n*1e3,10))}var e=this.playedIndex,o=this.cachedIndex;if(m.typeOf(r.played)!=="Undefined"){var a=this.findIndex(r.played*1e3,e);if(a<0)return;this.updateProgress("played",{newIndex:a,curIndex:e,millisecond:parseInt(r.played*1e3,10)}),this.playedIndex=a}if(m.typeOf(r.cached)!=="Undefined"){var s=this.findIndex(r.cached*1e3,o);if(s<0)return;this.updateProgress("cached",{newIndex:s,curIndex:o,millisecond:parseInt(r.cached*1e3,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(r,n){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(n>-1&&n<e.length&&r>e[n].start&&r<e[n].end)return n;if(r>e[e.length-1].start)return e.length-1;for(var o=0;o<e.length;o++)if(r>e[o].start&&r<=e[o].end){n=o;break}return n}},{key:"findHightLight",value:function(){for(var r=this.root.children,n=0;n<r.length;n++)if(m.hasClass(r[n],this.fragConfig.fragFocusClass))return{dom:r[n],pos:r[n].getBoundingClientRect()}}},{key:"findFragment",value:function(r){var n=this.root.children;return r<0||r>=n.length?null:{dom:n[r],pos:n[r].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var r=this.root.children,n=0;n<r.length;n++)m.removeClass(r[n],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(r){var n=this.root.children;if(r<n.length)return m.addClass(n[r],this.fragConfig.fragFocusClass),{dom:n[r],pos:n[r].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(r){var n=this;if(Object.keys(this.fragConfig).forEach(function(o){r[o]!==void 0&&(n.fragConfig[o]=r[o])}),r.fragments){if(this.fragments=r.fragments.length===0?[{percent:1}]:r.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length>0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var r=this,n=this.style.progressColor;if(this.root||(this.root=m.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,o=e.fragClass,a=e.fragFocusClass;this.progressList=this.fragments.map(function(s){var l=m.createDom("xg-inner","",{style:n?"background:".concat(n,"; flex: ").concat(s.percent):"flex: ".concat(s.percent)},"".concat(s.isFocus?a:""," xgplayer-progress-inner ").concat(o));return r.root.appendChild(l),ab.forEach(function(u){l.appendChild(m.createDom(u.tag,"",{style:u.styleKey?"background: ".concat(r.style[u.styleKey],"; width:0;"):"width:0;"},u.className))}),{cached:l.children[0],played:l.children[1]}})}return this.root}}]),t}(),il={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},lb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"onMoveOnly",function(o,a){var s=I(e),l=s.pos,u=s.config,c=s.player,d=a;if(o){m.event(o);var f=m.getEventPos(o,c.zoom),h=c.rotateDeg===90?f.clientY:f.clientX;if(l.moving&&Math.abs(l.x-h)<u.miniMoveStep)return;l.moving=!0,l.x=h,d=e.computeTime(o,h)}e.triggerCallbacks("dragmove",d,o),e._updateInnerFocus(d)}),H(I(e),"onBodyClick",function(o){!e.pos.isLocked||(e.pos.isLocked=!1,o.preventDefault(),o.stopPropagation())}),H(I(e),"_mouseDownHandler",function(o,a){e._state.time=a.currentTime,e.updateWidth(a.currentTime,a.percent,0),e._updateInnerFocus(a)}),H(I(e),"_mouseUpHandler",function(o,a){var s=I(e),l=s.pos;l.moving&&e.updateWidth(a.currentTime,a.percent,2)}),H(I(e),"_mouseMoveHandler",function(o,a){var s=I(e),l=s._state,u=s.pos,c=s.config,d=s.player;l.time<a.currentTime?a.forward=!0:a.forward=!1,l.time=a.currentTime,u.isDown&&!u.moving&&(u.moving=!0,c.isPauseMoving&&d.pause(),e.triggerCallbacks("dragstart",a,o),e.emitUserAction("drag","dragstart",a)),e.updateWidth(a.currentTime,a.percent,1),e.triggerCallbacks("dragmove",a,o),e._updateInnerFocus(a)}),H(I(e),"onMouseDown",function(o){var a=I(e),s=a._state,l=a.player,u=a.pos,c=a.config,d=a.playerConfig,f=m.getEventPos(o,l.zoom),h=l.rotateDeg===90?f.clientY:f.clientX;if(!(l.isMini||c.closeMoveSeek||!d.allowSeekAfterEnded&&l.ended)){if(!l.duration&&!l.isPlaying){l.play();return}o.stopPropagation(),e.focus(),m.checkIsFunction(d.disableSwipeHandler)&&d.disableSwipeHandler(),m.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),m.event(o),u.x=h,u.isDown=!0,u.moving=!1,s.prePlayTime=l.currentTime,l.focus({autoHide:!1}),e.isProgressMoving=!0,m.addClass(e.progressBtn,"active");var g=e.computeTime(o,h);g.prePlayTime=s.prePlayTime,e._mouseDownHandlerHook(o,g);var v=o.type;return v==="touchstart"?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1)),!0}}),H(I(e),"onMouseUp",function(o){var a=I(e),s=a.player,l=a.config,u=a.pos,c=a.playerConfig,d=a._state;o.stopPropagation(),o.preventDefault(),m.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),m.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),m.event(o),m.removeClass(e.progressBtn,"active");var f=e.computeTime(o,u.x);f.prePlayTime=d.prePlayTime,u.moving?(e.triggerCallbacks("dragend",f,o),e.emitUserAction("drag","dragend",f)):(e.triggerCallbacks("click",f,o),e.emitUserAction("click","click",f)),e._mouseUpHandlerHook(o,f),u.moving=!1,u.isDown=!1,u.x=0,u.y=0,u.isLocked=!0,d.prePlayTime=0,d.time=0;var h=o.type;h==="touchend"?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),u.isEnter?c.isMobileSimulateMode!=="mobile"&&e.bind("mousemove",e.onMoveOnly):e.onMouseLeave(o)),m.setTimeout(I(e),function(){e.resetSeekState()},10),s.focus()}),H(I(e),"onMouseMove",function(o){var a=I(e),s=a._state,l=a.pos,u=a.player,c=a.config;m.checkTouchSupport()&&o.preventDefault(),m.event(o);var d=m.getEventPos(o,u.zoom),f=u.rotateDeg===90?d.clientY:d.clientX,h=Math.abs(l.x-f);if(!(l.moving&&h<c.miniMoveStep||!l.moving&&h<c.miniStartStep)){l.x=f;var g=e.computeTime(o,f);g.prePlayTime=s.prePlayTime,e._mouseMoveHandlerHook(o,g)}}),H(I(e),"onMouseOut",function(o){e.triggerCallbacks("mouseout",null,o)}),H(I(e),"onMouseOver",function(o){e.triggerCallbacks("mouseover",null,o)}),H(I(e),"onMouseEnter",function(o){var a=I(e),s=a.player,l=a.pos;if(!(l.isDown||l.isEnter||s.isMini||!s.config.allowSeekAfterEnded&&s.ended)){l.isEnter=!0,e.bind("mousemove",e.onMoveOnly),e.bind("mouseleave",e.onMouseLeave),m.event(o);var u=m.getEventPos(o,s.zoom),c=s.rotateDeg===90?u.clientY:u.clientX,d=e.computeTime(o,c);e.triggerCallbacks("mouseenter",d,o),e.focus()}}),H(I(e),"onMouseLeave",function(o){e.triggerCallbacks("mouseleave",null,o),e.unlock(),e._updateInnerFocus(null)}),H(I(e),"onVideoResize",function(){var o=e.pos,a=o.x,s=o.isDown,l=o.isEnter;if(l&&!s){var u=e.computeTime(null,a);e.onMoveOnly(null,u)}}),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0,prePlayTime:-1},e._disableBlur=!1,e}return oe(r,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"changeState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=e}},{key:"show",value:function(){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!o||o.length===0)&&(o=[{percent:1}]);var s=Ze(Ze({fragments:o},a),{},{actionCallback:function(u){e.emitUserAction("fragment_focus","fragment_focus",u)}});this.innerList?this.innerList.reset(s):(this.innerList=new sb(s),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(l){e[l]=e.innerList[l].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){var e=this;if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var o=this.config,a=o.fragFocusClass,s=o.fragAutoFocus,l=o.fragClass;this._initInner(this.config.fragments,{fragFocusClass:a,fragAutoFocus:s,fragClass:l,style:this.playerConfig.commonStyle||{}}),ve.device==="mobile"&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(Cn,function(){e.onMouseLeave()}),this.on(Tt,function(){e.onTimeupdate()}),this.on(en,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(qu,function(){e.onCacheUpdate()}),this.on(wn,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(qn,function(){e.onReset()}),this.on(on,function(){e.onVideoResize()}),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(e){var o=this,a=null;Object.keys(e).forEach(function(s){o.config[s]=e[s],s==="fragments"&&(a=e[s])}),a&&this._initInner(a,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},o=e.commonStyle,a=o.sliderBtnStyle,s=this.progressBtn;a&&(typeof a=="string"?s.style.boxShadow=a:dt(a)==="object"&&Object.keys(a).map(function(l){s.style[l]=a[l]}))}},{key:"triggerCallbacks",value:function(e,o,a){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(s){if(s&&s.handler&&s.type===e)try{s.handler(o,a)}catch(l){console.error("[XGPLAYER][triggerCallbacks] ".concat(s," error"),l)}})}},{key:"addCallBack",value:function(e,o){o&&typeof o=="function"&&this.__dragCallBacks.push({type:e,handler:o})}},{key:"removeCallBack",value:function(e,o){var a=this.__dragCallBacks,s=-1;a.map(function(l,u){l&&l.type===e&&l.handler===o&&(s=u)}),s>-1&&a.splice(s,1)}},{key:"unlock",value:function(){var e=this.player,o=this.pos;if(o.isEnter=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),o.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player,o=e.controls,a=e.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&(this.root.addEventListener("touchstart",this.onMouseDown),o&&(o.root&&o.root.addEventListener("touchmove",m.stopPropagation),o.center&&o.center.addEventListener("touchend",m.stopPropagation))),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),a.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),m.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),m.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,o,a){var s=this.config,l=this.player;if(!(s.isCloseClickSeek&&a===0)){var u=e>=l.duration?l.duration-s.endedDiff:Number(e).toFixed(1);this.updatePercent(o),this.updateTime(e),!(a===1&&(!s.isDragingSeek||l.config.mediaType==="audio"))&&(this._state.now=u,this._state.direc=u>l.currentTime?0:1,l.seek(u))}}},{key:"computeTime",value:function(e,o){var a=this.player,s=this.root.getBoundingClientRect(),l=s.width,u=s.height,c=s.top,d=s.left,f,h,g=o;a.rotateDeg===90?(f=u,h=c):(f=l,h=d);var v=g-h;v=v>f?f:v<0?0:v;var b=v/f;b=b<0?0:b>1?1:b;var y=parseInt(b*this.duration*1e3,10)/1e3;return{percent:b,currentTime:y,offset:v,width:f,left:h,e}}},{key:"updateTime",value:function(e){var o=this.player,a=this.duration;e>a?e=a:e<0&&(e=0);var s=o.plugins.time;s&&s.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,o){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(e*100,"%"),this.innerList.update({played:e*this.duration},this.duration);var a=this.player.plugins.miniprogress;a&&a.update({played:e*this.duration},this.duration)}}},{key:"onTimeupdate",value:function(e){var o=this.player,a=this._state,s=this.duration;if(!(o.isSeeking||this.isProgressMoving)){if(a.now>-1){var l=parseInt(a.now*1e3,10)-parseInt(o.currentTime*1e3,10);if(a.direc===0&&l>300||a.direc===1&&l>-300){a.now=-1;return}else a.now=-1}var u=this.timeOffset+o.currentTime;u=m.adjustTimeByDuration(u,s,e),this.innerList.update({played:u},s),this.progressBtn.style.left="".concat(u/s*100,"%");var c=this.player.plugins.miniprogress;c&&c.update({played:u},s)}}},{key:"onCacheUpdate",value:function(e){var o=this.player,a=this.duration;if(!!o){var s=o.bufferedPoint.end;s=m.adjustTimeByDuration(s,a,e),this.innerList.update({cached:s},a);var l=this.player.plugins.miniprogress;l&&l.update({cached:s},a)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0);var e=this.player.plugins.miniprogress;e&&e.update({cached:0,played:0},0)}},{key:"destroy",value:function(){var e=this.player,o=e.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var a=this.domEventType;(a==="touch"||a==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),o&&(o.root&&o.root.removeEventListener("touchmove",m.stopPropagation),o.center&&o.center.removeEventListener("touchend",m.stopPropagation))),(a==="mouse"||a==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var e=this.player.controls?this.player.controls.config.mode:"",o=e==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(o,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:il.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return il}}]),r}(Le),xn=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"_onMouseenter",function(s){n.emit("icon_mouseenter",{pluginName:n.pluginName})}),H(I(n),"_onMouseLeave",function(s){n.emit("icon_mouseleave",{pluginName:n.pluginName})}),n}return oe(r,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave)}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),r}(Le),ub=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){var e=this;fe(ue(r.prototype),"afterCreate",this).call(this);var o=this.player,a=this.config;a.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([Kn,Er,qn],function(){e.animate(o.paused)}),this.on(Ct,function(){e.animate(o.paused)}),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:_a,class:"xg-icon-play"},pause:{icon:Sa,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var o=this.player;return this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:o.paused,to:!o.paused}),o.ended?o.replay():o.paused?(o.play(),this.animate(!1)):(o.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(!!this.player){var o=this.i18nKeys,a=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),a&&this.changeLangTextKey(a,o.PLAY_TIPS)):(this.setAttr("data-state","play"),a&&this.changeLangTextKey(a,o.PAUSE_TIPS))}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    `.concat(an(this,"PLAY_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_LEFT,index:0,disable:!1}}}]),r}(xn);function cb(){return new DOMParser().parseFromString(`<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>
    </g>
</svg>`,"image/svg+xml").firstChild}var db=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(o){o.preventDefault(),o.stopPropagation(),e.config.onClick(o)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:cb,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){m.addClass(this.root,"show")}},{key:"hide",value:function(){m.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:$e.ROOT_TOP,index:0}}}]),r}(Le);function fb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`,"image/svg+xml").firstChild}function hb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`,"image/svg+xml").firstChild}var gb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"_onOrientationChange",function(s){n.player.fullscreen&&n.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?n.player.setRotateDeg(0):n.player.setRotateDeg(90))}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this;fe(ue(r.prototype),"afterCreate",this).call(this);var o=this.config,a=this.playerConfig;if(!o.disable){o.target&&(this.playerConfig.fullscreenTarget=this.config.target);var s=m.getFullScreenEl();a.fullscreenTarget===s&&this.player.getFullscreen().catch(function(l){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(u){var c=e.player.fullscreen;e.emitUserAction(u,"switch_fullscreen",{prop:"fullscreen",from:c,to:!c})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Ut,function(l){var u=e.find(".xg-tips");u&&e.changeLangTextKey(u,l?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(l)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:db,options:{config:{onClick:function(u){e.handleFullscreen(u)}}}})),ve.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:fb,class:"xg-get-fullscreen"},exitFullscreen:{icon:hb,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",ve.device==="mobile"?"touchend":"click",this.handleFullscreen),ve.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var o=this.player,a=this.config,s=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();s?(o.fullscreen?o.exitCssFullscreen():o.getCssFullscreen(),this.animate(o.fullscreen)):a.rotateFullscreen?(o.fullscreen?o.exitRotateFullscreen():o.getRotateFullscreen(),this.animate(o.fullscreen)):a.switchCallback&&typeof a.switchCallback=="function"?a.switchCallback(o.fullscreen):o.fullscreen?o.exitFullscreen():o.getFullscreen().catch(function(l){})}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){fe(ue(r.prototype),"show",this).call(this)}},{key:"hide",value:function(){fe(ue(r.prototype),"hide",this).call(this)}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    `.concat(an(this,e,this.playerConfig.isHideTips),`
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),r}(xn),pb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),e.isActiving=!1,e}return oe(r,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"currentTime",get:function(){return this.player.currentTime||0}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this,o=this.player.controls.config.mode;this.mode=o==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on(Cn,function(){e.onTimeUpdate()}),this.on(Tt,function(){e.onTimeUpdate()}),this.on(wn,function(){e.onTimeUpdate(!0)}),this.on(qn,function(){e.onReset()}))}},{key:"show",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var o=this.player,a=this.config,s=this.duration;if(!(a.disable||this.isActiving||!o.hasStart)){var l=o.currentTime+this.timeOffset;l=m.adjustTimeByDuration(l,s,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(m.format(l)),s!==1/0&&s>0&&(this.centerDurDom.innerHTML=m.format(s))):(this.timeDom.innerHTML=this.minWidthTime(m.format(l)),s!==1/0&&s>0&&(this.durationDom.innerHTML=m.format(s)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(m.format(0)),this.centerDurDom.innerHTML=m.format(0)):(this.timeDom.innerHTML=this.minWidthTime(m.format(0)),this.durationDom.innerHTML=m.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!(!e.controls||!e.controls.center)){var o=e.controls.center;this.centerCurDom=m.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=m.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),o.children.length>0?o.insertBefore(this.centerCurDom,o.children[0]):o.appendChild(this.centerCurDom),o.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(m.hide(this.durationDom),m.hide(this.timeDom),m.hide(this.find(".time-separator")),m.show(this.find(".time-live-tag"))):m.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(m.hide(this.durationDom),m.hide(this.timeDom),m.hide(this.find(".time-separator")),m.show(this.find(".time-live-tag"))):(m.hide(this.find(".time-live-tag")),m.show(this.find(".time-separator")),m.show(this.durationDom),m.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,!(!e&&e!==0||e>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(m.format(e));return}this.timeDom.innerHTML=this.minWidthTime(m.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(o){return'<span class="time-min-width">'.concat(o,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,o=this.player,a=function(){e.isActiving=!1};this.off(en,a),o.isSeeking?this.once(en,a):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_LEFT,index:2,disable:!1}}}]),r}(Le);function vb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function mb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function yb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`,"image/svg+xml").firstChild}var bb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onBarMousedown",function(s){var l=I(n),u=l.player,c=n.find(".xgplayer-bar");m.event(s);var d=c.getBoundingClientRect(),f=m.getEventPos(s,u.zoom),h=d.height-(f.clientY-d.top);if(f.h=h,f.barH=d.height,n.pos=f,!(h<-2))return n.updateVolumePos(h,s),document.addEventListener("mouseup",n.onBarMouseUp),n._d.isStart=!0,!1}),H(I(n),"onBarMouseMove",function(s){var l=I(n),u=l._d;if(!!u.isStart){var c=I(n),d=c.pos,f=c.player;s.preventDefault(),s.stopPropagation(),m.event(s);var h=m.getEventPos(s,f.zoom);u.isMoving=!0;var g=d.h-h.clientY+d.clientY;g>d.barH||n.updateVolumePos(g,s)}}),H(I(n),"onBarMouseUp",function(s){m.event(s),document.removeEventListener("mouseup",n.onBarMouseUp);var l=I(n),u=l._d;u.isStart=!1,u.isMoving=!1}),H(I(n),"onMouseenter",function(s){n._d.isActive=!0,n.focus(),n.emit("icon_mouseenter",{pluginName:n.pluginName})}),H(I(n),"onMouseleave",function(s){n._d.isActive=!1,n.unFocus(100,!1,s),n.emit("icon_mouseleave",{pluginName:n.pluginName})}),H(I(n),"onVolumeChange",function(s){if(!!n.player){var l=n.player,u=l.muted,c=l.volume;n._d.isMoving||(n.find(".xgplayer-drag").style.height=u||c===0?"4px":"".concat(c*100,"%"),n.config.showValueLabel&&n.updateVolumeValue()),n.animate(u,c)}}),n}return oe(r,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:mb,class:"xg-volume-small"},volumeLarge:{icon:vb,class:"xg-volume"},volumeMuted:{icon:yb,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var o=this.playerConfig,a=o.commonStyle,s=o.volume;a.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=a.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(l){e.changeMuted(l)},{pre:function(u){u.preventDefault(),u.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),ve.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Gu,this.onVolumeChange),this.once(rn,this.onVolumeChange),m.typeOf(s)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,o){var a=this.player,s=this.find(".xgplayer-drag"),l=this.find(".xgplayer-bar");if(!(!l||!s)){var u=parseInt(e/l.getBoundingClientRect().height*1e3,10);s.style.height="".concat(e,"px");var c=Math.max(Math.min(u/1e3,1),0),d={volume:{from:a.volume,to:c}};a.muted&&(d.muted={from:!0,to:!1}),this.emitUserAction(o,"change_volume",{muted:a.muted,volume:a.volume,props:d}),a.volume=Math.max(Math.min(u/1e3,1),0),a.muted&&(a.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,o=e.volume,a=e.muted,s=this.find(".xgplayer-value-label"),l=Math.max(Math.min(o,1),0);s.innerText=a?0:Math.ceil(l*100)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&&(m.clearTimeout(this,this._timerId),this._timerId=null),m.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0,l=this._d,u=this.player;l.isActive||(this._timerId&&(m.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=m.setTimeout(this,function(){l.isActive||(a?u.blur():u.focus(),m.removeClass(e.root,"slide-show"),l.isStart&&e.onBarMouseUp(s)),e._timerId=null},o))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var o=this.player,a=this._d;a.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:o.muted,volume:o.volume,props:{muted:{from:o.muted,to:!o.muted}}}),o.volume>0&&(o.muted=!o.muted),o.volume<.01&&(o.volume=this.config.miniVolume)}},{key:"animate",value:function(e,o){e||o===0?this.setAttr("data-state","mute"):o<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(m.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",ve.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,o=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(o?'<div class="xgplayer-value-label">'.concat(e*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(e*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),r}(Le);function wb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">
  <g clip-path="url(#clip0)">
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0">
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,"image/svg+xml").firstChild}var Cb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),e.rotateDeg=e.config.rotateDeg||0,e}return oe(r,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){fe(ue(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(on,function(){e.rotateDeg&&e.config.innerRotate&&m.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var o=this.player.root;this.rootWidth=o.style.width||o.offsetWidth||o.clientWidth,this.rootHeight=o.style.height||o.offsetHeight||o.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,o){if(e||(e=0),o){this.player.videoRotateDeg=e;return}var a=this.player,s=this.rootWidth,l=this.rootHeight,u=a.root,c=a.innerContainer,d=a.media,f=u.offsetWidth,h=c&&o?c.offsetHeight:u.offsetHeight,g=s,v=l,b=0,y=0;(e===.75||e===.25)&&(g="".concat(h,"px"),v="".concat(f,"px"),b=-(h-f)/2,y=-(f-h)/2);var w="translate(".concat(b,"px,").concat(y,"px) rotate(").concat(e,"turn)"),C={transformOrigin:"center center",transform:w,webKitTransform:w,height:v,width:g},S=o?d:u,x=o?a.getPlugin("poster"):null;Object.keys(C).map(function(T){S.style[T]=C[T],x&&x.root&&(x.root.style[T]=C[T])})}},{key:"rotate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=this.player;this.rotateDeg||(this.rotateDeg=0);var l=e?1:-1;this.rotateDeg=(this.rotateDeg+1+l*.25*a)%1,this.updateRotateDeg(this.rotateDeg,o),s.emit(Zu,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:wb}}},{key:"render",value:function(){if(!this.config.disable)return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      `.concat(an(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),r}(xn);function xb(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}function _b(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}var Ln={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},Sb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"switchPIP",function(s){if(!n.isPIPAvailable())return!1;s.stopPropagation&&s.stopPropagation(),n.isPip?(n.exitPIP(),n.emitUserAction(s,"change_pip",{props:"pip",from:!0,to:!1}),n.setAttr("data-state","normal")):n.player.media.readyState===4&&(n.requestPIP(),n.emitUserAction(s,"change_pip",{props:"pip",from:!1,to:!0}),n.setAttr("data-state","pip"))}),n}return oe(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;!this.isPIPAvailable()||(fe(ue(r.prototype),"afterCreate",this).call(this),this.pMode=Ln.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Ei,function(){e.config.showIcon&&(m.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:xb,class:"xg-get-pip"},pipIconExit:{icon:_b,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,o=this.player;this.leavePIPCallback=function(){var a=o.paused;m.setTimeout(e,function(){!a&&o.mediaPlay()},0),!a&&o.mediaPlay(),e.setAttr("data-state","normal"),o.emit(jo,!1)},this.enterPIPCallback=function(a){o.emit(jo,!0),e.pipWindow=a.pictureInPictureWindow,e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(a){var s=o.media.webkitPresentationMode;e.pMode===Ln.FULLSCREEN&&s!==Ln.FULLSCREEN&&o.onFullscreenChange(null,!1),e.pMode=s,s===Ln.PIP?e.enterPIPCallback(a):s===Ln.INLINE&&e.leavePIPCallback(a)},o.media&&(o.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),o.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(o.media)&&o.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"requestPIP",value:function(){var e=this.player,o=this.playerConfig;if(!(!this.isPIPAvailable()||this.isPip))try{var a=o.poster;return a&&(e.media.poster=m.typeOf(a)==="String"?a:a.poster),r.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("picture-in-picture"):e.media.requestPictureInPicture(),!0}catch(s){return console.error("requestPiP",s),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{return this.isPIPAvailable()&&this.isPip&&(r.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()),!0}catch(o){return console.error("exitPIP",o),!1}}},{key:"isPip",get:function(){var e=this.player;return document.pictureInPictureElement&&document.pictureInPictureElement===e.media||e.media.webkitPresentationMode===Ln.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,o=m.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!0;return o&&(m.typeOf(e.disablePictureInPicture)==="Boolean"&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&m.typeOf(e.webkitSetPresentationMode)==="Function")}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      `.concat(an(this,"PIP",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:6,showIcon:!1}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),r}(xn);function kb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`,"image/svg+xml").firstChild}var Tb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"playNext",function(o){var a=I(e),s=a.player;o.preventDefault(),o.stopPropagation(),e.idx+1<e.config.urlList.length?(e.idx++,e.nextHandler(e.config.urlList[e.idx],e.idx),s.emit(ci,e.idx+1)):(e.nextHandler(),s.emit(ci))}),e.idx=-1,e}return oe(r,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:kb}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=ve.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var o=this.player;!e||(o.pause(),o.currentTime=0,o.switchURL?o.switchURL(e):o.src=e,o.config.url=e,o.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      `.concat(an(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),r}(Le),cc={exports:{}};(function(t,i){(function(r,n){t.exports=n()})(jm,function(){return function r(n,e,o){var a=window,s="application/octet-stream",l=o||s,u=n,c=!e&&!o&&u,d=document.createElement("a"),f=function(_){return String(_)},h=a.Blob||a.MozBlob||a.WebKitBlob||f,g=e||"download",v,b;if(h=h.call?h.bind(a):Blob,String(this)==="true"&&(u=[u,l],l=u[0],u=u[1]),c&&c.length<2048&&(g=c.split("/").pop().split("?")[0],d.href=c,d.href.indexOf(c)!==-1)){var y=new XMLHttpRequest;return y.open("GET",c,!0),y.responseType="blob",y.onload=function(_){r(_.target.response,g,s)},setTimeout(function(){y.send()},0),y}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u))if(u.length>1024*1024*1.999&&h!==f)u=x(u),l=u.type||s;else return navigator.msSaveBlob?navigator.msSaveBlob(x(u),g):T(u);else if(/([\x80-\xff])/.test(u)){var w=0,C=new Uint8Array(u.length),S=C.length;for(w;w<S;++w)C[w]=u.charCodeAt(w);u=new h([C],{type:l})}v=u instanceof h?u:new h([u],{type:l});function x(_){var M=_.split(/[:;,]/),E=M[1],R=M[2]=="base64"?atob:decodeURIComponent,P=R(M.pop()),D=P.length,A=0,N=new Uint8Array(D);for(A;A<D;++A)N[A]=P.charCodeAt(A);return new h([N],{type:E})}function T(_,M){if("download"in d)return d.href=_,d.setAttribute("download",g),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),M===!0&&setTimeout(function(){a.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(_)&&(_="data:"+_.replace(/^data:([\w\/\-\+]+)/,s)),window.open(_)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=_),!0;var E=document.createElement("iframe");document.body.appendChild(E),!M&&/^data:/.test(_)&&(_="data:"+_.replace(/^data:([\w\/\-\+]+)/,s)),E.src=_,setTimeout(function(){document.body.removeChild(E)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(v,g);if(a.URL)T(a.URL.createObjectURL(v),!0);else{if(typeof v=="string"||v.constructor===f)try{return T("data:"+l+";base64,"+a.btoa(v))}catch{return T("data:"+l+","+encodeURIComponent(v))}b=new FileReader,b.onload=function(_){T(this.result)},b.readAsDataURL(v)}return!0}})})(cc);var Eb=cc.exports;function Pb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`,"image/svg+xml").firstChild}var Rb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"download",function(o){if(!e.isLock){e.emitUserAction(o,"download");var a=e.playerConfig.url,s="";m.typeOf(a)==="String"?s=a:m.typeOf(a)==="Array"&&a.length>0&&(s=a[0].src);var l=e.getAbsoluteURL(s);Eb(l),e.isLock=!0,e.timer=window.setTimeout(function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null},300)}}),e.timer=null,e.isLock=!1,e}return oe(r,[{key:"afterCreate",value:function(){fe(ue(r.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(o){o.preventDefault(),o.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:Pb}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var o=document.createElement("div");o.innerHTML='<a href="'.concat(e,'">x</a>'),e=o.firstChild.href}return e}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   `.concat(an(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:3,disable:!0}}}]),r}(xn),Ab=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){fe(ue(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(o){e.fitVideo&&(e.width=o.vWidth,e.height=o.vHeight)},this.once(on,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,o){var a=document.createElement("a");a.href=e,a.download=o;var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(s)}},{key:"createCanvas",value:function(e,o){var a=document.createElement("canvas"),s=a.getContext("2d");this.canvasCtx=s,this.canvas=a,a.width=e||this.config.width,a.height=o||this.config.height,s.imageSmoothingEnabled=!0,s.imageSmoothingEnabled&&(s.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var o=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot"),this.shot().then(function(a){o.emit(Ju,a),o.saveScreenShot(a,o.config.name+o.config.format)})}},{key:"shot",value:function(e,o){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},l=this.config,u=this.player,c=s.quality||l.quality,d=s.type||l.type;return new Promise(function(f,h){var g=null,v;if(u.media.canvas)g=u.media.canvas;else{a.canvas?(a.canvas.width=e||l.width,a.canvas.height=o||l.height):a.createCanvas(e,o),g=a.canvas,v=a.canvasCtx;var b=u.media.videoWidth/u.media.videoHeight,y=g.width/g.height,w=0,C=0,S=u.media.videoWidth,x=u.media.videoHeight,T,_,M,E;b>y?(M=g.width,E=g.width/b,T=0,_=Math.round((g.height-E)/2)):b===y?(M=g.width,E=g.height,T=0,_=0):b<y&&(M=g.height*b,E=g.height,T=Math.round((g.width-M)/2),_=0),v.drawImage(u.media,w,C,S,x,T,_,M,E)}var R=g.toDataURL(d,c).replace(d,"image/octet-stream");R=R.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),f(R)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(on,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",o="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(e,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[o],'">').concat(this.i18n[o],"</span>"),`
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,fitVideo:!0,disable:!1,name:"screenshot"}}}]),r}(xn),Ib=function(){function t(i){ie(this,t),this.config=i.config,this.parent=i.root,this.root=m.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),i.root.appendChild(this.root);var r=this.config.maxHeight;r&&this.setStyle({maxHeight:r}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var n=ve.device==="mobile"?"touchend":"click";this._delegates=Le.delegate.call(this,this.root,"li",n,this.onItemClick)}return oe(t,[{key:"renderItemList",value:function(r){var n=this,e=this.config,o=this.root;r?e.data=r:r=e.data,e.style&&Object.keys(e.style).map(function(a){o.style[a]=e[a]}),r.length>0&&(this.attrKeys=Object.keys(r[0])),this.root.innerHTML="",r.map(function(a,s){var l=a.selected?"option-item selected":"option-item";a["data-index"]=s,n.root.appendChild(m.createDom("li","<span>".concat(a.showText,"</span>"),a,l))})}},{key:"onItemClick",value:function(r){r.delegateTarget||(r.delegateTarget=r.target);var n=r.delegateTarget;if(n&&m.hasClass(n,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,o=this.root.querySelector(".selected");m.addClass(n,"selected"),o&&m.removeClass(o,"selected"),e(r,{from:o?this.getAttrObj(o,this.attrKeys):null,to:this.getAttrObj(n,this.attrKeys)})}},{key:"getAttrObj",value:function(r,n){if(!r||!n)return{};var e={};n.map(function(a){e[a]=r.getAttribute(a)});var o=r.getAttribute("data-index");return o&&(e.index=Number(o)),e}},{key:"show",value:function(){m.removeClass(this.root,"hide"),m.addClass(this.root,"active")}},{key:"hide",value:function(){m.removeClass(this.root,"active"),m.addClass(this.root,"hide")}},{key:"setStyle",value:function(r){var n=this;Object.keys(r).forEach(function(e){n.root.style[e]=r[e]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(r){r.destroy&&r.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),t}(),At={SIDE:"side",MIDDLE:"middle"},Dn={CLICK:"click",HOVER:"hover"};function Ob(t,i){return t===At.SIDE?i===$e.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var Hr=ve.device==="mobile",pi=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"onEnter",function(o){o.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.switchActiveState(o)}),H(I(e),"switchActiveState",function(o){o.stopPropagation();var a=e.config.toggleMode;a===Dn.CLICK?e.toggle(!e.isActive):e.toggle(!0)}),H(I(e),"onLeave",function(o){o.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.config.listType!==At.SIDE&&e.isActive&&e.toggle(!1)}),H(I(e),"onListEnter",function(o){e.enterType=2}),H(I(e),"onListLeave",function(o){e.enterType=0,e.isActive&&e.toggle(!1)}),e.isIcons=!1,e.isActive=!1,e.curValue=null,e.curIndex=0,e}return oe(r,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,o=this.config;this.initIcons(),Hr&&o.listType!==At.MIDDLE&&(o.listType=At.SIDE),o.hidePortrait&&m.addClass(this.root,"portrait"),this.on([on,Ut],function(){e._resizeList()}),this.once(Wt,function(){o.list&&o.list.length>0&&(e.renderItemList(o.list),e.show())}),Hr&&this.on(va,function(){!e.isActive||(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),Hr?(o.toggleMode=Dn.CLICK,this.activeEvent="touchend"):this.activeEvent=o.toggleMode===Dn.CLICK?"click":"mouseenter",o.toggleMode===Dn.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,o=this.icons,a=Object.keys(o),s=!1;a.length>0&&(a.forEach(function(l){e.appendChild(".xgplayer-icon",o[l]),!s&&(s=o[l])}),this.isIcons=s),!s&&(this.appendChild(".xgplayer-icon",m.createDom("span","",{},"icon-text")),m.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||m.addClass(this.root,"show")}},{key:"hide",value:function(){m.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,o,a){if(e===void 0)return"";var s=this.config.list;!a&&(a=this.player.lang),o=!o||m.isUndefined(e[o])?"text":o,typeof e=="number"&&(e=s[e]);try{return dt(e[o])==="object"?e[o][a]||e[o].en:e[o]}catch(l){return console.warn(l),""}}},{key:"toggle",value:function(e){if(e!==this.isActive){var o=this.player.controls,a=this.config.listType;e?(a===At.SIDE?o.blur():o.focus(),this.optionsList&&this.optionsList.show()):(a===At.SIDE?o.focus():o.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,o){e.stopPropagation();var a=this.config,s=a.listType,l=a.list;this.curIndex=o.to.index,this.curItem=l[this.curIndex],this.changeCurrentText();var u=this.config.isItemClickHide;(u||Hr||s===At.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,o=this.curIndex<e.length?this.curIndex:0,a=e[o];!a||(this.find(".icon-text").innerHTML=this.getTextByLang(a,"iconText"))}}},{key:"renderItemList",value:function(e,o){var a=this,s=this.config,l=this.optionsList,u=this.player;if(typeof o=="number"&&(this.curIndex=o,this.curItem=s.list[o]),l){l.renderItemList(e),this.changeCurrentText();return}var c={config:{data:e||[],className:Ob(s.listType,s.position),onItemClick:function(v,b){a.onItemClick(v,b)}},root:s.listType===At.SIDE?u.innerContainer||u.root:this.root};if(this.config.isShowIcon){var d=this.player.root.getBoundingClientRect(),f=d.height,h=s.listType===At.MIDDLE?f-50:f;h&&(c.config.maxHeight="".concat(h,"px")),this.optionsList=new Ib(c),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){var e=this.player.root.getBoundingClientRect(),o=e.height,a=this.config.listType===At.MIDDLE?o-50:o;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(a,"px")})}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===Dn.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(!!this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:Dn.HOVER}}}]),r}(Le),Lb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),e.curTime=0,e.isPaused=!0,e}return oe(r,[{key:"beforeCreate",value:function(e){var o=e.config.list;Array.isArray(o)&&o.length>0&&(e.config.list=o.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}))}},{key:"afterCreate",value:function(){var e=this;fe(ue(r.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(o){e.changeDefinitionList(o)}),this.on(wa,function(o){e.renderItemList(e.config.list,o.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(){!this.config.list||this.config.list.length<2||m.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,o=e.list,a=e.defaultDefinition;if(o.length>0){var s=null;o.map(function(l){l.definition===a&&(s=l)}),s||(s=o[0]),this.changeDefinition(s)}}},{key:"renderItemList",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],a=arguments.length>1?arguments[1]:void 0,s=a&&a.definition?a.definition:this.config.defaultDefinition;a&&o.forEach(function(c){c.selected=!1});var l=0,u=o.map(function(c,d){var f=Ze(Ze({},c),{},{showText:e.getTextByLang(c)||c.definition,selected:!1});return(c.selected||c.definition&&c.definition==s)&&(f.selected=!0,l=d),f});fe(ue(r.prototype),"renderItemList",this).call(this,u,l)}},{key:"changeDefinitionList",value:function(e){!Array.isArray(e)||(this.config.list=e.map(function(o){return!o.text&&o.name&&(o.text=o.name),o.text||(o.text=o.definition),o}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,o){this.player.changeDefinition(e,o)}},{key:"onItemClick",value:function(e,o){var a=this.player.definitionList;fe(ue(r.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:o.from,to:o.to});for(var s=0;s<a.length;s++)o.to&&a[s].definition===o.to.definition&&(o.to.url=a[s].url),o.from&&a[s].definition===o.from.definition&&(o.from.url=a[s].url);this.player.changeDefinition(o.to,o.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return Ze(Ze({},pi.defaultConfig),{},{position:$e.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),r}(pi),Db=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),e.curRate=1,e}return oe(r,[{key:"beforeCreate",value:function(e){var o=e.player.config.playbackRate,a=o?Array.isArray(o)?o:e.config.list:[];Array.isArray(a)&&(e.config.list=a.map(function(s){return typeof s=="number"?s={rate:s,text:"".concat(s,"x")}:!s.text&&s.rate&&(s.text="".concat(s.rate,"x")),s}))}},{key:"afterCreate",value:function(){var e=this;fe(ue(r.prototype),"afterCreate",this).call(this),this.on(Ku,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(){!this.config.list||this.config.list.length===0||fe(ue(r.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,o){fe(ue(r.prototype),"onItemClick",this).apply(this,arguments);var a=e.delegateTarget,s=Number(a.getAttribute("rate"));if(!s||s===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:s}};this.emitUserAction(e,"change_rate",{props:l}),this.curValue=s,this.player.playbackRate=s}},{key:"renderItemList",value:function(){var e=this,o=this.player.playbackRate||1;this.curValue=o;var a=-1,s=this.config.list.map(function(l,u){var c={rate:l.rate};return c.rate===o&&(c.selected=!0,a=u),c.showText=e.getTextByLang(l),c});fe(ue(r.prototype),"renderItemList",this).call(this,s,a)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,o=this.curIndex<e.length?this.curIndex:0,a=e[o],s="";!a||this.curIndex<0?s="".concat(this.player.playbackRate,"x"):s=this.getTextByLang(a,"iconText"),this.find(".icon-text").innerHTML=s}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return Ze(Ze({},pi.defaultConfig),{},{position:$e.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),r}(pi);function Fb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function Mb(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}var ol=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;fe(ue(r.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(li,function(o){e.animate(o)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,o=this.find(".xgplayer-icon");o.appendChild(e.cssFullscreen),o.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var o=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:o}),o?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){!this.root||(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var o=this.i18nKeys,a=this.find(".xg-tips");a&&this.changeLangTextKey(a,e?o.EXITCSSFULLSCREEN_TIPS:o.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Fb,class:"xg-get-cssfull"},exitCssFullscreen:{icon:Mb,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){fe(ue(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(an(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:$e.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),r}(xn),Nb=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(Er,function(o){e.onError(o)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.player,a=e.errorType,s=o.errorNote?this.i18n[o.errorNote]:"";if(!s)switch(a){case"decoder":s=this.i18n.MEDIA_ERR_DECODE;break;case"network":s=this.i18n.MEDIA_ERR_NETWORK;break;default:s=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=s,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),r}(Le),Bb=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(o){(e.config.onClick||e.customOnClick)&&(o.preventDefault(),o.stopPropagation(),e.customOnClick?e.customOnClick(o):e.config.onClick(o))}),this.player.showPrompt=function(){e.show.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var o=this;Object.keys(e).map(function(a){o.root.style[a]=e[a]})}},{key:"show",value:function(e){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(!!e){this.customOnClick=s;var l=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),m.addClass(this.root,"show"),a.mode==="arrow"&&m.addClass(this.root,"arrow"),typeof e=="string"?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),a.style&&this.setStyle(a.style);var u=typeof a.autoHide=="boolean"?a.autoHide:this.config.autoHide;if(u){var c=a.interval||l;this.intervalId=setTimeout(function(){o.hide()},c)}}}},{key:"hide",value:function(){m.removeClass(this.root,"show"),m.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(V.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),r}(Le),al={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function dc(t){Object.keys(al).map(function(i){t[i]===void 0&&(t[i]=al[i])})}var sl={_updateDotDom:function(i,r){if(!!r){var n=this.calcuPosition(i.time,i.duration),e=i.style||{};e.left="".concat(n.left,"%"),e.width="".concat(n.width,"%"),r.setAttribute("data-text",i.text),r.setAttribute("data-time",i.time),n.isMini?m.addClass(r,"mini"):m.removeClass(r,"mini"),Object.keys(e).map(function(o){r.style[o]=e[o]})}},initDots:function(){var i=this;this._ispots.map(function(r){i.createDot(r,!1)}),this.ispotsInit=!0},createDot:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.player.plugins.progress;if(!!n&&(r&&(dc(i),this._ispots.push(i)),!(!this.ispotsInit&&r))){var e=this.calcuPosition(i.time,i.duration),o=i.style||{};o.left="".concat(e.left,"%"),o.width="".concat(e.width,"%");var a="xgspot_".concat(i.id," xgplayer-spot");e.isMini&&(a+=" mini");var s=i.template?'<div class="xgplayer-spot-pop">'.concat(i.template,"</div>"):"",l=m.createDom("xg-spot",s,{"data-text":i.text,"data-time":i.time,"data-id":i.id},a);Object.keys(o).map(function(u){l.style[u]=o[u]}),n.outer&&n.outer.appendChild(l),this.positionDot(l,i.id)}},findDot:function(i){if(!!this.player.plugins.progress){var r=this._ispots.filter(function(n,e){return n.id===i});return r.length>0?r[0]:null}},updateDot:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.player.plugins.progress;if(!!n){var e=this.findDot(i.id);if(e&&Object.keys(i).map(function(a){e[a]=i[a]}),!!this.ispotsInit){var o=n.find('xg-spot[data-id="'.concat(i.id,'"]'));!o||(this._updateDotDom(i,o),r&&this.showDot(i.id))}}},deleteDot:function(i){var r=this._ispots,n=this.player.plugins.progress;if(!!n){for(var e=[],o=0;o<r.length;o++)r[o].id===i&&e.push(o);for(var a=e.length,s=a-1;s>=0;s--)if(r.splice(e[s],1),this.ispotsInit){var l=n.find('xg-spot[data-id="'.concat(i,'"]'));l&&l.parentElement.removeChild(l)}}},deleteAllDots:function(){var i=this.player.plugins.progress;if(!!i){if(!this.ispotsInit){this._ispots=[];return}for(var r=i.root.getElementsByTagName("xg-spot"),n=r.length-1;n>=0;n--)i.outer.removeChild(r[n]);this._ispots=[]}},updateAllDots:function(){var i=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this.player.plugins.progress;if(!!n){if(!this.ispotsInit){this._ispots=r;return}this._ispots=[];var e=n.root.getElementsByTagName("xg-spot"),o=e.length;if(o>r.length)for(var a=o-1;a>r.length-1;a--)n.outer.removeChild(e[a]);r.forEach(function(s,l){l<o?(e[l].setAttribute("data-id","".concat(s.id)),i._ispots.push(s),i.updateDot(s)):i.createDot(s)})}},positionDots:function(){var i=this,r=this._ispots,n=this.playerSize,e=this.player.sizeInfo,o=this.player.plugins.progress;!o||e.width===n.width||(n.width=e.width,n.left=e.left,r.forEach(function(a){var s=o.find('xg-spot[data-id="'.concat(a.id,'"]'));s&&i.positionDot(s,a.id)}))},positionDot:function(i,r){var n=m.findDom(i,".xgplayer-spot-pop");if(!!n){var e=this.playerSize,o=i.getBoundingClientRect(),a=n.getBoundingClientRect(),s=o.left-e.left,l=e.width-s-o.width/2;if(s<a.width/2||e.width<a.width){var u=a.width/2-s;n.style.left="".concat(u,"px")}else if(l<a.width/2){var c=l-a.width/2+o.width/2;n.style.left="".concat(c,"px")}else n.style.left="50%"}},updateDuration:function(){var i=this,r=this.player.plugins.progress;if(!!r){var n=this._ispots;n.forEach(function(e){var o=r.find('xg-spot[data-id="'.concat(e.id,'"]'));i._updateDotDom(e,o)})}},getAllDotsDom:function(){var i=this.player.plugins.progress;if(!i)return[];var r=i.root.getElementsByTagName("xg-spot");return r},getDotDom:function(i){var r=this.player.plugins.progress;if(!!r)return r.find('xg-spot[data-id="'.concat(i,'"]'))}};function $b(t){var i=t.config,r=t.player;Object.keys(sl).map(function(e){t[e]=sl[e].bind(t)});var n=r.config.progressDot||i.ispots||[];t._ispots=n.map(function(e){return dc(e),e}),t.ispotsInit=!1,t.playerSize={left:r.sizeInfo.left,width:r.sizeInfo.width},t.on(Cn,function(){t.ispotsInit?t.updateDuration():t.initDots()}),t.on(on,function(){t.positionDots()})}var Fn={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMove"},zb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),H(I(e),"onMousemove",function(o){if(!e.config.disable){if(m.hasClass(o.target,"xg-spot-content")&&e.config.isHideThumbnailHover){e.player.plugins.progress.onMouseLeave(o);return}(e._state.f||m.hasClass(o.target,"xg-spot-content"))&&(m.event(o),o.stopPropagation())}}),H(I(e),"onMousedown",function(o){e.config.disable||(e._state.f||m.hasClass(o.target,"xg-spot-content"))&&(m.event(o),o.stopPropagation())}),H(I(e),"onMouseup",function(o){if(!!e.isDrag){var a=e.player.plugins.progress;a&&a.pos&&(a.onMouseUp(o),!a.pos.isEnter&&a.onMouseLeave(o))}}),H(I(e),"onDotMouseLeave",function(o){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(o.target),e._curDot=null;var a=e.player.plugins.progress;a&&a.enableBlur(),e.show()}}),H(I(e),"onProgressMouseOver",function(o,a){if(!e.config.disable&&m.hasClass(a.target,"xgplayer-spot")&&!e._curDot){e._curDot=a.target,e.focusDot(a.target),e._curDot.children.length>0&&e.hide();var s=e.player.plugins.progress;s&&s.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}}),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e.timeStr="",e._state={now:0,f:!1},e}return oe(r,[{key:"beforeCreate",value:function(e){var o=e.player.plugins.progress;o&&(e.root=o.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(o,a){a.currentTime&&e.player.seek(a.currentTime)}),this.transformTimeHook=this.hook("transformTime",function(o){e.setTimeContent(m.format(o))}),$b(this),this.on(Cn,function(){e.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var o=this;!e||Object.keys(e).map(function(a){o.config[a]=e[a]})}},{key:"onPluginsReady",value:function(){var e=this.player;!e.plugins.progress||(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,o=this.player.plugins.progress;if(!!o&&(Object.keys(Fn).map(function(s){e[Fn[s]]=e[Fn[s]].bind(e),o.addCallBack(s,e[Fn[s]])}),ve.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var a=this.hook("previewClick",function(){});this.handlerPreviewClick=function(s){s.stopPropagation(),a(parseInt(e._state.now*1e3,10)/1e3,s)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,o){this.config.disable||!this.player.duration||this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&m.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&m.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,o){this.config.disable||m.hasClass(o.target,"xgplayer-spot")&&(o.stopPropagation(),o.preventDefault(),["time","id","text"].map(function(a){e[a]=o.target.getAttribute("data-".concat(a))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(o,e))}},{key:"updateLinePos",value:function(e,o){var a=this.root,s=this.previewLine,l=this.player,u=this.config,c=l.controls.mode,d=c==="flex",f=a.getBoundingClientRect().width;if(!!f){f=this._hasThumnail&&f<u.width?u.width:f;var h=e-f/2,g;h<0&&!d?(h=0,g=e-f/2):h>o-f&&!d?(g=h-(o-f),h=o-f):g=0,g!==void 0&&(s.style.transform="translateX(".concat(g.toFixed(2),"px)")),a.style.transform="translateX(".concat(h.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var o=this.timeText,a=this.timePoint;o.innerHTML=e,!this.thumbnail&&(a.innerHTML=e)}},{key:"updatePosition",value:function(e,o,a,s){var l=this.root,u=this.config,c=this._state;if(!!l){c.now=a,this.transformTimeHook(a);var d=this.timeStr;s&&s.target&&m.hasClass(s.target,"xgplayer-spot")?(this.showTips(s.target.getAttribute("data-text"),!1,d),this.focusDot(s.target),c.f=!0,u.isFocusDots&&c.f&&(c.now=parseInt(s.target.getAttribute("data-time"),10))):u.defaultText?(c.f=!1,this.showTips(u.defaultText,!0,d)):(c.f=!1,this.hideTips("")),this.updateTimeText(d),this.updateThumbnails(c.now),this.updateLinePos(e,o)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var o=this.player,a=this.videoPreview,s=this.config,l=o.plugins.thumbnail;if(l&&l.usable){this.thumbnail&&l.update(this.thumbnail,e,s.width,s.height);var u=a&&a.getBoundingClientRect();this.videothumbnail&&l.update(this.videothumbnail,e,u.width,u.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ve.device!=="mobile"){var o=this.player,a=this.config,s=o.getPlugin("thumbnail");if(s&&s.setConfig(e),!s||!s.usable||!a.isShowThumbnail){m.addClass(this.root,"short-line no-thumbnail");return}else m.removeClass(this.root,"short-line no-thumbnail");a.mode==="short"&&m.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=s.createThumbnail(l,"progress-thumbnail"),a.isShowCoverPreview&&(this.videoPreview=m.createDom("xg-video-preview","",{},"xgvideo-preview"),o.root.appendChild(this.videoPreview),this.videothumbnail=s.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,o){var a=this.player.plugins.progress,s=this.player,l=a.root.getBoundingClientRect().width,u=s.duration/l*6;return e+o>s.duration&&(o=s.duration-e),e/s.duration*100,o/s.duration,{left:e/s.duration*100,width:o/s.duration*100,isMini:o<u}}},{key:"showDot",value:function(e){var o=this.findDot(e);if(o){var a=this.root.getBoundingClientRect(),s=a.width,l=o.time/this.player.duration*s;this.updatePosition(l,s,o.time)}}},{key:"focusDot",value:function(e,o){!e||(o||(o=e.getAttribute("data-id")),m.addClass(e,"active"),this._activeDotId=o)}},{key:"blurDot",value:function(e){if(!e){var o=this._activeDotId;e=this.getDotDom(o)}!e||(m.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";m.addClass(this.root,"no-timepoint"),e&&(m.addClass(this.find(".xg-spot-content"),"show-text"),o&&this.config.mode==="production"?(m.addClass(this.root,"product"),this.tipText.textContent=e):(m.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(a," ").concat(e)))}},{key:"hideTips",value:function(){m.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",m.removeClass(this.find(".xg-spot-content"),"show-text"),m.removeClass(this.root,"product")}},{key:"hide",value:function(){m.addClass(this.root,"hide")}},{key:"show",value:function(){m.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,o=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(o.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,o=this.player.plugins.progress;o&&Object.keys(Fn).map(function(a){o.removeCallBack(a,e[Fn[a]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return ve.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),r}(Le),Hb=function(t){he(r,t);var i=ge(r);function r(n){var e;return ie(this,r),e=i.call(this,n),e.ratio=1,e.interval=null,e._preloadMark={},e}return oe(r,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([Cn],function(){var o=e.config,a=o.pic_num,s=o.interval;e.usable&&(e.interval=s>0?s:Math.round(e.player.duration*1e3/a)/1e3)})}},{key:"setConfig",value:function(e){var o=this;if(!!e){var a=Object.keys(e);a.length<1||(a.forEach(function(s){o.config[s]=e[s]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,o=e.urls,a=e.pic_num;return o&&o.length>0&&a>0}},{key:"initThumbnail",value:function(){var e=this.config,o=e.width,a=e.height,s=e.pic_num,l=e.interval;this.ratio=o/a*100,this.interval=l||Math.round(this.player.duration/s),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var o=this;if(!this._preloadMark[e]){var a=this.config.urls,s=a.length,l=[];e>0&&l.push(e-1),l.push(e),e>0&&e<s-1&&l.push(e+1),l.map(function(u){!o._preloadMark[u]&&u>=0&&u<s&&(o._preloadMark[u]=1,m.preloadImg(a[u],function(){o._preloadMark[u]=2}))})}}},{key:"getPosition",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=this.config,l=s.pic_num,u=s.row,c=s.col,d=s.width,f=s.height;this.interval=Math.round(this.player.duration/l);var h=Math.ceil(e/this.interval);h=h>l?l:h;var g=h<u*c?0:Math.ceil(h/(u*c))-1,v=h-g*(c*u),b=v>0?Math.ceil(v/c)-1:0,y=v>0?v-b*c-1:0,w=0,C=0;if(o&&a){var S=o/a;S<d/f?(C=a,w=C*(d/f)):(w=o,C=w/(d/f))}else a?o||(C=a||f,w=C*(d/f)):(w=o||d,C=w/(d/f));var x=this.getUrlByIndex(g);return{urlIndex:g,rowIndex:b,colIndex:y,url:x,height:C,width:w,style:{backgroundImage:"url(".concat(x,")"),backgroundSize:"".concat(w*c,"px auto"),backgroundPosition:"-".concat(y*w,"px -").concat(b*C,"px"),width:"".concat(w,"px"),height:"".concat(C,"px")}}}},{key:"update",value:function(e,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=this.config,c=u.pic_num,d=u.urls;if(!(c<=0||!d||d.length===0)){var f=this.getPosition(o,a,s);this.preload(f.urlIndex),Object.keys(f.style).map(function(h){e.style[h]=f.style[h]}),Object.keys(l).map(function(h){e.style[h]=l[h]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,o){var a=m.createDom("xg-thumbnail","",{},"thumbnail ".concat(o));return e&&e.appendChild(a),a}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),r}(Le),Ub=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){}},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},o=arguments.length>1?arguments[1]:void 0;!o||!this.root||(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/o*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/o*100,"%")))}},{key:"render",value:function(){if(!(!this.playerConfig.progress||!this.playerConfig.miniprogress))return`<xg-mini-progress class="xg-mini-progress">
    <xg-mini-progress-cache class="xg-mini-progress-cache"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played"></xg-mini-progress-played>
    </xg-mini-progress>`}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{}}}]),r}(Le),lr={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",FRAME_RATE:"framerate",POSTER:"poster"};function jb(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function Wb(){try{var t=document.createElement("canvas").getContext;return!!t}catch{return!1}}var Ur=null,Vb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onLoadedData",function(s){!n.player||(n._frameCount=n.config.startFrameCount,n.renderOnTimeupdate(s),n.off(Tt,n.renderOnTimeupdate),n.on(Tt,n.renderOnTimeupdate))}),H(I(n),"renderOnTimeupdate",function(s){n._frameCount>0?(n.renderOnce(),n._frameCount--):(n._isLoaded=!0,n.off(Tt,n.renderOnTimeupdate),!n.player.paused&&n._checkIfCanStart()&&n.start())}),H(I(n),"start",function(){var s=n.player.media,l=jb(),u=n.checkVideoIsSupport(s);!u||!n.canvasCtx||(n.stop(),s.videoWidth&&s.videoHeight&&(n.videoPI=s.videoHeight>0?parseInt(s.videoWidth/s.videoHeight*100,10):0,(n.config.mode===lr.REAL_TIME||l-n.preTime>=n.interval)&&(s&&s.videoWidth&&n.update(u,n.videoPI),n.preTime=l)),n.frameId=m.requestAnimationFrame(n.start))}),H(I(n),"stop",function(){n.frameId&&(m.cancelAnimationFrame(n.frameId),n.frameId=null)}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),r.isSupport||(this.config.disable=!0);var o=this.config,a=o.disable,s=o.mode,l=o.frameRate;a||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/l,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this.once(Ei,function(){!e.player||(e.init(),e.player.paused||e.start())}),s!==lr.POSTER&&(s!==lr.FIRST_FRAME&&(this.on(qn,function(){e.stop()}),this.on(Ct,function(){e._checkIfCanStart()&&e.start()}),this.on(Kn,function(){e.stop()})),this.on(rn,this.onLoadedData),this.on(pa,function(){e._isLoaded=!1,e.stop()})))}},{key:"init",value:function(){var e=this.player,o=this.config;this.canvasFilter=r.supportCanvasFilter();try{var a=this.config.isInnerRender&&e.innerContainer||e.root;a.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(o.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=a.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=o.filter,this.canvas.style.webkitFilter=o.filter),this.mask=this.find("xgmask"),o.addMask&&(this.mask.style.background=o.maskBg),this.canvasCtx=this.canvas.getContext("2d"),this.renderByPoster()}catch(s){Se.logError("plugin:DynamicBg",s)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var o=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(o&&!(ve.browser==="safari"&&(/^blob/.test(o.currentSrc)||/^blob/.test(o.src))))return o;var a=o?o.tagName.toLowerCase():"";return a==="canvas"||a==="img"?o:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var o=m.typeOf(e)==="String"?e:m.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(o)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&e!==lr.FIRST_FRAME&&e!==lr.POSTER}},{key:"renderOnce",value:function(){var e=this.player.media;if(!(!e.videoWidth||!e.videoHeight)){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var o=this.checkVideoIsSupport(e);o&&e.videoWidth&&this.update(o,this.videoPI)}}},{key:"updateImg",value:function(e){var o=this;if(!!e){var a=this.canvas.getBoundingClientRect(),s=a.width,l=a.height,u=new window.Image;u.onload=function(){if(!(!o.canvas||o.frameId||o.isStart)){o.canvas.height=l,o.canvas.width=s;var c=parseInt(s/l*100,10);o.update(u,c),u=null}},u.src=e}}},{key:"update",value:function(e,o){if(!(!this.canvas||!this.canvasCtx||!o))try{var a=this._pos,s=this.config,l=this.canvas.getBoundingClientRect(),u=l.width,c=l.height;if(u!==a.width||c!==a.height||a.pi!==o){var d=parseInt(u/c*100,10);a.pi=o,a.width=this.canvas.width=u,a.height=this.canvas.height=c;var f=c,h=u;d<o?h=parseInt(c*o/100,10):d>o&&(f=parseInt(u*100/o,10)),a.rwidth=h*s.multiple,a.rheight=f*s.multiple,a.x=(u-a.rwidth)/2,a.y=(c-a.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=s.filter),this.canvasCtx.drawImage(e,a.x,a.y,a.rwidth,a.rheight)}catch(g){Se.logError("plugin:DynamicBg",g)}}},{key:"destroy",value:function(){this.stop(),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Ur=="boolean"||(Ur=Wb()),Ur}},{key:"supportCanvasFilter",value:function(){return!(ve.browser==="safari"||ve.browser==="firefox")}}]),r}(Le),Gb={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"\u89C6\u9891\u4E0B\u8F7D\u9519\u8BEF"},mse:{code:2,msg:"\u6D41\u8FFD\u52A0\u9519\u8BEF"},parse:{code:3,msg:"\u89E3\u6790\u9519\u8BEF"},format:{code:4,msg:"\u683C\u5F0F\u9519\u8BEF"},decoder:{code:5,msg:"\u89E3\u7801\u9519\u8BEF"},runtime:{code:6,msg:"\u8BED\u6CD5\u9519\u8BEF"},timeout:{code:7,msg:"\u64AD\u653E\u8D85\u65F6"},other:{code:8,msg:"\u5176\u4ED6\u9519\u8BEF"}},HAVE_NOTHING:"\u6CA1\u6709\u5173\u4E8E\u97F3\u9891/\u89C6\u9891\u662F\u5426\u5C31\u7EEA\u7684\u4FE1\u606F",HAVE_METADATA:"\u97F3\u9891/\u89C6\u9891\u7684\u5143\u6570\u636E\u5DF2\u5C31\u7EEA",HAVE_CURRENT_DATA:"\u5173\u4E8E\u5F53\u524D\u64AD\u653E\u4F4D\u7F6E\u7684\u6570\u636E\u662F\u53EF\u7528\u7684\uFF0C\u4F46\u6CA1\u6709\u8DB3\u591F\u7684\u6570\u636E\u6765\u64AD\u653E\u4E0B\u4E00\u5E27/\u6BEB\u79D2",HAVE_FUTURE_DATA:"\u5F53\u524D\u53CA\u81F3\u5C11\u4E0B\u4E00\u5E27\u7684\u6570\u636E\u662F\u53EF\u7528\u7684",HAVE_ENOUGH_DATA:"\u53EF\u7528\u6570\u636E\u8DB3\u4EE5\u5F00\u59CB\u64AD\u653E",NETWORK_EMPTY:"\u97F3\u9891/\u89C6\u9891\u5C1A\u672A\u521D\u59CB\u5316",NETWORK_IDLE:"\u97F3\u9891/\u89C6\u9891\u662F\u6D3B\u52A8\u7684\u4E14\u5DF2\u9009\u53D6\u8D44\u6E90\uFF0C\u4F46\u5E76\u672A\u4F7F\u7528\u7F51\u7EDC",NETWORK_LOADING:"\u6D4F\u89C8\u5668\u6B63\u5728\u4E0B\u8F7D\u6570\u636E",NETWORK_NO_SOURCE:"\u672A\u627E\u5230\u97F3\u9891/\u89C6\u9891\u6765\u6E90",MEDIA_ERR_ABORTED:"\u53D6\u56DE\u8FC7\u7A0B\u88AB\u7528\u6237\u4E2D\u6B62",MEDIA_ERR_NETWORK:"\u7F51\u7EDC\u9519\u8BEF",MEDIA_ERR_DECODE:"\u89E3\u7801\u9519\u8BEF",MEDIA_ERR_SRC_NOT_SUPPORTED:"\u4E0D\u652F\u6301\u7684\u97F3\u9891/\u89C6\u9891\u683C\u5F0F",REPLAY:"\u91CD\u64AD",ERROR:"\u7F51\u7EDC\u8FDE\u63A5\u4F3C\u4E4E\u51FA\u73B0\u4E86\u95EE\u9898",PLAY_TIPS:"\u64AD\u653E",PAUSE_TIPS:"\u6682\u505C",PLAYNEXT_TIPS:"\u4E0B\u4E00\u96C6",DOWNLOAD_TIPS:"\u4E0B\u8F7D",ROTATE_TIPS:"\u65CB\u8F6C",RELOAD_TIPS:"\u91CD\u65B0\u8F7D\u5165",FULLSCREEN_TIPS:"\u8FDB\u5165\u5168\u5C4F",EXITFULLSCREEN_TIPS:"\u9000\u51FA\u5168\u5C4F",CSSFULLSCREEN_TIPS:"\u8FDB\u5165\u6837\u5F0F\u5168\u5C4F",EXITCSSFULLSCREEN_TIPS:"\u9000\u51FA\u6837\u5F0F\u5168\u5C4F",TEXTTRACK:"\u5B57\u5E55",PIP:"\u753B\u4E2D\u753B",SCREENSHOT:"\u622A\u56FE",LIVE:"\u6B63\u5728\u76F4\u64AD",OFF:"\u5173\u95ED",OPEN:"\u5F00\u542F",MINI_DRAG:"\u70B9\u51FB\u6309\u4F4F\u53EF\u62D6\u52A8\u89C6\u9891",MINISCREEN:"\u5C0F\u5C4F\u5E55",REFRESH_TIPS:"\u8BF7\u8BD5\u8BD5",REFRESH:"\u5237\u65B0",FORWARD:"\u5FEB\u8FDB\u4E2D",LIVE_TIP:"\u76F4\u64AD"}},ur="info",yo=ic,Kb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"_recordUserActions",function(s){var l=n._getTime(),u=Object.assign({},s,{msg:s.msg||s.action});n._stats[ur].push(Ze(Ze({type:"userAction"},l),{},{payload:u}))}),H(I(n),"_onReset",function(){n.reset()}),H(I(n),"_recordInfo",function(s){n.info(s)}),H(I(n),"_downloadStats",function(){var s=n.getStats(),l=new Blob([JSON.stringify(s)],{type:"application/json"}),u=window.URL.createObjectURL(l),c=document.createElement("a");c.style.display="none",c.href=u,c.download="player.txt",c.disabled=!1,c.click()}),n}return oe(r,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(di,this._recordUserActions),this.on(yo.STATS_INFO,this._recordInfo),this.on(yo.STATS_DOWNLOAD,this._downloadStats),this.on(yo.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var o=this._getTime();this._stats[ur].push(Ze(Ze({},o),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var o=Date.now(),a=o-e.startMs,s=Ze({cat:"function",dur:a,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(s)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},H(e,ur,[]),H(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,o=e.media,a=[],s=0;s<o.buffered.length;s++)a.push({start:o.buffered.start(s),end:o.buffered.end(s)});var l={currentTime:o.currentTime,readyState:o.readyState,buffered:a,paused:o.paused,ended:o.ended};return this._stats.media=l,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[ur],o=e.map(function(a){var s=a.payload.data,l="";try{s instanceof Error?l=s.msg:s!==void 0&&(l=JSON.stringify(s))}catch(u){console.log("err",u)}return"[".concat(a.timeFormat,"] : ").concat(a.payload.msg," ").concat(l," ")});return o}},{key:"_getProfile",value:function(){var e={traceEvents:[]},o=this._stats[ur];return o.forEach(function(a){a.payload.profile&&e.traceEvents.push(a.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),r}(bn),fc=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onGapJump",function(){var s=I(n),l=s.player,u=s.config;if(l.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(l.media.seeking){if(!n.seekingEventReceived)return}else n.seekingEventReceived=!1;if(!(l.media.paused&&l.media.currentTime!==0&&n.hasPlayed)){var c=l.media.buffered,d=u.smallGapLimit||.5,f=u.gapDetectionThreshold||.3,h=l.media.currentTime,g=n._getIndex(c,h,f);if(!(g===null||g===0)){console.log("GapJump  bufferRange ",c.start(g),c.end(g));var v=c.start(g)+.1,b=l.media.duration;if(!(v>b)){var y=v-h,w=y<=d;y<r.BROWSER_GAP_TOLERANCE||w&&(u.useGapJump!==!1&&(l.media.currentTime=n.isSafari?v+.1:v),n.player&&n.player.emit("detectGap"),console.log("gapJump gapIndex",g," isGapSamll:",w," currentTime:",l.media.currentTime," jumpSize:",h-l.media.currentTime),v!==.08&&l&&l.emit("log",{type:"oneevent",end_type:"gap",vid:l.config.vid,ext:{video_postion:Math.floor(v*1e3)}}))}}}}}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this,o=this.config.useGapJump;o!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Pr,this.onGapJump),this.on(Ct,function(){e.hasPlayed=!0}),this.on(ga,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,o,a){if(!e||!e.length||e.length===1&&e.end(0)-e.start(0)<1e-6)return null;for(var s=this._getBuffered(e),l=null,u=0;u<s.length;u++){var c=s[u];if(c.start>o&&(u===0||s[u-1].end-o<=a)){l=u;break}}return l}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var o=[],a=0;a<e.length;a++)o.push({start:e.start(a),end:e.end(a)});return o}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),r}(Le);fc.BROWSER_GAP_TOLERANCE=.001;var qb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"onWaiting",function(){var s=I(n),l=s.config;n.jumpCnt>l.jumpCntMax||n.timer||l.useWaitingTimeoutJump===!1||(n.timer=setTimeout(n.onJump,l.waitingTime*1e3))}),H(I(n),"onJump",function(){var s=I(n),l=s.player,u=s.config;if(clearTimeout(n.timer),n.timer=null,!(n.jumpCnt>u.jumpCntMax||u.useWaitingTimeoutJump===!1)&&!(l.media.paused&&l.media.currentTime!==0&&n.hasPlayed)){n.jumpSize=u.jumpSize*(n.jumpCnt+1),n.jumpCnt===u.jumpSize&&n.jumpSize<6&&(n.jumpSize=6);var c=l.currentTime+n.jumpSize,d=l.media.duration;c>d||(console.log("waitintTimeout, currentTime:",l.currentTime,", jumpTo:",c),n.jumpCnt++,l.currentTime=c)}}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this,o=this.config,a=o.useWaitingTimeoutJump,s=o.jumpSize;a!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=s,this.on(Pr,this.onWaiting),this.on([ha,Wt],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(Ct,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),r}(Le),Mn="cdn",jr=["cdn"],Yb=function(t){he(r,t);var i=ge(r);function r(){var n;ie(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o)),H(I(n),"getSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mn;if(!n.speedListCache||!n.speedListCache[s]||n.speedListCache[s].length<=0)return 0;var l=0;return n.speedListCache[s].map(function(u){l+=u}),Math.floor(l/n.speedListCache[s].length)}),H(I(n),"startTimer",function(){m.isMSE(n.player.video)||(n.initSpeedList(),n.cnt=0,n.timer=setTimeout(n.testSpeed,n.config.testTimeStep))}),H(I(n),"initSpeedList",function(){n.speedListCache={},jr.forEach(function(s){n.speedListCache[s]=[]})}),H(I(n),"_onRealSpeedChange",function(s){s.speed&&n.appendList(s.speed,s.type||Mn)}),H(I(n),"testSpeed",function(){if(clearTimeout(n.timer),n.timer=null,!(!n.player||!n.config.openSpeed)){var s=n.config,l=s.url,u=s.loadSize,c=s.testCnt,d=s.testTimeStep,f=l+(l.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(n.cnt>=c)){n.cnt++;try{var h=new Date().getTime(),g=null,v=new XMLHttpRequest;n.xhr=v,v.open("GET",f);var b={},y=Math.floor(Math.random()*10);b.Range="bytes="+y+"-"+(u+y),b&&Object.keys(b).forEach(function(w){v.setRequestHeader(w,b[w])}),v.onreadystatechange=function(){if(v.readyState===4){n.xhr=null,g=new Date().getTime();var w=v.getResponseHeader("Content-Length")/1024*8,C=Math.round(w*1e3/(g-h));n.appendList(C),n.timer=setTimeout(n.testSpeed,d)}},v.send()}catch(w){console.error(w)}}}}),H(I(n),"appendList",function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mn;if(!(!n.speedListCache||!n.speedListCache[l])){var u=n.config.saveSpeedMax;n.speedListCache[l].length>=u&&n.speedListCache[l].shift(),n.speedListCache[l].push(s);var c=I(n),d=c.player;d&&(l===Mn?d.realTimeSpeed=s:d[n.getSpeedName("realTime",l)]=s),n.updateSpeed(l)}}),H(I(n),"updateSpeed",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mn,l=n.getSpeed(s),u=I(n),c=u.player;if(c)if(s===Mn)(!c.avgSpeed||l!==c.avgSpeed)&&(c.avgSpeed=l,c.emit(Ho,{speed:l,realTimeSpeed:c.realTimeSpeed}));else{var d=n.getSpeedName("avg",s);(!c[d]||l!==c[d])&&(c[d]=l,c.emit(Ho,{speed:l,realTimeSpeed:c.realTimeSpeed}))}}),n}return oe(r,[{key:"afterCreate",value:function(){var e=this.config,o=e.openSpeed,a=e.addSpeedTypeList;(a==null?void 0:a.length)>0&&jr.push.apply(jr,Vt(a)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,o&&this.on([rn,si],this.startTimer)}},{key:"getSpeedName",value:function(e,o){return e+"Speed"+o.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([rn,si],this.startTimer),jr.forEach(function(o){e.speedListCache&&e.speedListCache[o]&&(e.speedListCache[o]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),r}(Le),Xb=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r,[{key:"afterCreate",value:function(){var e=this,o=this.player,a=this.config;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!a.disabled){var s=o.media.getVideoPlaybackQuality;!s||(this.on(Ct,function(){e._startTick()}),this.on(Kn,function(){e._stopTick()}),this.on(wn,function(){e._stopTick()}),this.on(qn,function(){e._stopTick()}))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkStuck",value:function(e,o,a,s){var l=this.player.media,u=document.hidden,c=l.paused;if(typeof u=="boolean"&&!u&&!c){for(var d=l.currentTime,f=l.buffered,h=!1,g=[],v=0;v<f.length;v++){var b=f.start(v),y=f.end(v);if(g.push({start:b,end:y}),b<=d&&d<=y-1){h=!0;break}}l.readyState===4&&h&&(this._currentStuckCount>this.config.stuckCount?(this.emit(oc,this._payload),this._reset()):e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({bufs:g,currentTime:l.currentTime,curDecodedFrames:e,totalVideoFrames:o,droppedVideoFrames:a,checkInterval:s})):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){if(!!this.player.media){var e=this.player.media.getVideoPlaybackQuality(),o=e.totalVideoFrames,a=e.droppedVideoFrames,s=performance.now();if(o&&this._lastCheckPoint){var l=o-this._lastDecodedFrames,u=s-this._lastCheckPoint;this._checkStuck(l,o,a,u)}this._lastDecodedFrames=o,this._lastCheckPoint=s}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),r}(Le);$n.use(Gb);var Zb=oe(function t(i,r){var n,e,o;ie(this,t);var a=r&&r.isMobileSimulateMode==="mobile",s=r.isLive,l=s?[]:[lb,Ub,zb,pb],u=[].concat(l,[ub,gb,Cb,Tb,Lb,Db,Rb,Ab,bb,Sb]),c=[H1,U1,W1,ob,V1,Nb,Bb,Hb,Y1];this.plugins=[Kb,$1].concat(Vt(u),c,[fc,qb]);var d=a?"mobile":ve.device;switch(d){case"pc":(n=this.plugins).push.apply(n,[rl,vo,ol,Yb,Xb]);break;case"mobile":(e=this.plugins).push.apply(e,[tb]);break;default:(o=this.plugins).push.apply(o,[rl,vo,ol])}(ve.os.isIpad||d==="pc")&&this.plugins.push(Vb),ve.os.isIpad&&this.plugins.push(vo),this.ignores=[],this.i18n=[]}),Ft=function(t){he(r,t);var i=ge(r);function r(){return ie(this,r),i.apply(this,arguments)}return oe(r)}(xa);H(Ft,"defaultPreset",Zb);H(Ft,"Util",m);H(Ft,"Sniffer",ve);H(Ft,"Errors",ai);H(Ft,"Events",p1);H(Ft,"Plugin",Le);H(Ft,"BasePlugin",bn);H(Ft,"I18N",$n);H(Ft,"STATE_CLASS",V);function hc(t,i){return function(){return t.apply(i,arguments)}}const{toString:Jb}=Object.prototype,{getPrototypeOf:Ta}=Object,Ai=(t=>i=>{const r=Jb.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=t=>(t=t.toLowerCase(),i=>Ai(i)===t),Ii=t=>i=>typeof i===t,{isArray:Yn}=Array,xr=Ii("undefined");function Qb(t){return t!==null&&!xr(t)&&t.constructor!==null&&!xr(t.constructor)&&wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gc=Mt("ArrayBuffer");function ew(t){let i;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&gc(t.buffer),i}const tw=Ii("string"),wt=Ii("function"),pc=Ii("number"),Oi=t=>t!==null&&typeof t=="object",nw=t=>t===!0||t===!1,qr=t=>{if(Ai(t)!=="object")return!1;const i=Ta(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rw=Mt("Date"),iw=Mt("File"),ow=Mt("Blob"),aw=Mt("FileList"),sw=t=>Oi(t)&&wt(t.pipe),lw=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||wt(t.append)&&((i=Ai(t))==="formdata"||i==="object"&&wt(t.toString)&&t.toString()==="[object FormData]"))},uw=Mt("URLSearchParams"),cw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rr(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t=="undefined")return;let n,e;if(typeof t!="object"&&(t=[t]),Yn(t))for(n=0,e=t.length;n<e;n++)i.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(n=0;n<a;n++)s=o[n],i.call(null,t[s],s,t)}}function vc(t,i){i=i.toLowerCase();const r=Object.keys(t);let n=r.length,e;for(;n-- >0;)if(e=r[n],i===e.toLowerCase())return e;return null}const mc=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),yc=t=>!xr(t)&&t!==mc;function Wo(){const{caseless:t}=yc(this)&&this||{},i={},r=(n,e)=>{const o=t&&vc(i,e)||e;qr(i[o])&&qr(n)?i[o]=Wo(i[o],n):qr(n)?i[o]=Wo({},n):Yn(n)?i[o]=n.slice():i[o]=n};for(let n=0,e=arguments.length;n<e;n++)arguments[n]&&Rr(arguments[n],r);return i}const dw=(t,i,r,{allOwnKeys:n}={})=>(Rr(i,(e,o)=>{r&&wt(e)?t[o]=hc(e,r):t[o]=e},{allOwnKeys:n}),t),fw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hw=(t,i,r,n)=>{t.prototype=Object.create(i.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},gw=(t,i,r,n)=>{let e,o,a;const s={};if(i=i||{},t==null)return i;do{for(e=Object.getOwnPropertyNames(t),o=e.length;o-- >0;)a=e[o],(!n||n(a,t,i))&&!s[a]&&(i[a]=t[a],s[a]=!0);t=r!==!1&&Ta(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},pw=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;const n=t.indexOf(i,r);return n!==-1&&n===r},vw=t=>{if(!t)return null;if(Yn(t))return t;let i=t.length;if(!pc(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},mw=(t=>i=>t&&i instanceof t)(typeof Uint8Array!="undefined"&&Ta(Uint8Array)),yw=(t,i)=>{const n=(t&&t[Symbol.iterator]).call(t);let e;for(;(e=n.next())&&!e.done;){const o=e.value;i.call(t,o[0],o[1])}},bw=(t,i)=>{let r;const n=[];for(;(r=t.exec(i))!==null;)n.push(r);return n},ww=Mt("HTMLFormElement"),Cw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,e){return n.toUpperCase()+e}),ll=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),xw=Mt("RegExp"),bc=(t,i)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Rr(r,(e,o)=>{let a;(a=i(e,o,t))!==!1&&(n[o]=a||e)}),Object.defineProperties(t,n)},_w=t=>{bc(t,(i,r)=>{if(wt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(!!wt(n)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Sw=(t,i)=>{const r={},n=e=>{e.forEach(o=>{r[o]=!0})};return Yn(t)?n(t):n(String(t).split(i)),r},kw=()=>{},Tw=(t,i)=>(t=+t,Number.isFinite(t)?t:i),bo="abcdefghijklmnopqrstuvwxyz",ul="0123456789",wc={DIGIT:ul,ALPHA:bo,ALPHA_DIGIT:bo+bo.toUpperCase()+ul},Ew=(t=16,i=wc.ALPHA_DIGIT)=>{let r="";const{length:n}=i;for(;t--;)r+=i[Math.random()*n|0];return r};function Pw(t){return!!(t&&wt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Rw=t=>{const i=new Array(10),r=(n,e)=>{if(Oi(n)){if(i.indexOf(n)>=0)return;if(!("toJSON"in n)){i[e]=n;const o=Yn(n)?[]:{};return Rr(n,(a,s)=>{const l=r(a,e+1);!xr(l)&&(o[s]=l)}),i[e]=void 0,o}}return n};return r(t,0)},Aw=Mt("AsyncFunction"),Iw=t=>t&&(Oi(t)||wt(t))&&wt(t.then)&&wt(t.catch);var B={isArray:Yn,isArrayBuffer:gc,isBuffer:Qb,isFormData:lw,isArrayBufferView:ew,isString:tw,isNumber:pc,isBoolean:nw,isObject:Oi,isPlainObject:qr,isUndefined:xr,isDate:rw,isFile:iw,isBlob:ow,isRegExp:xw,isFunction:wt,isStream:sw,isURLSearchParams:uw,isTypedArray:mw,isFileList:aw,forEach:Rr,merge:Wo,extend:dw,trim:cw,stripBOM:fw,inherits:hw,toFlatObject:gw,kindOf:Ai,kindOfTest:Mt,endsWith:pw,toArray:vw,forEachEntry:yw,matchAll:bw,isHTMLForm:ww,hasOwnProperty:ll,hasOwnProp:ll,reduceDescriptors:bc,freezeMethods:_w,toObjectSet:Sw,toCamelCase:Cw,noop:kw,toFiniteNumber:Tw,findKey:vc,global:mc,isContextDefined:yc,ALPHABET:wc,generateString:Ew,isSpecCompliantForm:Pw,toJSONObject:Rw,isAsyncFn:Aw,isThenable:Iw};function Te(t,i,r,n,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),r&&(this.config=r),n&&(this.request=n),e&&(this.response=e)}B.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cc=Te.prototype,xc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xc[t]={value:t}});Object.defineProperties(Te,xc);Object.defineProperty(Cc,"isAxiosError",{value:!0});Te.from=(t,i,r,n,e,o)=>{const a=Object.create(Cc);return B.toFlatObject(t,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Te.call(a,t.message,i,r,n,e),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var Ow=null;function Vo(t){return B.isPlainObject(t)||B.isArray(t)}function _c(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function cl(t,i,r){return t?t.concat(i).map(function(e,o){return e=_c(e),!r&&o?"["+e+"]":e}).join(r?".":""):i}function Lw(t){return B.isArray(t)&&!t.some(Vo)}const Dw=B.toFlatObject(B,{},null,function(i){return/^is[A-Z]/.test(i)});function Li(t,i,r){if(!B.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!B.isUndefined(b[v])});const n=r.metaTokens,e=r.visitor||c,o=r.dots,a=r.indexes,l=(r.Blob||typeof Blob!="undefined"&&Blob)&&B.isSpecCompliantForm(i);if(!B.isFunction(e))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(B.isDate(g))return g.toISOString();if(!l&&B.isBlob(g))throw new Te("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(g)||B.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,b){let y=g;if(g&&!b&&typeof g=="object"){if(B.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(B.isArray(g)&&Lw(g)||(B.isFileList(g)||B.endsWith(v,"[]"))&&(y=B.toArray(g)))return v=_c(v),y.forEach(function(C,S){!(B.isUndefined(C)||C===null)&&i.append(a===!0?cl([v],S,o):a===null?v:v+"[]",u(C))}),!1}return Vo(g)?!0:(i.append(cl(b,v,o),u(g)),!1)}const d=[],f=Object.assign(Dw,{defaultVisitor:c,convertValue:u,isVisitable:Vo});function h(g,v){if(!B.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),B.forEach(g,function(y,w){(!(B.isUndefined(y)||y===null)&&e.call(i,y,B.isString(w)?w.trim():w,v,f))===!0&&h(y,v?v.concat(w):[w])}),d.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return h(t),i}function dl(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return i[n]})}function Ea(t,i){this._pairs=[],t&&Li(t,this,i)}const Sc=Ea.prototype;Sc.append=function(i,r){this._pairs.push([i,r])};Sc.toString=function(i){const r=i?function(n){return i.call(this,n,dl)}:dl;return this._pairs.map(function(e){return r(e[0])+"="+r(e[1])},"").join("&")};function Fw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kc(t,i,r){if(!i)return t;const n=r&&r.encode||Fw,e=r&&r.serialize;let o;if(e?o=e(i,r):o=B.isURLSearchParams(i)?i.toString():new Ea(i,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Mw{constructor(){this.handlers=[]}use(i,r,n){return this.handlers.push({fulfilled:i,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){B.forEach(this.handlers,function(n){n!==null&&i(n)})}}var fl=Mw,Tc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nw=typeof URLSearchParams!="undefined"?URLSearchParams:Ea,Bw=typeof FormData!="undefined"?FormData:null,$w=typeof Blob!="undefined"?Blob:null;const zw=(()=>{let t;return typeof navigator!="undefined"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"})(),Hw=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var St={isBrowser:!0,classes:{URLSearchParams:Nw,FormData:Bw,Blob:$w},isStandardBrowserEnv:zw,isStandardBrowserWebWorkerEnv:Hw,protocols:["http","https","file","blob","url","data"]};function Uw(t,i){return Li(t,new St.classes.URLSearchParams,Object.assign({visitor:function(r,n,e,o){return St.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},i))}function jw(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Ww(t){const i={},r=Object.keys(t);let n;const e=r.length;let o;for(n=0;n<e;n++)o=r[n],i[o]=t[o];return i}function Ec(t){function i(r,n,e,o){let a=r[o++];const s=Number.isFinite(+a),l=o>=r.length;return a=!a&&B.isArray(e)?e.length:a,l?(B.hasOwnProp(e,a)?e[a]=[e[a],n]:e[a]=n,!s):((!e[a]||!B.isObject(e[a]))&&(e[a]=[]),i(r,n,e[a],o)&&B.isArray(e[a])&&(e[a]=Ww(e[a])),!s)}if(B.isFormData(t)&&B.isFunction(t.entries)){const r={};return B.forEachEntry(t,(n,e)=>{i(jw(n),e,r,0)}),r}return null}function Vw(t,i,r){if(B.isString(t))try{return(i||JSON.parse)(t),B.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Pa={transitional:Tc,adapter:St.isNode?"http":"xhr",transformRequest:[function(i,r){const n=r.getContentType()||"",e=n.indexOf("application/json")>-1,o=B.isObject(i);if(o&&B.isHTMLForm(i)&&(i=new FormData(i)),B.isFormData(i))return e&&e?JSON.stringify(Ec(i)):i;if(B.isArrayBuffer(i)||B.isBuffer(i)||B.isStream(i)||B.isFile(i)||B.isBlob(i))return i;if(B.isArrayBufferView(i))return i.buffer;if(B.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Uw(i,this.formSerializer).toString();if((s=B.isFileList(i))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Li(s?{"files[]":i}:i,l&&new l,this.formSerializer)}}return o||e?(r.setContentType("application/json",!1),Vw(i)):i}],transformResponse:[function(i){const r=this.transitional||Pa.transitional,n=r&&r.forcedJSONParsing,e=this.responseType==="json";if(i&&B.isString(i)&&(n&&!this.responseType||e)){const a=!(r&&r.silentJSONParsing)&&e;try{return JSON.parse(i)}catch(s){if(a)throw s.name==="SyntaxError"?Te.from(s,Te.ERR_BAD_RESPONSE,this,null,this.response):s}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Pa.headers[t]={}});var Ra=Pa;const Gw=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Kw=t=>{const i={};let r,n,e;return t&&t.split(`
`).forEach(function(a){e=a.indexOf(":"),r=a.substring(0,e).trim().toLowerCase(),n=a.substring(e+1).trim(),!(!r||i[r]&&Gw[r])&&(r==="set-cookie"?i[r]?i[r].push(n):i[r]=[n]:i[r]=i[r]?i[r]+", "+n:n)}),i};const hl=Symbol("internals");function cr(t){return t&&String(t).trim().toLowerCase()}function Yr(t){return t===!1||t==null?t:B.isArray(t)?t.map(Yr):String(t)}function qw(t){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)i[n[1]]=n[2];return i}const Yw=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wo(t,i,r,n,e){if(B.isFunction(n))return n.call(this,i,r);if(e&&(i=r),!!B.isString(i)){if(B.isString(n))return i.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(i)}}function Xw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,n)=>r.toUpperCase()+n)}function Zw(t,i){const r=B.toCamelCase(" "+i);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(e,o,a){return this[n].call(this,i,e,o,a)},configurable:!0})})}class Di{constructor(i){i&&this.set(i)}set(i,r,n){const e=this;function o(s,l,u){const c=cr(l);if(!c)throw new Error("header name must be a non-empty string");const d=B.findKey(e,c);(!d||e[d]===void 0||u===!0||u===void 0&&e[d]!==!1)&&(e[d||l]=Yr(s))}const a=(s,l)=>B.forEach(s,(u,c)=>o(u,c,l));return B.isPlainObject(i)||i instanceof this.constructor?a(i,r):B.isString(i)&&(i=i.trim())&&!Yw(i)?a(Kw(i),r):i!=null&&o(r,i,n),this}get(i,r){if(i=cr(i),i){const n=B.findKey(this,i);if(n){const e=this[n];if(!r)return e;if(r===!0)return qw(e);if(B.isFunction(r))return r.call(this,e,n);if(B.isRegExp(r))return r.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=cr(i),i){const n=B.findKey(this,i);return!!(n&&this[n]!==void 0&&(!r||wo(this,this[n],n,r)))}return!1}delete(i,r){const n=this;let e=!1;function o(a){if(a=cr(a),a){const s=B.findKey(n,a);s&&(!r||wo(n,n[s],s,r))&&(delete n[s],e=!0)}}return B.isArray(i)?i.forEach(o):o(i),e}clear(i){const r=Object.keys(this);let n=r.length,e=!1;for(;n--;){const o=r[n];(!i||wo(this,this[o],o,i,!0))&&(delete this[o],e=!0)}return e}normalize(i){const r=this,n={};return B.forEach(this,(e,o)=>{const a=B.findKey(n,o);if(a){r[a]=Yr(e),delete r[o];return}const s=i?Xw(o):String(o).trim();s!==o&&delete r[o],r[s]=Yr(e),n[s]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return B.forEach(this,(n,e)=>{n!=null&&n!==!1&&(r[e]=i&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const n=new this(i);return r.forEach(e=>n.set(e)),n}static accessor(i){const n=(this[hl]=this[hl]={accessors:{}}).accessors,e=this.prototype;function o(a){const s=cr(a);n[s]||(Zw(e,a),n[s]=!0)}return B.isArray(i)?i.forEach(o):o(i),this}}Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Di.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(n){this[r]=n}}});B.freezeMethods(Di);var Gt=Di;function Co(t,i){const r=this||Ra,n=i||r,e=Gt.from(n.headers);let o=n.data;return B.forEach(t,function(s){o=s.call(r,o,e.normalize(),i?i.status:void 0)}),e.normalize(),o}function Pc(t){return!!(t&&t.__CANCEL__)}function Ar(t,i,r){Te.call(this,t==null?"canceled":t,Te.ERR_CANCELED,i,r),this.name="CanceledError"}B.inherits(Ar,Te,{__CANCEL__:!0});function Jw(t,i,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):i(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var Qw=St.isStandardBrowserEnv?function(){return{write:function(r,n,e,o,a,s){const l=[];l.push(r+"="+encodeURIComponent(n)),B.isNumber(e)&&l.push("expires="+new Date(e).toGMTString()),B.isString(o)&&l.push("path="+o),B.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function eC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function tC(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t}function Rc(t,i){return t&&!eC(i)?tC(t,i):i}var nC=St.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function e(o){let a=o;return i&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=e(window.location.href),function(a){const s=B.isString(a)?e(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function rC(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function iC(t,i){t=t||10;const r=new Array(t),n=new Array(t);let e=0,o=0,a;return i=i!==void 0?i:1e3,function(l){const u=Date.now(),c=n[o];a||(a=u),r[e]=l,n[e]=u;let d=o,f=0;for(;d!==e;)f+=r[d++],d=d%t;if(e=(e+1)%t,e===o&&(o=(o+1)%t),u-a<i)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function gl(t,i){let r=0;const n=iC(50,250);return e=>{const o=e.loaded,a=e.lengthComputable?e.total:void 0,s=o-r,l=n(s),u=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:e};c[i?"download":"upload"]=!0,t(c)}}const oC=typeof XMLHttpRequest!="undefined";var aC=oC&&function(t){return new Promise(function(r,n){let e=t.data;const o=Gt.from(t.headers).normalize(),a=t.responseType;let s;function l(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}B.isFormData(e)&&(St.isStandardBrowserEnv||St.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(h+":"+g))}const c=Rc(t.baseURL,t.url);u.open(t.method.toUpperCase(),kc(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const h=Gt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:t,request:u};Jw(function(y){r(y),l()},function(y){n(y),l()},v),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){!u||(n(new Te("Request aborted",Te.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new Te("Network Error",Te.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||Tc;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new Te(g,v.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,u)),u=null},St.isStandardBrowserEnv){const h=(t.withCredentials||nC(c))&&t.xsrfCookieName&&Qw.read(t.xsrfCookieName);h&&o.set(t.xsrfHeaderName,h)}e===void 0&&o.setContentType(null),"setRequestHeader"in u&&B.forEach(o.toJSON(),function(g,v){u.setRequestHeader(v,g)}),B.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",gl(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",gl(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=h=>{!u||(n(!h||h.type?new Ar(null,t,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const f=rC(c);if(f&&St.protocols.indexOf(f)===-1){n(new Te("Unsupported protocol "+f+":",Te.ERR_BAD_REQUEST,t));return}u.send(e||null)})};const Xr={http:Ow,xhr:aC};B.forEach(Xr,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});var Ac={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:i}=t;let r,n;for(let e=0;e<i&&(r=t[e],!(n=B.isString(r)?Xr[r.toLowerCase()]:r));e++);if(!n)throw n===!1?new Te(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(B.hasOwnProp(Xr,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!B.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Xr};function xo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ar(null,t)}function pl(t){return xo(t),t.headers=Gt.from(t.headers),t.data=Co.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ac.getAdapter(t.adapter||Ra.adapter)(t).then(function(n){return xo(t),n.data=Co.call(t,t.transformResponse,n),n.headers=Gt.from(n.headers),n},function(n){return Pc(n)||(xo(t),n&&n.response&&(n.response.data=Co.call(t,t.transformResponse,n.response),n.response.headers=Gt.from(n.response.headers))),Promise.reject(n)})}const vl=t=>t instanceof Gt?t.toJSON():t;function Un(t,i){i=i||{};const r={};function n(u,c,d){return B.isPlainObject(u)&&B.isPlainObject(c)?B.merge.call({caseless:d},u,c):B.isPlainObject(c)?B.merge({},c):B.isArray(c)?c.slice():c}function e(u,c,d){if(B.isUndefined(c)){if(!B.isUndefined(u))return n(void 0,u,d)}else return n(u,c,d)}function o(u,c){if(!B.isUndefined(c))return n(void 0,c)}function a(u,c){if(B.isUndefined(c)){if(!B.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,d){if(d in i)return n(u,c);if(d in t)return n(void 0,u)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c)=>e(vl(u),vl(c),!0)};return B.forEach(Object.keys(Object.assign({},t,i)),function(c){const d=l[c]||e,f=d(t[c],i[c],c);B.isUndefined(f)&&d!==s||(r[c]=f)}),r}const Ic="1.5.0",Aa={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{Aa[t]=function(n){return typeof n===t||"a"+(i<1?"n ":" ")+t}});const ml={};Aa.transitional=function(i,r,n){function e(o,a){return"[Axios v"+Ic+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(i===!1)throw new Te(e(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!ml[a]&&(ml[a]=!0,console.warn(e(a," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(o,a,s):!0}};function sC(t,i,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let e=n.length;for(;e-- >0;){const o=n[e],a=i[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new Te("option "+o+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}var Go={assertOptions:sC,validators:Aa};const Jt=Go.validators;class vi{constructor(i){this.defaults=i,this.interceptors={request:new fl,response:new fl}}request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=Un(this.defaults,r);const{transitional:n,paramsSerializer:e,headers:o}=r;n!==void 0&&Go.assertOptions(n,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),e!=null&&(B.isFunction(e)?r.paramsSerializer={serialize:e}:Go.assertOptions(e,{encode:Jt.function,serialize:Jt.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&B.merge(o.common,o[r.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=Gt.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!l){const g=[pl.bind(this),void 0];for(g.unshift.apply(g,s),g.push.apply(g,u),f=g.length,c=Promise.resolve(r);d<f;)c=c.then(g[d++],g[d++]);return c}f=s.length;let h=r;for(d=0;d<f;){const g=s[d++],v=s[d++];try{h=g(h)}catch(b){v.call(this,b);break}}try{c=pl.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(i){i=Un(this.defaults,i);const r=Rc(i.baseURL,i.url);return kc(r,i.params,i.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(i){vi.prototype[i]=function(r,n){return this.request(Un(n||{},{method:i,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(i){function r(n){return function(o,a,s){return this.request(Un(s||{},{method:i,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}vi.prototype[i]=r(),vi.prototype[i+"Form"]=r(!0)});var Zr=vi;class Ia{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(e=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](e);n._listeners=null}),this.promise.then=e=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(e);return a.cancel=function(){n.unsubscribe(o)},a},i(function(o,a,s){n.reason||(n.reason=new Ar(o,a,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}static source(){let i;return{token:new Ia(function(e){i=e}),cancel:i}}}var lC=Ia;function uC(t){return function(r){return t.apply(null,r)}}function cC(t){return B.isObject(t)&&t.isAxiosError===!0}const Ko={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ko).forEach(([t,i])=>{Ko[i]=t});var dC=Ko;function Oc(t){const i=new Zr(t),r=hc(Zr.prototype.request,i);return B.extend(r,Zr.prototype,i,{allOwnKeys:!0}),B.extend(r,i,null,{allOwnKeys:!0}),r.create=function(e){return Oc(Un(t,e))},r}const nt=Oc(Ra);nt.Axios=Zr;nt.CanceledError=Ar;nt.CancelToken=lC;nt.isCancel=Pc;nt.VERSION=Ic;nt.toFormData=Li;nt.AxiosError=Te;nt.Cancel=nt.CanceledError;nt.all=function(i){return Promise.all(i)};nt.spread=uC;nt.isAxiosError=cC;nt.mergeConfig=Un;nt.AxiosHeaders=Gt;nt.formToJSON=t=>Ec(B.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=Ac.getAdapter;nt.HttpStatusCode=dC;nt.default=nt;var Oa=nt;const{Axios:SC,AxiosError:mi,CanceledError:kC,isCancel:TC,CancelToken:EC,VERSION:PC,all:RC,Cancel:AC,isAxiosError:IC,spread:OC,toFormData:LC,AxiosHeaders:DC,HttpStatusCode:FC,formToJSON:MC,getAdapter:NC,mergeConfig:BC}=Oa;var La=(t=>(t.JSON="application/json;charset=UTF-8",t.TEXT="text/htm/:charset=UTF-8",t.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",t.FORM_DATA="multipart/form-data;charset=UTF-8",t))(La||{});const fC=1e4,Da=Oa.create({baseURL:"https://eapuapi.haoxinqing.cn/hxq-eap-user-api",timeout:fC,headers:{"Content-Type":La.FORM_DATA}});Da.interceptors.request.use(t=>t);Da.interceptors.response.use(t=>t.data.code===2e3?Promise.resolve(t.data):Promise.reject(new mi(t.data.message,t.data.code)),()=>Promise.reject(new mi("\u4E0A\u4F20\u5931\u8D25~","-1")));const hC={uploadImg(t){return Da.postForm("/upload/ossUpload/",{multipartFile:t})}},gC="https://dev-file.haoxinqing.cn/",Wr=(t,i="")=>{let r=gC;return t?t.startsWith("blob")||t.startsWith("http")?t:(r.endsWith("/")&&(r=r.slice(0,r.length-1)),t.startsWith("/")||(t="/"+t),i&&(t=t.concat(i)),r.concat(t)):""},pC=t=>{window.$message.error(t)},vC=1e7,yi=Oa.create({baseURL:"https://szrface.haoxinqing.cn",timeout:vC,headers:{"Content-Type":La.JSON}});yi.interceptors.request.use(t=>t);yi.interceptors.response.use(t=>(console.log("A\u8BF7\u6C42\u8FD4\u56DE\uFF1A",t),t.data.code===2e3?Promise.resolve(t.data):(console.log("\u4E1A\u52A1\u4EA4\u4E92\u8BF7\u6C42\u5931\u8D25\u8FD4\u56DEerror====",t.data),Promise.reject(new mi(t.data.message,t.data.code)))),t=>Promise.reject(new mi("\u7F51\u7EDC\u5F00\u5C0F\u5DEE~","-1")));const yl={requestCreateVideo(t){return yi.post("/send_video_info",t)},requestVideoUrl(t){return yi.get("/video/task?task_id="+t)}};var mC=(t,i)=>{const r=t.__vccOpts||t;for(const[n,e]of i)r[n]=e;return r};const Fa=t=>(rf("data-v-5101c9bb"),t=t(),of(),t),yC=Fa(()=>_i("img",{class:"hxq_logo",src:U0},null,-1)),bC=Fa(()=>_i("span",null,"\u597D\u5FC3\u60C5\u6570\u5B57\u4EBA",-1)),wC=Fa(()=>_i("div",{class:"div_player",id:"mse"},null,-1)),CC=["src"],xC=ce({__name:"index",setup(t){const i=c0(),r=U([]),n=U(""),e=U(!1),o=Wm(),a=U(),s=U(),l=Zd({content:"",background:"",person:0,audio:0}),u={content:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u6587\u672C"},person:{required:!0,type:"number",trigger:["blur","input"],message:"\u8BF7\u9009\u62E9\u4EBA\u7269"},audio:{required:!0,type:"number",trigger:["blur","input"],message:"\u8BF7\u9009\u62E9\u58F0\u97F3"},background:{required:!0,trigger:["blur","change"],validator(){if(!l.background)return new Error("\u8BF7\u4E0A\u4F20\u56FE\u7247")}}},c=U(""),d=U(""),f=()=>{const T=new Ft({id:"mse",url:c.value,width:"100%",autoplay:!0,lastPlayTime:0,poster:d.value,volume:1,fluid:!1,height:"500px ",defaultPlaybackRate:1,playbackRate:[.5,.75,1,1.5,2],lang:"zh-cn",fitVideoSize:"fixed",download:!0});T.on("durationchange",_=>{console.log("\u89C6\u9891\u65F6\u957F",_)}),T.on("timeupdate",_=>{}),T.on("requestFullscreen",()=>{console.log("\u8FDB\u5165\u5168\u5C4F")}),T.on("requestCssFullscreen",()=>{console.log("\u8FDB\u5165\u6837\u5F0F\u5168\u5C4F")}),T.on("play",_=>{console.log("\u64AD\u653E")}),T.on("playing",_=>{console.log("\u64AD\u653E\u4E2D")}),T.on("canplay",_=>{console.log("\u53EF\u4EE5\u64AD\u653E")}),T.on("pause",_=>{console.log("\u6682\u505C")}),T.on("ended",_=>{console.log("\u64AD\u653E\u7ED3\u675F")})};ht(()=>{setTimeout(()=>{f()},1e3)});const h=[{label:"\u5FC3\u5FC3",value:0},{label:"\u6674\u6717",value:1}],g=[{label:"\u5FC3\u5FC3",value:0}],v=T=>{let _=T.file.file;hC.uploadImg(_).then(M=>{r.value.push({id:Wr(M.result),name:Wr(M.result),status:"finished",url:Wr(M.result)}),l.background=Wr(M.result),s.value.restoreValidation()})},b=()=>{r.value=[],l.background=""},y=T=>{const{url:_}=T;n.value=_,e.value=!0};let w=0;const C=T=>{w=setInterval(()=>{console.log(w),(!c.value||c.value.length===0)&&yl.requestVideoUrl(T).then(_=>{_.result.video_url&&_.result.video_url.length>0&&(clearInterval(w),o.destroyAll(),c.value=_.result.video_url,f())})},5e3)},S=()=>{o.success({title:"\u63D0\u793A",content:"AI\u89C6\u9891\u5408\u6210\u4E2D...",maskClosable:!1,loading:!0,closable:!1}),c.value="",w!==0&&clearInterval(w);const T={background_url:l.background,info:l.content,gender:l.audio,speaker_id:l.person};yl.requestCreateVideo(T).then(_=>{C(_.result.task_id)},_=>{i.error(_.message),o.destroyAll()})},x=()=>{var T;(T=a.value)==null||T.validate(_=>{_?pC("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F"):S()})};return(T,_)=>{const M=Zm,E=tf,R=Pm,P=jy,D=Nm,A=H0,N=dr,j=iy,G=Vy,Q=qy,te=nf;return Qd(),Jd(M,{vertical:""},{default:et(()=>[Ye(E,{size:"small",style:{"font-weight":"bold","font-size":"18px"}},{default:et(()=>[Ye(M,{align:"center"},{default:et(()=>[yC,zi(),bC]),_:1})]),_:1}),Ye(Q,{cols:"4","item-responsive":""},{default:et(()=>[Ye(G,null,{default:et(()=>[Ye(M,null,{default:et(()=>[Ye(E,{class:"card_left"},{default:et(()=>[Ye(j,{ref_key:"formRef",ref:a,inline:"","label-width":80,model:Rt(l),rules:u},{default:et(()=>[Ye(M,{vertical:""},{default:et(()=>[Ye(P,{label:"\u8F93\u5165\u6587\u672C",path:"content"},{default:et(()=>[Ye(R,{value:Rt(l).content,"onUpdate:value":_[0]||(_[0]=F=>Rt(l).content=F),placeholder:"\u8F93\u5165\u8981\u751F\u4EA7\u7684\u6587\u672C",type:"textarea",rows:"5",size:"large",style:{width:"420px"}},null,8,["value"])]),_:1}),Ye(P,{label:"\u9009\u62E9\u4EBA\u7269",path:"person"},{default:et(()=>[Ye(D,{value:Rt(l).person,"onUpdate:value":_[1]||(_[1]=F=>Rt(l).person=F),options:h},null,8,["value"])]),_:1}),Ye(P,{label:"\u9009\u62E9\u58F0\u97F3",path:"audio"},{default:et(()=>[Ye(D,{value:Rt(l).audio,"onUpdate:value":_[2]||(_[2]=F=>Rt(l).audio=F),options:g},null,8,["value"])]),_:1}),Ye(P,{label:"\u4E0A\u4F20\u80CC\u666F\u56FE\u7247",path:"background",ref_key:"fromImage",ref:s},{default:et(()=>[Ye(A,{"file-list":Rt(r),onBeforeUpload:v,max:1,"list-type":"image-card",onPreview:y,onRemove:b,accept:".jpg, .jpeg, .png"},{default:et(()=>[zi(" \u70B9\u51FB\u4E0A\u4F20 ")]),_:1},8,["file-list"])]),_:1},512),Ye(P,null,{default:et(()=>[Ye(N,{"attr-type":"button",onClick:x,type:"info"},{default:et(()=>[zi(" \u63D0\u4EA4")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1}),Ye(G,{span:"0 400:1 600:2 800:3"},{default:et(()=>[Ye(E,{class:"card_video"},{default:et(()=>[Ye(M,{vertical:""},{default:et(()=>[wC]),_:1})]),_:1})]),_:1})]),_:1}),Ye(te,{show:Rt(e),"onUpdate:show":_[3]||(_[3]=F=>ef(e)?e.value=F:null),preset:"card",style:{width:"600px"},title:""},{default:et(()=>[_i("img",{src:Rt(n),style:{width:"100%"}},null,8,CC)]),_:1},8,["show"])]),_:1})}}});var $C=mC(xC,[["__scopeId","data-v-5101c9bb"]]);export{$C as default};
